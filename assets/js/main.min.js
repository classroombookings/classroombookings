function SortableTable(t,e){this.sortTypes=e||[],this.sortColumn=null,this.descending=null;var n=this;this._headerOnclick=function(t){n.headerOnclick(t)},t?(this.setTable(t),this.document=t.ownerDocument||t.document):this.document=document;var r=this.document.defaultView||this.document.parentWindow;this._onunload=function(){n.destroy()},r&&void 0!==r.attachEvent&&r.attachEvent("onunload",this._onunload)}SortableTable.gecko="Gecko"==navigator.product,SortableTable.msie=/msie/i.test(navigator.userAgent),SortableTable.removeBeforeSort=SortableTable.gecko,SortableTable.prototype.onsort=function(){},SortableTable.prototype.defaultDescending=!1,SortableTable.prototype._sortTypeInfo={},SortableTable.prototype.setTable=function(t){this.tHead&&this.uninitHeader(),this.element=t,this.setTHead(t.tHead),this.setTBody(t.tBodies[0])},SortableTable.prototype.setTHead=function(t){this.tHead&&this.tHead!=t&&this.uninitHeader(),this.tHead=t,this.initHeader(this.sortTypes)},SortableTable.prototype.setTBody=function(t){this.tBody=t},SortableTable.prototype.setSortTypes=function(t){this.tHead&&this.uninitHeader(),this.sortTypes=t||[],this.tHead&&this.initHeader(this.sortTypes)},SortableTable.prototype.initHeader=function(t){if(this.tHead){var e=this.tHead.rows[0].cells,n=this.tHead.ownerDocument||this.tHead.document;this.sortTypes=t||[];for(var r,o,i=e.length,s=0;s<i;s++)o=e[s],null!=this.sortTypes[s]&&"None"!=this.sortTypes[s]?((r=n.createElement("IMG")).src=window.BASE_URL+"assets/images/blank.png",o.appendChild(r),null!=this.sortTypes[s]&&(o._sortType=this.sortTypes[s]),void 0!==o.addEventListener?o.addEventListener("click",this._headerOnclick,!1):void 0!==o.attachEvent?o.attachEvent("onclick",this._headerOnclick):o.onclick=this._headerOnclick):(o.setAttribute("_sortType",t[s]),o._sortType="None");this.updateHeaderArrows()}},SortableTable.prototype.uninitHeader=function(){if(this.tHead)for(var t,e=this.tHead.rows[0].cells,n=e.length,r=0;r<n;r++)null!=(t=e[r])._sortType&&"None"!=t._sortType&&(t.removeChild(t.lastChild),void 0!==t.removeEventListener?t.removeEventListener("click",this._headerOnclick,!1):void 0!==t.detachEvent&&t.detachEvent("onclick",this._headerOnclick),t._sortType=null,t.removeAttribute("_sortType"))},SortableTable.prototype.updateHeaderArrows=function(){if(this.tHead)for(var t,e=this.tHead.rows[0].cells,n=e.length,r=0;r<n;r++)null!=e[r]._sortType&&"None"!=e[r]._sortType&&(t=e[r].lastChild,r==this.sortColumn?t.className="sort-arrow "+(this.descending?"descending":"ascending"):t.className="sort-arrow")},SortableTable.prototype.headerOnclick=function(t){for(var e=t.target||t.srcElement;"TD"!=e.tagName;)e=e.parentNode;this.sort(SortableTable.msie?SortableTable.getCellIndex(e):e.cellIndex)},SortableTable.getCellIndex=function(t){var e,n=t.parentNode.childNodes,r=n.length;for(e=0;n[e]!=t&&e<r;e++);return e},SortableTable.prototype.getSortType=function(t){return this.sortTypes[t]||"String"},SortableTable.prototype.sort=function(t,e,n){if(this.tBody&&(null==n&&(n=this.getSortType(t)),"None"!=n)){null==e?this.sortColumn!=t?this.descending=this.defaultDescending:this.descending=!this.descending:this.descending=e,this.sortColumn=t,"function"==typeof this.onbeforesort&&this.onbeforesort();var r=this.getSortFunction(n,t),o=this.getCache(n,t),i=this.tBody;if(o.sort(r),this.descending&&o.reverse(),SortableTable.removeBeforeSort){var s=i.nextSibling,a=i.parentNode;a.removeChild(i)}for(var u=o.length,l=0;l<u;l++)i.appendChild(o[l].element);SortableTable.removeBeforeSort&&a.insertBefore(i,s),this.updateHeaderArrows(),this.destroyCache(o),"function"==typeof this.onsort&&this.onsort()}},SortableTable.prototype.asyncSort=function(t,e,n){var r=this;this._asyncsort=function(){r.sort(t,e,n)},window.setTimeout(this._asyncsort,1)},SortableTable.prototype.getCache=function(t,e){if(!this.tBody)return[];for(var n,r=this.tBody.rows,o=r.length,i=new Array(o),s=0;s<o;s++)n=r[s],i[s]={value:this.getRowValue(n,t,e),element:n};return i},SortableTable.prototype.destroyCache=function(t){for(var e=t.length,n=0;n<e;n++)t[n].value=null,t[n].element=null,t[n]=null},SortableTable.prototype.getRowValue=function(t,e,n){if(this._sortTypeInfo[e]&&this._sortTypeInfo[e].getRowValue)return this._sortTypeInfo[e].getRowValue(t,n);var r,o=t.cells[n];return r=void 0!==o.innerText?o.innerText:SortableTable.getInnerText(o),this.getValueFromString(r,e)},SortableTable.getInnerText=function(t){for(var e="",n=t.childNodes,r=n.length,o=0;o<r;o++)switch(n[o].nodeType){case 1:e+=SortableTable.getInnerText(n[o]);break;case 3:e+=n[o].nodeValue}return e},SortableTable.prototype.getValueFromString=function(t,e){return this._sortTypeInfo[e]?this._sortTypeInfo[e].getValueFromString(t):t},SortableTable.prototype.getSortFunction=function(t,e){return this._sortTypeInfo[t]?this._sortTypeInfo[t].compare:SortableTable.basicCompare},SortableTable.prototype.destroy=function(){this.uninitHeader();var t=this.document.parentWindow;t&&void 0!==t.detachEvent&&t.detachEvent("onunload",this._onunload),this._onunload=null,this.element=null,this.tHead=null,this.tBody=null,this.document=null,this._headerOnclick=null,this.sortTypes=null,this._asyncsort=null,this.onsort=null},SortableTable.prototype.addSortType=function(t,e,n,r){this._sortTypeInfo[t]={type:t,getValueFromString:e||SortableTable.idFunction,compare:n||SortableTable.basicCompare,getRowValue:r}},SortableTable.prototype.removeSortType=function(t){delete this._sortTypeInfo[t]},SortableTable.basicCompare=function(t,e){return t.value<e.value?-1:e.value<t.value?1:0},SortableTable.idFunction=function(t){return t},SortableTable.toUpperCase=function(t){return t.toUpperCase()},SortableTable.toDate=function(t){var e=t.split("-"),n=new Date(0);return n.setFullYear(e[0]),n.setDate(e[2]),n.setMonth(e[1]-1),n.valueOf()},SortableTable.prototype.addSortType("Number",Number),SortableTable.prototype.addSortType("CaseInsensitiveString",SortableTable.toUpperCase),SortableTable.prototype.addSortType("Date",SortableTable.toDate),SortableTable.prototype.addSortType("String");var datePickerDivID="datepicker",iFrameDivID="datepickeriframe",dayArrayShort=new Array("Su","Mo","Tu","We","Th","Fr","Sa"),dayArrayMed=new Array("Sun","Mon","Tue","Wed","Thu","Fri","Sat"),dayArrayLong=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"),monthArrayShort=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),monthArrayMed=new Array("Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"),monthArrayLong=new Array("January","February","March","April","May","June","July","August","September","October","November","December"),defaultDateSeparator="/",defaultDateFormat="dmy",dateSeparator=defaultDateSeparator,dateFormat=defaultDateFormat;function displayDatePicker(t,e,n,r){var o=document.getElementsByName(t).item(0);e||(e=o),dateSeparator=r||defaultDateSeparator,dateFormat=n||defaultDateFormat;for(var i=e.offsetLeft,s=e.offsetTop+e.offsetHeight,a=e;a.offsetParent;)i+=(a=a.offsetParent).offsetLeft,s+=a.offsetTop;drawDatePicker(o,i,s)}function drawDatePicker(t,e,n){var r=getFieldDate(t.value);if(!document.getElementById(datePickerDivID)){var o=document.createElement("div");o.setAttribute("id",datePickerDivID),o.setAttribute("class","dpDiv"),o.setAttribute("style","visibility: hidden;"),document.body.appendChild(o)}var i=document.getElementById(datePickerDivID);i.style.position="absolute",i.style.left=e+"px",i.style.top=n+"px",i.style.visibility="visible"==i.style.visibility?"hidden":"visible",i.style.display="block"==i.style.display?"none":"block",i.style.zIndex=1e4,refreshDatePicker(t.name,r.getFullYear(),r.getMonth(),r.getDate())}function refreshDatePicker(t,e,n,r){var o=new Date;n>=0&&e>0?o=new Date(e,n,1):(r=o.getDate(),o.setDate(1));var s="<tr class='dpTR'>",a="</tr>\r\n",u="<td class='dpTD' onMouseOut='this.className=\"dpTD\";' onMouseOver=' this.className=\"dpTDHover\";' ",l="<td class='dpButtonTD'>",c="</td>\r\n",p="</div>",f="<table cols=7 cellspacing=0 class='dpTable'>\r\n";for(f+="<tr class='dpTitleTR'>",f+=l+getButtonCode(t,o,-1,"&lt;")+c,f+="<td colspan=5 class='dpTitleTD'><div class='dpTitleText'>"+monthArrayLong[o.getMonth()]+" "+o.getFullYear()+p+c,f+=l+getButtonCode(t,o,1,"&gt;")+c,f+=a,f+="<tr class='dpDayTR'>",i=0;i<dayArrayShort.length;i++)f+="<td class='dpDayTD'>"+dayArrayShort[i]+c;for(f+=a,f+=s,i=0;i<o.getDay();i++)f+=u+"&nbsp;"+c;do{dayNum=o.getDate(),TD_onclick=" onclick=\"updateDateField('"+t+"', '"+getDateString(o)+"')\">",dayNum==r?f+="<td class='dpDayHighlightTD' onMouseOut='this.className=\"dpDayHighlightTD\";' onMouseOver='this.className=\"dpTDHover\";' "+TD_onclick+"<div class='dpDayHighlight'>"+dayNum+p+c:f+=u+TD_onclick+dayNum+c,6==o.getDay()&&(f+=a+s),o.setDate(o.getDate()+1)}while(o.getDate()>1);if(o.getDay()>0)for(i=6;i>o.getDay();i--)f+=u+"&nbsp;"+c;f+=a;var h=new Date;dayArrayMed[h.getDay()],monthArrayMed[h.getMonth()],h.getDate();f+="<tr class='dpTodayButtonTR'><td colspan=7 class='dpTodayButtonTD'>",f+="<button class='dpTodayButton' onClick='refreshDatePicker(\""+t+"\");'>this month</button> ",f+="<button class='dpTodayButton' onClick='updateDateField(\""+t+"\");'>close</button>",f+=c+a,f+="</table>\r\n",document.getElementById(datePickerDivID).innerHTML=f,adjustiFrame()}function getButtonCode(t,e,n,r){var o=(e.getMonth()+n)%12,i=e.getFullYear()+parseInt((e.getMonth()+n)/12);return o<0&&(o+=12,i+=-1),"<button class='dpButton' onClick='refreshDatePicker(\""+t+'", '+i+", "+o+");'>"+r+"</button>"}function getDateString(t){var e="00"+t.getDate(),n="00"+(t.getMonth()+1);switch(e=e.substring(e.length-2),n=n.substring(n.length-2),dateFormat){case"dmy":return e+dateSeparator+n+dateSeparator+t.getFullYear();case"ymd":return t.getFullYear()+dateSeparator+n+dateSeparator+e;default:return n+dateSeparator+e+dateSeparator+t.getFullYear()}}function getFieldDate(t){var e,n,r,o,i;try{if(n=splitDateString(t)){switch(dateFormat){case"dmy":r=parseInt(n[0],10),o=parseInt(n[1],10)-1,i=parseInt(n[2],10);break;case"ymd":r=parseInt(n[2],10),o=parseInt(n[1],10)-1,i=parseInt(n[0],10);break;default:r=parseInt(n[1],10),o=parseInt(n[0],10)-1,i=parseInt(n[2],10)}e=new Date(i,o,r)}else e=t?new Date(t):new Date}catch(t){e=new Date}return e}function splitDateString(t){return t.indexOf("/")>=0?t.split("/"):t.indexOf(".")>=0?t.split("."):t.indexOf("-")>=0?t.split("-"):t.indexOf("\\")>=0&&t.split("\\")}function datePickerClosed(t){var e=getFieldDate(t.value),n=new Date;(n=new Date(n.getFullYear(),n.getMonth(),n.getDate()),"StartDate"==t.name)&&(e<n?(alert("Please enter a date that is today or later"),t.value="",document.getElementById(datePickerDivID).style.visibility="visible",adjustiFrame()):(e.setTime(e.getTime()+6048e5),document.getElementsByName("EndDate").item(0).value=getDateString(e)))}function updateDateField(t,e){var n=document.getElementsByName(t).item(0);e&&(n.value=e);var r=document.getElementById(datePickerDivID);r.style.visibility="hidden",r.style.display="none",adjustiFrame(),n.focus();var o=document.createEvent("HTMLEvents");o.initEvent("change",!0,!1),n.dispatchEvent(o),e&&"function"==typeof datePickerClosed&&datePickerClosed(n)}function adjustiFrame(t,e){if(!(-1!=navigator.userAgent.toLowerCase().indexOf("opera")))try{if(!document.getElementById(iFrameDivID)){var n=document.createElement("iFrame");n.setAttribute("id",iFrameDivID),n.setAttribute("src","javascript:false;"),n.setAttribute("scrolling","no"),n.setAttribute("frameborder","0"),document.body.appendChild(n)}t||(t=document.getElementById(datePickerDivID)),e||(e=document.getElementById(iFrameDivID));try{e.style.position="absolute",e.style.width=t.offsetWidth,e.style.height=t.offsetHeight,e.style.top=t.style.top,e.style.left=t.style.left,e.style.zIndex=t.style.zIndex-1,e.style.visibility=t.style.visibility,e.style.display=t.style.display}catch(t){}}catch(t){}}function getPopupAlignment(t){var e=t.getBoundingClientRect(),n=Math.ceil(e.x),r=document.documentElement.clientWidth;return n<Math.floor(r/2)?"right":"left"}function doToast(t,e,n){var r={success:"toastify-success",error:"toastify-error",info:"toastify-info"},o=r[t]?r[t]:"toastify-info";console.log(t,o),Toastify({text:e,duration:n||1e4,className:o,close:!0,gravity:"top",position:"center",stopOnFocus:!0}).showToast()}!function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,(function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},r=n[t]=n[t]||[];return-1==r.indexOf(e)&&r.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var r=n.indexOf(e);return-1!=r&&n.splice(r,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var r=0,o=n[r];e=e||[];for(var i=this._onceEvents&&this._onceEvents[t];o;){var s=i&&i[o];s&&(this.off(t,o),delete i[o]),o.apply(this,e),o=n[r+=s?0:1]}return this}},t})),function(t,e){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],(function(n){return e(t,n)})):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.Unipointer=e(t,t.EvEmitter)}(window,(function(t,e){function n(){}var r=n.prototype=Object.create(e.prototype);r.bindStartEvent=function(t){this._bindStartEvent(t,!0)},r.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},r._bindStartEvent=function(e,n){var r=(n=void 0===n||!!n)?"addEventListener":"removeEventListener";t.navigator.pointerEnabled?e[r]("pointerdown",this):t.navigator.msPointerEnabled?e[r]("MSPointerDown",this):(e[r]("mousedown",this),e[r]("touchstart",this))},r.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.getTouch=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.identifier==this.pointerIdentifier)return n}},r.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},r.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},r.onMSPointerDown=r.onpointerdown=function(t){this._pointerDown(t,t)},r._pointerDown=function(t,e){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},r.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var o={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return r._bindPostStartEvents=function(e){if(e){var n=o[e.type];n.forEach((function(e){t.addEventListener(e,this)}),this),this._boundPointerEvents=n}},r._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach((function(e){t.removeEventListener(e,this)}),this),delete this._boundPointerEvents)},r.onmousemove=function(t){this._pointerMove(t,t)},r.onMSPointerMove=r.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},r.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},r._pointerMove=function(t,e){this.pointerMove(t,e)},r.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},r.onmouseup=function(t){this._pointerUp(t,t)},r.onMSPointerUp=r.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},r.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},r._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},r.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},r._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},r.pointerDone=function(){},r.onMSPointerCancel=r.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},r.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},r._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},r.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},n.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},n})),function(t,e){"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter","unipointer/unipointer"],(function(n,r){return e(t,n,r)})):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("unipointer")):t.Huebee=e(t,t.EvEmitter,t.Unipointer)}(window,(function(t,e,n){function r(t,e){if(!(t=y(t)))throw"Bad element for Huebee: "+t;this.anchor=t,this.options={},this.option(r.defaults),this.option(e),this.create()}r.defaults={hues:12,hue0:0,shades:5,saturations:3,notation:"shortHex",setText:!0,setBGColor:!0};var o=r.prototype=Object.create(e.prototype);o.option=function(t){this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(this.options,t)};var i=0,s={};o.create=function(){var t=this.guid=++i;this.anchor.huebeeGUID=t,s[t]=this,this.setBGElems=this.getSetElems(this.options.setBGColor),this.setTextElems=this.getSetElems(this.options.setText),this.outsideCloseIt=this.outsideClose.bind(this),this.onDocKeydown=this.docKeydown.bind(this),this.closeIt=this.close.bind(this),this.openIt=this.open.bind(this),this.onElemTransitionend=this.elemTransitionend.bind(this),this.isInputAnchor="INPUT"==this.anchor.nodeName,this.options.staticOpen||(this.anchor.addEventListener("click",this.openIt),this.anchor.addEventListener("focus",this.openIt)),this.isInputAnchor&&this.anchor.addEventListener("input",this.inputInput.bind(this));var e=this.element=document.createElement("div");e.className="huebee ",e.className+=this.options.staticOpen?"is-static-open ":"is-hidden ",e.className+=this.options.className||"";var n=this.container=document.createElement("div");function r(t){t.target==n&&t.preventDefault()}if(n.className="huebee__container",n.addEventListener("mousedown",r),n.addEventListener("touchstart",r),this.createCanvas(),this.cursor=document.createElement("div"),this.cursor.className="huebee__cursor is-hidden",n.appendChild(this.cursor),this.createCloseButton(),e.appendChild(n),!this.options.staticOpen){var o=getComputedStyle(this.anchor.parentNode);"relative"!=o.position&&"absolute"!=o.position&&(this.anchor.parentNode.style.position="relative")}var a=this.options.hues,u=this.options.customColors,l=u&&u.length;this.satY=l?Math.ceil(l/a)+1:0,this.updateColors(),this.setAnchorColor(),this.options.staticOpen&&this.open()},o.getSetElems=function(t){return!0===t?[this.anchor]:"string"==typeof t?document.querySelectorAll(t):void 0},o.createCanvas=function(){var t=this.canvas=document.createElement("canvas");t.className="huebee__canvas",this.ctx=t.getContext("2d");var e=this.canvasPointer=new n;e._bindStartEvent(t),e.on("pointerDown",this.canvasPointerDown.bind(this)),e.on("pointerMove",this.canvasPointerMove.bind(this)),this.container.appendChild(t)};var a="http://www.w3.org/2000/svg";o.createCloseButton=function(){if(!this.options.staticOpen){var t=document.createElementNS(a,"svg");t.setAttribute("class","huebee__close-button"),t.setAttribute("viewBox","0 0 24 24"),t.setAttribute("width","24"),t.setAttribute("height","24");var e=document.createElementNS(a,"path");e.setAttribute("d","M 7,7 L 17,17 M 17,7 L 7,17"),e.setAttribute("class","huebee__close-button__x"),t.appendChild(e),t.addEventListener("click",this.closeIt),this.container.appendChild(t)}},o.updateColors=function(){this.swatches={},this.colorGrid={},this.updateColorModer();var t=this.options.shades,e=this.options.saturations,n=this.options.hues,r=this.options.customColors;if(r&&r.length){var o=0;r.forEach(function(t){var e=o%n,r=Math.floor(o/n),i=g(t);i&&(this.addSwatch(i,e,r),o++)}.bind(this))}for(var i=0;i<e;i++){var s=1-i/e,a=t*i+this.satY;this.updateSaturationGrid(i,s,a)}for(i=0;i<t+2;i++){var u=1-i/(t+1),l=g(this.colorModer(0,0,u));this.addSwatch(l,n+1,i)}},o.updateSaturationGrid=function(t,e,n){for(var r=this.options.shades,o=this.options.hues,i=this.options.hue0,s=0;s<r;s++)for(var a=0;a<o;a++){var u=Math.round(360*a/o+i)%360,l=1-(s+1)/(r+1),c=g(this.colorModer(u,e,l)),p=s+n;this.addSwatch(c,a,p)}},o.addSwatch=function(t,e,n){this.swatches[e+","+n]=t,this.colorGrid[t.color.toUpperCase()]={x:e,y:n}};var u={hsl:function(t,e,n){return"hsl("+t+", "+(e=Math.round(100*e))+"%, "+(n=Math.round(100*n))+"%)"},hex:b,shortHex:function(t,e,n){return function(t){return"#"+t[1]+t[3]+t[5]}(b(t,e,n))}};o.updateColorModer=function(){this.colorModer=u[this.options.notation]||u.shortHex},o.renderColors=function(){var t=2*this.gridSize;for(var e in this.swatches){var n=this.swatches[e],r=e.split(","),o=r[0],i=r[1];this.ctx.fillStyle=n.color,this.ctx.fillRect(o*t,i*t,t,t)}},o.setAnchorColor=function(){this.isInputAnchor&&this.setColor(this.anchor.value)};var l=document.documentElement;o.open=function(){if(!this.isOpen){var t=this.anchor,e=this.element;this.options.staticOpen||(e.style.left=t.offsetLeft+"px",e.style.top=t.offsetTop+t.offsetHeight+"px"),this.bindOpenEvents(!0),e.removeEventListener("transitionend",this.onElemTransitionend),t.parentNode.insertBefore(e,t.nextSibling);var n=getComputedStyle(e).transitionDuration;this.hasTransition=n&&"none"!=n&&parseFloat(n),this.isOpen=!0,this.updateSizes(),this.renderColors(),this.setAnchorColor();e.offsetHeight;e.classList.remove("is-hidden")}},o.bindOpenEvents=function(t){if(!this.options.staticOpen){var e=(t?"add":"remove")+"EventListener";l[e]("mousedown",this.outsideCloseIt),l[e]("touchstart",this.outsideCloseIt),document[e]("focusin",this.outsideCloseIt),document[e]("keydown",this.onDocKeydown),this.anchor[e]("blur",this.closeIt)}},o.updateSizes=function(){var t=this.options.hues,e=this.options.shades,n=this.options.saturations;this.cursorBorder=parseInt(getComputedStyle(this.cursor).borderTopWidth,10),this.gridSize=Math.round(this.cursor.offsetWidth-2*this.cursorBorder),this.canvasOffset={x:this.canvas.offsetLeft,y:this.canvas.offsetTop};var r=Math.max(e*n+this.satY,e+2),o=this.gridSize*(t+2);this.canvas.width=2*o,this.canvas.style.width=o+"px",this.canvas.height=this.gridSize*r*2},o.outsideClose=function(t){var e=this.anchor.contains(t.target),n=this.element.contains(t.target);e||n||this.close()};var c={13:!0,27:!0};o.docKeydown=function(t){c[t.keyCode]&&this.close()};var p="string"==typeof l.style.transform;o.close=function(){this.isOpen&&(p&&this.hasTransition?this.element.addEventListener("transitionend",this.onElemTransitionend):this.remove(),this.element.classList.add("is-hidden"),this.bindOpenEvents(!1),this.isOpen=!1)},o.remove=function(){var t=this.element.parentNode;t.contains(this.element)&&t.removeChild(this.element)},o.elemTransitionend=function(t){t.target==this.element&&(this.element.removeEventListener("transitionend",this.onElemTransitionend),this.remove())},o.inputInput=function(){this.setColor(this.anchor.value)},o.canvasPointerDown=function(t,e){t.preventDefault(),this.updateOffset(),this.canvasPointerChange(e)},o.updateOffset=function(){var e=this.canvas.getBoundingClientRect();this.offset={x:e.left+t.pageXOffset,y:e.top+t.pageYOffset}},o.canvasPointerMove=function(t,e){this.canvasPointerChange(e)},o.canvasPointerChange=function(t){var e=Math.round(t.pageX-this.offset.x),n=Math.round(t.pageY-this.offset.y),r=this.gridSize,o=Math.floor(e/r),i=Math.floor(n/r),s=this.swatches[o+","+i];this.setSwatch(s)},o.setColor=function(t){var e=g(t);this.setSwatch(e)},o.setSwatch=function(t){var e=t&&t.color;if(t){var n=e==this.color;this.color=e,this.hue=t.hue,this.sat=t.sat,this.lum=t.lum;var r=this.lum-.15*Math.cos((this.hue+70)/180*Math.PI);this.isLight=r>.5;var o=this.colorGrid[e.toUpperCase()];this.updateCursor(o),this.setTexts(),this.setBackgrounds(),n||this.emitEvent("change",[e,t.hue,t.sat,t.lum])}},o.setTexts=function(){if(this.setTextElems)for(var t=0;t<this.setTextElems.length;t++){var e=this.setTextElems[t];e["INPUT"==e.nodeName?"value":"textContent"]=this.color}},o.setBackgrounds=function(){if(this.setBGElems)for(var t=this.isLight?"#222":"white",e=0;e<this.setBGElems.length;e++){var n=this.setBGElems[e];n.style.backgroundColor=this.color,n.style.color=t}},o.updateCursor=function(t){if(this.isOpen){var e=t?"remove":"add";if(this.cursor.classList[e]("is-hidden"),t){var n=this.gridSize,r=this.canvasOffset,o=this.cursorBorder;this.cursor.style.left=t.x*n+r.x-o+"px",this.cursor.style.top=t.y*n+r.y-o+"px"}}};var f=t.console;function h(){for(var t=document.querySelectorAll("[data-huebee]"),e=0;e<t.length;e++){var n,o=t[e],i=o.getAttribute("data-huebee");try{n=i&&JSON.parse(i)}catch(t){f&&f.error("Error parsing data-huebee on "+o.className+": "+t);continue}new r(o,n)}}var d=document.readyState;"complete"==d||"interactive"==d?h():document.addEventListener("DOMContentLoaded",h),r.data=function(t){var e=(t=y(t))&&t.huebeeGUID;return e&&s[e]};var m=document.createElement("canvas");m.width=m.height=1;var v=m.getContext("2d");function g(t){v.clearRect(0,0,1,1),v.fillStyle="#010203",v.fillStyle=t,v.fillRect(0,0,1,1);var e=v.getImageData(0,0,1,1).data;if("1,2,3,255"!=(e=[e[0],e[1],e[2],e[3]]).join(",")){var n=w.apply(this,e);return{color:t.trim(),hue:n[0],sat:n[1],lum:n[2]}}}function y(t){return"string"==typeof t&&(t=document.querySelector(t)),t}function b(t,e,n){var r=function(t,e,n){var r,o,i=(1-Math.abs(2*n-1))*e,s=t/60,a=i*(1-Math.abs(s%2-1));switch(Math.floor(s)){case 0:r=[i,a,0];break;case 1:r=[a,i,0];break;case 2:r=[0,i,a];break;case 3:r=[0,a,i];break;case 4:r=[a,0,i];break;case 5:r=[i,0,a];break;default:r=[0,0,0]}return o=n-i/2,r=r.map((function(t){return t+o}))}(t,e,n);return function(t){return"#"+t.map((function(t){var e=(t=Math.round(255*t)).toString(16).toUpperCase();return e=e.length<2?"0"+e:e})).join("")}(r)}function w(t,e,n){t/=255,e/=255,n/=255;var r,o=Math.max(t,e,n),i=Math.min(t,e,n),s=o-i,a=.5*(o+i),u=0===s?0:s/(1-Math.abs(2*a-1));return 0===s?r=0:o===t?r=(e-n)/s%6:o===e?r=(n-t)/s+2:o===n&&(r=(t-e)/s+4),[60*r,parseFloat(u),parseFloat(a)]}return r})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ES6Promise=e()}(this,(function(){"use strict";function t(t){return"function"==typeof t}var e=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=0,r=void 0,o=void 0,i=function(t,e){f[n]=t,f[n+1]=e,2===(n+=2)&&(o?o(h):y())};var s="undefined"!=typeof window?window:void 0,a=s||{},u=a.MutationObserver||a.WebKitMutationObserver,l="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),c="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var t=setTimeout;return function(){return t(h,1)}}var f=new Array(1e3);function h(){for(var t=0;t<n;t+=2){(0,f[t])(f[t+1]),f[t]=void 0,f[t+1]=void 0}n=0}var d,m,v,g,y=void 0;function b(t,e){var n=this,r=new this.constructor(S);void 0===r[E]&&R(r);var o=n._state;if(o){var s=arguments[o-1];i((function(){return P(o,r,s,n._result)}))}else A(n,r,t,e);return r}function w(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(S);return O(e,t),e}l?y=function(){return process.nextTick(h)}:u?(m=0,v=new u(h),g=document.createTextNode(""),v.observe(g,{characterData:!0}),y=function(){g.data=m=++m%2}):c?((d=new MessageChannel).port1.onmessage=h,y=function(){return d.port2.postMessage(0)}):y=void 0===s&&"function"==typeof require?function(){try{var t=Function("return this")().require("vertx");return void 0!==(r=t.runOnLoop||t.runOnContext)?function(){r(h)}:p()}catch(t){return p()}}():p();var E=Math.random().toString(36).substring(2);function S(){}var x=void 0;function C(e,n,r){n.constructor===e.constructor&&r===b&&n.constructor.resolve===w?function(t,e){1===e._state?T(t,e._result):2===e._state?k(t,e._result):A(e,void 0,(function(e){return O(t,e)}),(function(e){return k(t,e)}))}(e,n):void 0===r?T(e,n):t(r)?function(t,e,n){i((function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,(function(n){r||(r=!0,e!==n?O(t,n):T(t,n))}),(function(e){r||(r=!0,k(t,e))}),t._label);!r&&o&&(r=!0,k(t,o))}),t)}(e,n,r):T(e,n)}function O(t,e){if(t===e)k(t,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=e),null===r||"object"!==o&&"function"!==o)T(t,e);else{var n=void 0;try{n=e.then}catch(e){return void k(t,e)}C(t,e,n)}var r,o}function _(t){t._onerror&&t._onerror(t._result),D(t)}function T(t,e){t._state===x&&(t._result=e,t._state=1,0!==t._subscribers.length&&i(D,t))}function k(t,e){t._state===x&&(t._state=2,t._result=e,i(_,t))}function A(t,e,n,r){var o=t._subscribers,s=o.length;t._onerror=null,o[s]=e,o[s+1]=n,o[s+2]=r,0===s&&t._state&&i(D,t)}function D(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?P(n,r,o,i):o(i);t._subscribers.length=0}}function P(e,n,r,o){var i=t(r),s=void 0,a=void 0,u=!0;if(i){try{s=r(o)}catch(t){u=!1,a=t}if(n===s)return void k(n,new TypeError("A promises callback cannot return that same promise."))}else s=o;n._state!==x||(i&&u?O(n,s):!1===u?k(n,a):1===e?T(n,s):2===e&&k(n,s))}var L=0;function R(t){t[E]=L++,t._state=void 0,t._result=void 0,t._subscribers=[]}var F=function(){function t(t,n){this._instanceConstructor=t,this.promise=new t(S),this.promise[E]||R(this.promise),e(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&T(this.promise,this._result))):k(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===x&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===w){var o=void 0,i=void 0,s=!1;try{o=t.then}catch(t){s=!0,i=t}if(o===b&&t._state!==x)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===M){var a=new n(S);s?k(a,i):C(a,t,o),this._willSettleAt(a,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===x&&(this._remaining--,2===t?k(r,n):this._result[e]=n),0===this._remaining&&T(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;A(t,void 0,(function(t){return n._settledAt(1,e,t)}),(function(t){return n._settledAt(2,e,t)}))},t}();var M=function(){function e(t){this[E]=L++,this._result=this._state=void 0,this._subscribers=[],S!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){O(t,e)}),(function(e){k(t,e)}))}catch(e){k(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this,r=n.constructor;return t(e)?n.then((function(t){return r.resolve(e()).then((function(){return t}))}),(function(t){return r.resolve(e()).then((function(){throw t}))})):n.then(e,e)},e}();return M.prototype.then=b,M.all=function(t){return new F(this,t).promise},M.race=function(t){var n=this;return e(t)?new n((function(e,r){for(var o=t.length,i=0;i<o;i++)n.resolve(t[i]).then(e,r)})):new n((function(t,e){return e(new TypeError("You must pass an array to race."))}))},M.resolve=w,M.reject=function(t){var e=new this(S);return k(e,t),e},M._setScheduler=function(t){o=t},M._setAsap=function(t){i=t},M._asap=i,M.polyfill=function(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=M},M.Promise=M,M.polyfill(),M})),function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.htmx=t.htmx||e()}("undefined"!=typeof self?self:this,(function(){return function(){"use strict";var htmx={onLoad:onLoadHelper,process:processNode,on:addEventListenerImpl,off:removeEventListenerImpl,trigger:triggerEvent,ajax:ajaxHelper,find:find,findAll:findAll,closest:closest,values:function(t,e){return getInputValues(t,e||"post").values},remove:removeElement,addClass:addClassToElement,removeClass:removeClassFromElement,toggleClass:toggleClassOnElement,takeClass:takeClassForElement,defineExtension:defineExtension,removeExtension:removeExtension,logAll:logAll,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,inlineScriptNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",wsBinaryType:"blob",disableSelector:"[hx-disable], [data-hx-disable]",useTemplateFragments:!1,scrollBehavior:"smooth",defaultFocusScroll:!1,getCacheBusterParam:!1,globalViewTransitions:!1},parseInterval:parseInterval,_:internalEval,createEventSource:function(t){return new EventSource(t,{withCredentials:!0})},createWebSocket:function(t){var e=new WebSocket(t,[]);return e.binaryType=htmx.config.wsBinaryType,e},version:"1.9.0"},internalAPI={addTriggerHandler:addTriggerHandler,bodyContains:bodyContains,canAccessLocalStorage:canAccessLocalStorage,filterValues:filterValues,hasAttribute:hasAttribute,getAttributeValue:getAttributeValue,getClosestMatch:getClosestMatch,getExpressionVars:getExpressionVars,getHeaders:getHeaders,getInputValues:getInputValues,getInternalData:getInternalData,getSwapSpecification:getSwapSpecification,getTriggerSpecs:getTriggerSpecs,getTarget:getTarget,makeFragment:makeFragment,mergeObjects:mergeObjects,makeSettleInfo:makeSettleInfo,oobSwap:oobSwap,selectAndSwap:selectAndSwap,settleImmediately:settleImmediately,shouldCancel:shouldCancel,triggerEvent:triggerEvent,triggerErrorEvent:triggerErrorEvent,withExtensions:withExtensions},VERBS=["get","post","put","delete","patch"],VERB_SELECTOR=VERBS.map((function(t){return"[hx-"+t+"], [data-hx-"+t+"]"})).join(", ");function parseInterval(t){if(null!=t)return"ms"==t.slice(-2)?parseFloat(t.slice(0,-2))||void 0:"s"==t.slice(-1)?1e3*parseFloat(t.slice(0,-1))||void 0:"m"==t.slice(-1)?1e3*parseFloat(t.slice(0,-1))*60||void 0:parseFloat(t)||void 0}function getRawAttribute(t,e){return t.getAttribute&&t.getAttribute(e)}function hasAttribute(t,e){return t.hasAttribute&&(t.hasAttribute(e)||t.hasAttribute("data-"+e))}function getAttributeValue(t,e){return getRawAttribute(t,e)||getRawAttribute(t,"data-"+e)}function parentElt(t){return t.parentElement}function getDocument(){return document}function getClosestMatch(t,e){for(;t&&!e(t);)t=parentElt(t);return t||null}function getAttributeValueWithDisinheritance(t,e,n){var r=getAttributeValue(e,n),o=getAttributeValue(e,"hx-disinherit");return t!==e&&o&&("*"===o||o.split(" ").indexOf(n)>=0)?"unset":r}function getClosestAttributeValue(t,e){var n=null;if(getClosestMatch(t,(function(r){return n=getAttributeValueWithDisinheritance(t,r,e)})),"unset"!==n)return n}function matches(t,e){var n=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector;return n&&n.call(t,e)}function getStartTag(t){var e=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i.exec(t);return e?e[1].toLowerCase():""}function parseHTML(t,e){for(var n=(new DOMParser).parseFromString(t,"text/html").body;e>0;)e--,n=n.firstChild;return null==n&&(n=getDocument().createDocumentFragment()),n}function aFullPageResponse(t){return t.match(/<body/)}function makeFragment(t){var e=!aFullPageResponse(t);if(htmx.config.useTemplateFragments&&e)return parseHTML("<body><template>"+t+"</template></body>",0).querySelector("template").content;switch(getStartTag(t)){case"thead":case"tbody":case"tfoot":case"colgroup":case"caption":return parseHTML("<table>"+t+"</table>",1);case"col":return parseHTML("<table><colgroup>"+t+"</colgroup></table>",2);case"tr":return parseHTML("<table><tbody>"+t+"</tbody></table>",2);case"td":case"th":return parseHTML("<table><tbody><tr>"+t+"</tr></tbody></table>",3);case"script":return parseHTML("<div>"+t+"</div>",1);default:return parseHTML(t,0)}}function maybeCall(t){t&&t()}function isType(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"}function isFunction(t){return isType(t,"Function")}function isRawObject(t){return isType(t,"Object")}function getInternalData(t){var e="htmx-internal-data",n=t[e];return n||(n=t[e]={}),n}function toArray(t){var e=[];if(t)for(var n=0;n<t.length;n++)e.push(t[n]);return e}function forEach(t,e){if(t)for(var n=0;n<t.length;n++)e(t[n])}function isScrolledIntoView(t){var e=t.getBoundingClientRect(),n=e.top,r=e.bottom;return n<window.innerHeight&&r>=0}function bodyContains(t){return t.getRootNode&&t.getRootNode()instanceof ShadowRoot?getDocument().body.contains(t.getRootNode().host):getDocument().body.contains(t)}function splitOnWhitespace(t){return t.trim().split(/\s+/)}function mergeObjects(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function parseJSON(t){try{return JSON.parse(t)}catch(t){return logError(t),null}}function canAccessLocalStorage(){var t="htmx:localStorageTest";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(t){return!1}}function internalEval(str){return maybeEval(getDocument().body,(function(){return eval(str)}))}function onLoadHelper(t){return htmx.on("htmx:load",(function(e){t(e.detail.elt)}))}function logAll(){htmx.logger=function(t,e,n){console&&console.log(e,t,n)}}function find(t,e){return e?t.querySelector(e):find(getDocument(),t)}function findAll(t,e){return e?t.querySelectorAll(e):findAll(getDocument(),t)}function removeElement(t,e){t=resolveTarget(t),e?setTimeout((function(){removeElement(t),t=null}),e):t.parentElement.removeChild(t)}function addClassToElement(t,e,n){t=resolveTarget(t),n?setTimeout((function(){addClassToElement(t,e),t=null}),n):t.classList&&t.classList.add(e)}function removeClassFromElement(t,e,n){t=resolveTarget(t),n?setTimeout((function(){removeClassFromElement(t,e),t=null}),n):t.classList&&(t.classList.remove(e),0===t.classList.length&&t.removeAttribute("class"))}function toggleClassOnElement(t,e){(t=resolveTarget(t)).classList.toggle(e)}function takeClassForElement(t,e){forEach((t=resolveTarget(t)).parentElement.children,(function(t){removeClassFromElement(t,e)})),addClassToElement(t,e)}function closest(t,e){if((t=resolveTarget(t)).closest)return t.closest(e);do{if(null==t||matches(t,e))return t}while(t=t&&parentElt(t));return null}function normalizeSelector(t){var e=t.trim();return e.startsWith("<")&&e.endsWith("/>")?e.substring(1,e.length-2):e}function querySelectorAllExt(t,e){return 0===e.indexOf("closest ")?[closest(t,normalizeSelector(e.substr(8)))]:0===e.indexOf("find ")?[find(t,normalizeSelector(e.substr(5)))]:0===e.indexOf("next ")?[scanForwardQuery(t,normalizeSelector(e.substr(5)))]:0===e.indexOf("previous ")?[scanBackwardsQuery(t,normalizeSelector(e.substr(9)))]:"document"===e?[document]:"window"===e?[window]:getDocument().querySelectorAll(normalizeSelector(e))}var scanForwardQuery=function(t,e){for(var n=getDocument().querySelectorAll(e),r=0;r<n.length;r++){var o=n[r];if(o.compareDocumentPosition(t)===Node.DOCUMENT_POSITION_PRECEDING)return o}},scanBackwardsQuery=function(t,e){for(var n=getDocument().querySelectorAll(e),r=n.length-1;r>=0;r--){var o=n[r];if(o.compareDocumentPosition(t)===Node.DOCUMENT_POSITION_FOLLOWING)return o}};function querySelectorExt(t,e){return e?querySelectorAllExt(t,e)[0]:querySelectorAllExt(getDocument().body,t)[0]}function resolveTarget(t){return isType(t,"String")?find(t):t}function processEventArgs(t,e,n){return isFunction(e)?{target:getDocument().body,event:t,listener:e}:{target:resolveTarget(t),event:e,listener:n}}function addEventListenerImpl(t,e,n){return ready((function(){var r=processEventArgs(t,e,n);r.target.addEventListener(r.event,r.listener)})),isFunction(e)?e:n}function removeEventListenerImpl(t,e,n){return ready((function(){var r=processEventArgs(t,e,n);r.target.removeEventListener(r.event,r.listener)})),isFunction(e)?e:n}var DUMMY_ELT=getDocument().createElement("output");function findAttributeTargets(t,e){var n=getClosestAttributeValue(t,e);if(n){if("this"===n)return[findThisElement(t,e)];var r=querySelectorAllExt(t,n);return 0===r.length?(logError('The selector "'+n+'" on '+e+" returned no matches!"),[DUMMY_ELT]):r}}function findThisElement(t,e){return getClosestMatch(t,(function(t){return null!=getAttributeValue(t,e)}))}function getTarget(t){var e=getClosestAttributeValue(t,"hx-target");return e?"this"===e?findThisElement(t,"hx-target"):querySelectorExt(t,e):getInternalData(t).boosted?getDocument().body:t}function shouldSettleAttribute(t){for(var e=htmx.config.attributesToSettle,n=0;n<e.length;n++)if(t===e[n])return!0;return!1}function cloneAttributes(t,e){forEach(t.attributes,(function(n){!e.hasAttribute(n.name)&&shouldSettleAttribute(n.name)&&t.removeAttribute(n.name)})),forEach(e.attributes,(function(e){shouldSettleAttribute(e.name)&&t.setAttribute(e.name,e.value)}))}function isInlineSwap(t,e){for(var n=getExtensions(e),r=0;r<n.length;r++){var o=n[r];try{if(o.isInlineSwap(t))return!0}catch(t){logError(t)}}return"outerHTML"===t}function oobSwap(t,e,n){var r="#"+e.id,o="outerHTML";"true"===t||(t.indexOf(":")>0?(o=t.substr(0,t.indexOf(":")),r=t.substr(t.indexOf(":")+1,t.length)):o=t);var i=getDocument().querySelectorAll(r);return i?(forEach(i,(function(t){var r,i=e.cloneNode(!0);(r=getDocument().createDocumentFragment()).appendChild(i),isInlineSwap(o,t)||(r=i);var s={shouldSwap:!0,target:t,fragment:r};triggerEvent(t,"htmx:oobBeforeSwap",s)&&(t=s.target,s.shouldSwap&&swap(o,t,t,r,n),forEach(n.elts,(function(t){triggerEvent(t,"htmx:oobAfterSwap",s)})))})),e.parentNode.removeChild(e)):(e.parentNode.removeChild(e),triggerErrorEvent(getDocument().body,"htmx:oobErrorNoTarget",{content:e})),t}function handleOutOfBandSwaps(t,e,n){var r=getClosestAttributeValue(t,"hx-select-oob");if(r){var o=r.split(",");for(let t=0;t<o.length;t++){var i=o[t].split(":",2),s=i[0].trim();0===s.indexOf("#")&&(s=s.substring(1));var a=i[1]||"true",u=e.querySelector("#"+s);u&&oobSwap(a,u,n)}}forEach(findAll(e,"[hx-swap-oob], [data-hx-swap-oob]"),(function(t){var e=getAttributeValue(t,"hx-swap-oob");null!=e&&oobSwap(e,t,n)}))}function handlePreservedElements(t){forEach(findAll(t,"[hx-preserve], [data-hx-preserve]"),(function(t){var e=getAttributeValue(t,"id"),n=getDocument().getElementById(e);null!=n&&t.parentNode.replaceChild(n,t)}))}function handleAttributes(t,e,n){forEach(e.querySelectorAll("[id]"),(function(e){if(e.id&&e.id.length>0){var r=e.id.replace("'","\\'"),o=e.tagName.replace(":","\\:"),i=t.querySelector(o+"[id='"+r+"']");if(i&&i!==t){var s=e.cloneNode();cloneAttributes(e,i),n.tasks.push((function(){cloneAttributes(e,s)}))}}}))}function makeAjaxLoadTask(t){return function(){removeClassFromElement(t,htmx.config.addedClass),processNode(t),processScripts(t),processFocus(t),triggerEvent(t,"htmx:load")}}function processFocus(t){var e="[autofocus]",n=matches(t,e)?t:t.querySelector(e);null!=n&&n.focus()}function insertNodesBefore(t,e,n,r){for(handleAttributes(t,n,r);n.childNodes.length>0;){var o=n.firstChild;addClassToElement(o,htmx.config.addedClass),t.insertBefore(o,e),o.nodeType!==Node.TEXT_NODE&&o.nodeType!==Node.COMMENT_NODE&&r.tasks.push(makeAjaxLoadTask(o))}}function stringHash(t,e){for(var n=0;n<t.length;)e=(e<<5)-e+t.charCodeAt(n++)|0;return e}function attributeHash(t){var e=0;if(t.attributes)for(var n=0;n<t.attributes.length;n++){var r=t.attributes[n];r.value&&(e=stringHash(r.name,e),e=stringHash(r.value,e))}return e}function deInitNode(t){var e=getInternalData(t);if(e.timeout&&clearTimeout(e.timeout),e.webSocket&&e.webSocket.close(),e.sseEventSource&&e.sseEventSource.close(),e.listenerInfos&&forEach(e.listenerInfos,(function(t){t.on&&t.on.removeEventListener(t.trigger,t.listener)})),e.onHandlers)for(var n of e.onHandlers)t.removeEventListener(n,e.onHandlers[n])}function cleanUpElement(t){triggerEvent(t,"htmx:beforeCleanupElement"),deInitNode(t),t.children&&forEach(t.children,(function(t){cleanUpElement(t)}))}function swapOuterHTML(t,e,n){if("BODY"===t.tagName)return swapInnerHTML(t,e,n);var r,o=t.previousSibling;for(insertNodesBefore(parentElt(t),t,e,n),r=null==o?parentElt(t).firstChild:o.nextSibling,getInternalData(t).replacedWith=r,n.elts=[];r&&r!==t;)r.nodeType===Node.ELEMENT_NODE&&n.elts.push(r),r=r.nextElementSibling;cleanUpElement(t),parentElt(t).removeChild(t)}function swapAfterBegin(t,e,n){return insertNodesBefore(t,t.firstChild,e,n)}function swapBeforeBegin(t,e,n){return insertNodesBefore(parentElt(t),t,e,n)}function swapBeforeEnd(t,e,n){return insertNodesBefore(t,null,e,n)}function swapAfterEnd(t,e,n){return insertNodesBefore(parentElt(t),t.nextSibling,e,n)}function swapDelete(t,e,n){return cleanUpElement(t),parentElt(t).removeChild(t)}function swapInnerHTML(t,e,n){var r=t.firstChild;if(insertNodesBefore(t,r,e,n),r){for(;r.nextSibling;)cleanUpElement(r.nextSibling),t.removeChild(r.nextSibling);cleanUpElement(r),t.removeChild(r)}}function maybeSelectFromResponse(t,e){var n=getClosestAttributeValue(t,"hx-select");if(n){var r=getDocument().createDocumentFragment();forEach(e.querySelectorAll(n),(function(t){r.appendChild(t)})),e=r}return e}function swap(t,e,n,r,o){switch(t){case"none":return;case"outerHTML":return void swapOuterHTML(n,r,o);case"afterbegin":return void swapAfterBegin(n,r,o);case"beforebegin":return void swapBeforeBegin(n,r,o);case"beforeend":return void swapBeforeEnd(n,r,o);case"afterend":return void swapAfterEnd(n,r,o);case"delete":return void swapDelete(n,r,o);default:for(var i=getExtensions(e),s=0;s<i.length;s++){var a=i[s];try{var u=a.handleSwap(t,n,r,o);if(u){if(void 0!==u.length)for(var l=0;l<u.length;l++){var c=u[l];c.nodeType!==Node.TEXT_NODE&&c.nodeType!==Node.COMMENT_NODE&&o.tasks.push(makeAjaxLoadTask(c))}return}}catch(t){logError(t)}}"innerHTML"===t?swapInnerHTML(n,r,o):swap(htmx.config.defaultSwapStyle,e,n,r,o)}}function findTitle(t){if(t.indexOf("<title")>-1){var e=t.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"").match(/<title(\s[^>]*>|>)([\s\S]*?)<\/title>/im);if(e)return e[2]}}function selectAndSwap(t,e,n,r,o){o.title=findTitle(r);var i=makeFragment(r);if(i)return handleOutOfBandSwaps(n,i,o),handlePreservedElements(i=maybeSelectFromResponse(n,i)),swap(t,n,e,i,o)}function handleTrigger(t,e,n){var r=t.getResponseHeader(e);if(0===r.indexOf("{")){var o=parseJSON(r);for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];isRawObject(s)||(s={value:s}),triggerEvent(n,i,s)}}else triggerEvent(n,r,[])}var WHITESPACE=/\s/,WHITESPACE_OR_COMMA=/[\s,]/,SYMBOL_START=/[_$a-zA-Z]/,SYMBOL_CONT=/[_$a-zA-Z0-9]/,STRINGISH_START=['"',"'","/"],NOT_WHITESPACE=/[^\s]/;function tokenizeString(t){for(var e=[],n=0;n<t.length;){if(SYMBOL_START.exec(t.charAt(n))){for(var r=n;SYMBOL_CONT.exec(t.charAt(n+1));)n++;e.push(t.substr(r,n-r+1))}else if(-1!==STRINGISH_START.indexOf(t.charAt(n))){var o=t.charAt(n);r=n;for(n++;n<t.length&&t.charAt(n)!==o;)"\\"===t.charAt(n)&&n++,n++;e.push(t.substr(r,n-r+1))}else{var i=t.charAt(n);e.push(i)}n++}return e}function isPossibleRelativeReference(t,e,n){return SYMBOL_START.exec(t.charAt(0))&&"true"!==t&&"false"!==t&&"this"!==t&&t!==n&&"."!==e}function maybeGenerateConditional(t,e,n){if("["===e[0]){e.shift();for(var r=1,o=" return (function("+n+"){ return (",i=null;e.length>0;){var s=e[0];if("]"===s){if(0===--r){null===i&&(o+="true"),e.shift(),o+=")})";try{var a=maybeEval(t,(function(){return Function(o)()}),(function(){return!0}));return a.source=o,a}catch(t){return triggerErrorEvent(getDocument().body,"htmx:syntax:error",{error:t,source:o}),null}}}else"["===s&&r++;isPossibleRelativeReference(s,i,n)?o+="(("+n+"."+s+") ? ("+n+"."+s+") : (window."+s+"))":o+=s,i=e.shift()}}}function consumeUntil(t,e){for(var n="";t.length>0&&!t[0].match(e);)n+=t.shift();return n}var INPUT_SELECTOR="input, textarea, select";function getTriggerSpecs(t){var e=getAttributeValue(t,"hx-trigger"),n=[];if(e){var r=tokenizeString(e);do{consumeUntil(r,NOT_WHITESPACE);var o=r.length,i=consumeUntil(r,/[,\[\s]/);if(""!==i)if("every"===i){var s={trigger:"every"};consumeUntil(r,NOT_WHITESPACE),s.pollInterval=parseInterval(consumeUntil(r,/[,\[\s]/)),consumeUntil(r,NOT_WHITESPACE),(a=maybeGenerateConditional(t,r,"event"))&&(s.eventFilter=a),n.push(s)}else if(0===i.indexOf("sse:"))n.push({trigger:"sse",sseEvent:i.substr(4)});else{var a,u={trigger:i};for((a=maybeGenerateConditional(t,r,"event"))&&(u.eventFilter=a);r.length>0&&","!==r[0];){consumeUntil(r,NOT_WHITESPACE);var l=r.shift();if("changed"===l)u.changed=!0;else if("once"===l)u.once=!0;else if("consume"===l)u.consume=!0;else if("delay"===l&&":"===r[0])r.shift(),u.delay=parseInterval(consumeUntil(r,WHITESPACE_OR_COMMA));else if("from"===l&&":"===r[0]){r.shift();var c=consumeUntil(r,WHITESPACE_OR_COMMA);"closest"!==c&&"find"!==c&&"next"!==c&&"previous"!==c||(r.shift(),c+=" "+consumeUntil(r,WHITESPACE_OR_COMMA)),u.from=c}else"target"===l&&":"===r[0]?(r.shift(),u.target=consumeUntil(r,WHITESPACE_OR_COMMA)):"throttle"===l&&":"===r[0]?(r.shift(),u.throttle=parseInterval(consumeUntil(r,WHITESPACE_OR_COMMA))):"queue"===l&&":"===r[0]?(r.shift(),u.queue=consumeUntil(r,WHITESPACE_OR_COMMA)):"root"!==l&&"threshold"!==l||":"!==r[0]?triggerErrorEvent(t,"htmx:syntax:error",{token:r.shift()}):(r.shift(),u[l]=consumeUntil(r,WHITESPACE_OR_COMMA))}n.push(u)}r.length===o&&triggerErrorEvent(t,"htmx:syntax:error",{token:r.shift()}),consumeUntil(r,NOT_WHITESPACE)}while(","===r[0]&&r.shift())}return n.length>0?n:matches(t,"form")?[{trigger:"submit"}]:matches(t,'input[type="button"]')?[{trigger:"click"}]:matches(t,INPUT_SELECTOR)?[{trigger:"change"}]:[{trigger:"click"}]}function cancelPolling(t){getInternalData(t).cancelled=!0}function processPolling(t,e,n){var r=getInternalData(t);r.timeout=setTimeout((function(){bodyContains(t)&&!0!==r.cancelled&&(maybeFilterEvent(n,makeEvent("hx:poll:trigger",{triggerSpec:n,target:t}))||e(t),processPolling(t,e,n))}),n.pollInterval)}function isLocalLink(t){return location.hostname===t.hostname&&getRawAttribute(t,"href")&&0!==getRawAttribute(t,"href").indexOf("#")}function boostElement(t,e,n){if("A"===t.tagName&&isLocalLink(t)&&(""===t.target||"_self"===t.target)||"FORM"===t.tagName){var r,o;if(e.boosted=!0,"A"===t.tagName)r="get",o=getRawAttribute(t,"href");else{var i=getRawAttribute(t,"method");r=i?i.toLowerCase():"get",o=getRawAttribute(t,"action")}n.forEach((function(n){addEventListener(t,(function(t,e){issueAjaxRequest(r,o,t,e)}),e,n,!0)}))}}function shouldCancel(t,e){if("submit"===t.type||"click"===t.type){if("FORM"===e.tagName)return!0;if(matches(e,'input[type="submit"], button')&&null!==closest(e,"form"))return!0;if("A"===e.tagName&&e.href&&("#"===e.getAttribute("href")||0!==e.getAttribute("href").indexOf("#")))return!0}return!1}function ignoreBoostedAnchorCtrlClick(t,e){return getInternalData(t).boosted&&"A"===t.tagName&&"click"===e.type&&(e.ctrlKey||e.metaKey)}function maybeFilterEvent(t,e){var n=t.eventFilter;if(n)try{return!0!==n(e)}catch(t){return triggerErrorEvent(getDocument().body,"htmx:eventFilter:error",{error:t,source:n.source}),!0}return!1}function addEventListener(t,e,n,r,o){var i,s=getInternalData(t);i=r.from?querySelectorAllExt(t,r.from):[t],r.changed&&(s.lastValue=t.value),forEach(i,(function(i){var a=function(n){if(bodyContains(t)){if(!ignoreBoostedAnchorCtrlClick(t,n)&&((o||shouldCancel(n,t))&&n.preventDefault(),!maybeFilterEvent(r,n))){var u=getInternalData(n);if(u.triggerSpec=r,null==u.handledFor&&(u.handledFor=[]),u.handledFor.indexOf(t)<0){if(u.handledFor.push(t),r.consume&&n.stopPropagation(),r.target&&n.target&&!matches(n.target,r.target))return;if(r.once){if(s.triggeredOnce)return;s.triggeredOnce=!0}if(r.changed){if(s.lastValue===t.value)return;s.lastValue=t.value}if(s.delayed&&clearTimeout(s.delayed),s.throttle)return;r.throttle?s.throttle||(e(t,n),s.throttle=setTimeout((function(){s.throttle=null}),r.throttle)):r.delay?s.delayed=setTimeout((function(){e(t,n)}),r.delay):(triggerEvent(t,"htmx:trigger"),e(t,n))}}}else i.removeEventListener(r.trigger,a)};null==n.listenerInfos&&(n.listenerInfos=[]),n.listenerInfos.push({trigger:r.trigger,listener:a,on:i}),i.addEventListener(r.trigger,a)}))}var windowIsScrolling=!1,scrollHandler=null;function initScrollHandler(){scrollHandler||(scrollHandler=function(){windowIsScrolling=!0},window.addEventListener("scroll",scrollHandler),setInterval((function(){windowIsScrolling&&(windowIsScrolling=!1,forEach(getDocument().querySelectorAll("[hx-trigger='revealed'],[data-hx-trigger='revealed']"),(function(t){maybeReveal(t)})))}),200))}function maybeReveal(t){!hasAttribute(t,"data-hx-revealed")&&isScrolledIntoView(t)&&(t.setAttribute("data-hx-revealed","true"),getInternalData(t).initHash?triggerEvent(t,"revealed"):t.addEventListener("htmx:afterProcessNode",(function(e){triggerEvent(t,"revealed")}),{once:!0}))}function processWebSocketInfo(t,e,n){for(var r=splitOnWhitespace(n),o=0;o<r.length;o++){var i=r[o].split(/:(.+)/);"connect"===i[0]&&ensureWebSocket(t,i[1],0),"send"===i[0]&&processWebSocketSend(t)}}function ensureWebSocket(t,e,n){if(bodyContains(t)){if(0==e.indexOf("/")){var r=location.hostname+(location.port?":"+location.port:"");"https:"==location.protocol?e="wss://"+r+e:"http:"==location.protocol&&(e="ws://"+r+e)}var o=htmx.createWebSocket(e);o.onerror=function(e){triggerErrorEvent(t,"htmx:wsError",{error:e,socket:o}),maybeCloseWebSocketSource(t)},o.onclose=function(r){if([1006,1012,1013].indexOf(r.code)>=0){var o=getWebSocketReconnectDelay(n);setTimeout((function(){ensureWebSocket(t,e,n+1)}),o)}},o.onopen=function(t){n=0},getInternalData(t).webSocket=o,o.addEventListener("message",(function(e){if(!maybeCloseWebSocketSource(t)){var n=e.data;withExtensions(t,(function(e){n=e.transformResponse(n,null,t)}));for(var r=makeSettleInfo(t),o=toArray(makeFragment(n).children),i=0;i<o.length;i++){var s=o[i];oobSwap(getAttributeValue(s,"hx-swap-oob")||"true",s,r)}settleImmediately(r.tasks)}}))}}function maybeCloseWebSocketSource(t){if(!bodyContains(t))return getInternalData(t).webSocket.close(),!0}function processWebSocketSend(t){var e=getClosestMatch(t,(function(t){return null!=getInternalData(t).webSocket}));e?t.addEventListener(getTriggerSpecs(t)[0].trigger,(function(n){var r=getInternalData(e).webSocket,o=getHeaders(t,e),i=getInputValues(t,"post"),s=i.errors,a=filterValues(mergeObjects(i.values,getExpressionVars(t)),t);a.HEADERS=o,s&&s.length>0?triggerEvent(t,"htmx:validation:halted",s):(r.send(JSON.stringify(a)),shouldCancel(n,t)&&n.preventDefault())})):triggerErrorEvent(t,"htmx:noWebSocketSourceError")}function getWebSocketReconnectDelay(t){var e=htmx.config.wsReconnectDelay;if("function"==typeof e)return e(t);if("full-jitter"===e){var n=Math.min(t,6);return 1e3*Math.pow(2,n)*Math.random()}logError('htmx.config.wsReconnectDelay must either be a function or the string "full-jitter"')}function processSSEInfo(t,e,n){for(var r=splitOnWhitespace(n),o=0;o<r.length;o++){var i=r[o].split(/:(.+)/);"connect"===i[0]&&processSSESource(t,i[1]),"swap"===i[0]&&processSSESwap(t,i[1])}}function processSSESource(t,e){var n=htmx.createEventSource(e);n.onerror=function(e){triggerErrorEvent(t,"htmx:sseError",{error:e,source:n}),maybeCloseSSESource(t)},getInternalData(t).sseEventSource=n}function processSSESwap(t,e){var n=getClosestMatch(t,hasEventSource);if(n){var r=getInternalData(n).sseEventSource,o=function(i){if(maybeCloseSSESource(n))r.removeEventListener(e,o);else{var s=i.data;withExtensions(t,(function(e){s=e.transformResponse(s,null,t)}));var a=getSwapSpecification(t),u=getTarget(t),l=makeSettleInfo(t);selectAndSwap(a.swapStyle,t,u,s,l),settleImmediately(l.tasks),triggerEvent(t,"htmx:sseMessage",i)}};getInternalData(t).sseListener=o,r.addEventListener(e,o)}else triggerErrorEvent(t,"htmx:noSSESourceError")}function processSSETrigger(t,e,n){var r=getClosestMatch(t,hasEventSource);if(r){var o=getInternalData(r).sseEventSource,i=function(){maybeCloseSSESource(r)||(bodyContains(t)?e(t):o.removeEventListener(n,i))};getInternalData(t).sseListener=i,o.addEventListener(n,i)}else triggerErrorEvent(t,"htmx:noSSESourceError")}function maybeCloseSSESource(t){if(!bodyContains(t))return getInternalData(t).sseEventSource.close(),!0}function hasEventSource(t){return null!=getInternalData(t).sseEventSource}function loadImmediately(t,e,n,r){var o=function(){n.loaded||(n.loaded=!0,e(t))};r?setTimeout(o,r):o()}function processVerbs(t,e,n){var r=!1;return forEach(VERBS,(function(o){if(hasAttribute(t,"hx-"+o)){var i=getAttributeValue(t,"hx-"+o);r=!0,e.path=i,e.verb=o,n.forEach((function(n){addTriggerHandler(t,n,e,(function(t,e){issueAjaxRequest(o,i,t,e)}))}))}})),!r&&hasAttribute(t,"hx-trigger")&&(r=!0,n.forEach((function(n){addTriggerHandler(t,n,e,(function(){}))}))),r}function addTriggerHandler(t,e,n,r){if(e.sseEvent)processSSETrigger(t,r,e.sseEvent);else if("revealed"===e.trigger)initScrollHandler(),addEventListener(t,r,n,e),maybeReveal(t);else if("intersect"===e.trigger){var o={};e.root&&(o.root=querySelectorExt(t,e.root)),e.threshold&&(o.threshold=parseFloat(e.threshold)),new IntersectionObserver((function(e){for(var n=0;n<e.length;n++){if(e[n].isIntersecting){triggerEvent(t,"intersect");break}}}),o).observe(t),addEventListener(t,r,n,e)}else"load"===e.trigger?maybeFilterEvent(e,makeEvent("load",{elt:t}))||loadImmediately(t,r,n,e.delay):e.pollInterval?(n.polling=!0,processPolling(t,r,e)):addEventListener(t,r,n,e)}function evalScript(t){if("text/javascript"===t.type||"module"===t.type||""===t.type){var e=getDocument().createElement("script");forEach(t.attributes,(function(t){e.setAttribute(t.name,t.value)})),e.textContent=t.textContent,e.async=!1,htmx.config.inlineScriptNonce&&(e.nonce=htmx.config.inlineScriptNonce);var n=t.parentElement;try{n.insertBefore(e,t)}catch(t){logError(t)}finally{t.parentElement&&t.parentElement.removeChild(t)}}}function processScripts(t){matches(t,"script")&&evalScript(t),forEach(findAll(t,"script"),(function(t){evalScript(t)}))}function hasChanceOfBeingBoosted(){return document.querySelector("[hx-boost], [data-hx-boost]")}function findElementsToProcess(t){if(t.querySelectorAll){var e=hasChanceOfBeingBoosted()?", a, form":"";return t.querySelectorAll(VERB_SELECTOR+e+", [hx-sse], [data-hx-sse], [hx-ws], [data-hx-ws], [hx-ext], [data-hx-ext], [hx-trigger], [data-hx-trigger], [hx-on], [data-hx-on]")}return[]}function initButtonTracking(t){var e=function(e){var n=closest(e.target,"button, input[type='submit']");null!==n&&(getInternalData(t).lastButtonClicked=n)};t.addEventListener("click",e),t.addEventListener("focusin",e),t.addEventListener("focusout",(function(e){getInternalData(t).lastButtonClicked=null}))}function countCurlies(t){var e=tokenizeString(t),n=0;for(let t=0;t<e.length;t++){const r=e[t];"{"===r?n++:"}"===r&&n--}return n}function addHxOnEventHandler(t,e,n){var r=getInternalData(t);r.onHandlers||={};var o=new Function("event",n+"; return;"),i=t.addEventListener(e,(function(e){return o.call(t,e)}));return r.onHandlers[e]=i,{nodeData:r,code:n,func:o,listener:i}}function processHxOn(t){var e=getAttributeValue(t,"hx-on");if(e){for(var n={},r=e.split("\n"),o=null,i=0;r.length>0;){var s=r.shift(),a=s.match(/^\s*([a-zA-Z:\-]+:)(.*)/);0===i&&a?(s.split(":"),n[o=a[1].slice(0,-1)]=a[2]):n[o]+=s,i+=countCurlies(s)}for(var u in n)addHxOnEventHandler(t,u,n[u])}}function initNode(t){if(!t.closest||!t.closest(htmx.config.disableSelector)){var e=getInternalData(t);if(e.initHash!==attributeHash(t)){e.initHash=attributeHash(t),deInitNode(t),processHxOn(t),triggerEvent(t,"htmx:beforeProcessNode"),t.value&&(e.lastValue=t.value);var n=getTriggerSpecs(t);processVerbs(t,e,n)||"true"!==getClosestAttributeValue(t,"hx-boost")||boostElement(t,e,n),"FORM"===t.tagName&&initButtonTracking(t);var r=getAttributeValue(t,"hx-sse");r&&processSSEInfo(t,e,r);var o=getAttributeValue(t,"hx-ws");o&&processWebSocketInfo(t,e,o),triggerEvent(t,"htmx:afterProcessNode")}}}function processNode(t){initNode(t=resolveTarget(t)),forEach(findElementsToProcess(t),(function(t){initNode(t)}))}function kebabEventName(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function makeEvent(t,e){var n;return window.CustomEvent&&"function"==typeof window.CustomEvent?n=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:e}):(n=getDocument().createEvent("CustomEvent")).initCustomEvent(t,!0,!0,e),n}function triggerErrorEvent(t,e,n){triggerEvent(t,e,mergeObjects({error:e},n))}function ignoreEventForLogging(t){return"htmx:afterProcessNode"===t}function withExtensions(t,e){forEach(getExtensions(t),(function(t){try{e(t)}catch(t){logError(t)}}))}function logError(t){console.error?console.error(t):console.log&&console.log("ERROR: ",t)}function triggerEvent(t,e,n){t=resolveTarget(t),null==n&&(n={}),n.elt=t;var r=makeEvent(e,n);htmx.logger&&!ignoreEventForLogging(e)&&htmx.logger(t,e,n),n.error&&(logError(n.error),triggerEvent(t,"htmx:error",{errorInfo:n}));var o=t.dispatchEvent(r),i=kebabEventName(e);if(o&&i!==e){var s=makeEvent(i,r.detail);o=o&&t.dispatchEvent(s)}return withExtensions(t,(function(t){o=o&&!1!==t.onEvent(e,r)})),o}var currentPathForHistory=location.pathname+location.search;function getHistoryElement(){return getDocument().querySelector("[hx-history-elt],[data-hx-history-elt]")||getDocument().body}function saveToHistoryCache(t,e,n,r){if(canAccessLocalStorage()){for(var o=parseJSON(localStorage.getItem("htmx-history-cache"))||[],i=0;i<o.length;i++)if(o[i].url===t){o.splice(i,1);break}var s={url:t,content:e,title:n,scroll:r};for(triggerEvent(getDocument().body,"htmx:historyItemCreated",{item:s,cache:o}),o.push(s);o.length>htmx.config.historyCacheSize;)o.shift();for(;o.length>0;)try{localStorage.setItem("htmx-history-cache",JSON.stringify(o));break}catch(t){triggerErrorEvent(getDocument().body,"htmx:historyCacheError",{cause:t,cache:o}),o.shift()}}}function getCachedHistory(t){if(!canAccessLocalStorage())return null;for(var e=parseJSON(localStorage.getItem("htmx-history-cache"))||[],n=0;n<e.length;n++)if(e[n].url===t)return e[n];return null}function cleanInnerHtmlForHistory(t){var e=htmx.config.requestClass,n=t.cloneNode(!0);return forEach(findAll(n,"."+e),(function(t){removeClassFromElement(t,e)})),n.innerHTML}function saveCurrentPageToHistory(){var t=getHistoryElement(),e=currentPathForHistory||location.pathname+location.search;getDocument().querySelector('[hx-history="false" i],[data-hx-history="false" i]')||(triggerEvent(getDocument().body,"htmx:beforeHistorySave",{path:e,historyElt:t}),saveToHistoryCache(e,cleanInnerHtmlForHistory(t),getDocument().title,window.scrollY)),htmx.config.historyEnabled&&history.replaceState({htmx:!0},getDocument().title,window.location.href)}function pushUrlIntoHistory(t){htmx.config.getCacheBusterParam&&((t=t.replace(/org\.htmx\.cache-buster=[^&]*&?/,"")).endsWith("&")||t.endsWith("?"))&&(t=t.slice(0,-1)),htmx.config.historyEnabled&&history.pushState({htmx:!0},"",t),currentPathForHistory=t}function replaceUrlInHistory(t){htmx.config.historyEnabled&&history.replaceState({htmx:!0},"",t),currentPathForHistory=t}function settleImmediately(t){forEach(t,(function(t){t.call()}))}function loadHistoryFromServer(t){var e=new XMLHttpRequest,n={path:t,xhr:e};triggerEvent(getDocument().body,"htmx:historyCacheMiss",n),e.open("GET",t,!0),e.setRequestHeader("HX-History-Restore-Request","true"),e.onload=function(){if(this.status>=200&&this.status<400){triggerEvent(getDocument().body,"htmx:historyCacheMissLoad",n);var e=makeFragment(this.response);e=e.querySelector("[hx-history-elt],[data-hx-history-elt]")||e;var r=getHistoryElement(),o=makeSettleInfo(r),i=findTitle(this.response);if(i){var s=find("title");s?s.innerHTML=i:window.document.title=i}swapInnerHTML(r,e,o),settleImmediately(o.tasks),currentPathForHistory=t,triggerEvent(getDocument().body,"htmx:historyRestore",{path:t,cacheMiss:!0,serverResponse:this.response})}else triggerErrorEvent(getDocument().body,"htmx:historyCacheMissLoadError",n)},e.send()}function restoreHistory(t){saveCurrentPageToHistory();var e=getCachedHistory(t=t||location.pathname+location.search);if(e){var n=makeFragment(e.content),r=getHistoryElement(),o=makeSettleInfo(r);swapInnerHTML(r,n,o),settleImmediately(o.tasks),document.title=e.title,window.scrollTo(0,e.scroll),currentPathForHistory=t,triggerEvent(getDocument().body,"htmx:historyRestore",{path:t,item:e})}else htmx.config.refreshOnHistoryMiss?window.location.reload(!0):loadHistoryFromServer(t)}function addRequestIndicatorClasses(t){var e=findAttributeTargets(t,"hx-indicator");return null==e&&(e=[t]),forEach(e,(function(t){var e=getInternalData(t);e.requestCount=(e.requestCount||0)+1,t.classList.add.call(t.classList,htmx.config.requestClass)})),e}function removeRequestIndicatorClasses(t){forEach(t,(function(t){var e=getInternalData(t);e.requestCount=(e.requestCount||0)-1,0===e.requestCount&&t.classList.remove.call(t.classList,htmx.config.requestClass)}))}function haveSeenNode(t,e){for(var n=0;n<t.length;n++){if(t[n].isSameNode(e))return!0}return!1}function shouldInclude(t){return""!==t.name&&null!=t.name&&!t.disabled&&("button"!==t.type&&"submit"!==t.type&&"image"!==t.tagName&&"reset"!==t.tagName&&"file"!==t.tagName&&("checkbox"!==t.type&&"radio"!==t.type||t.checked))}function processInputValue(t,e,n,r,o){if(null!=r&&!haveSeenNode(t,r)){if(t.push(r),shouldInclude(r)){var i=getRawAttribute(r,"name"),s=r.value;if(r.multiple&&(s=toArray(r.querySelectorAll("option:checked")).map((function(t){return t.value}))),r.files&&(s=toArray(r.files)),null!=i&&null!=s){var a=e[i];void 0!==a?Array.isArray(a)?Array.isArray(s)?e[i]=a.concat(s):a.push(s):Array.isArray(s)?e[i]=[a].concat(s):e[i]=[a,s]:e[i]=s}o&&validateElement(r,n)}if(matches(r,"form"))forEach(r.elements,(function(r){processInputValue(t,e,n,r,o)}))}}function validateElement(t,e){t.willValidate&&(triggerEvent(t,"htmx:validation:validate"),t.checkValidity()||(e.push({elt:t,message:t.validationMessage,validity:t.validity}),triggerEvent(t,"htmx:validation:failed",{message:t.validationMessage,validity:t.validity})))}function getInputValues(t,e){var n=[],r={},o={},i=[],s=getInternalData(t),a=matches(t,"form")&&!0!==t.noValidate||"true"===getAttributeValue(t,"hx-validate");if(s.lastButtonClicked&&(a=a&&!0!==s.lastButtonClicked.formNoValidate),"get"!==e&&processInputValue(n,o,i,closest(t,"form"),a),processInputValue(n,r,i,t,a),s.lastButtonClicked){var u=getRawAttribute(s.lastButtonClicked,"name");u&&(r[u]=s.lastButtonClicked.value)}return forEach(findAttributeTargets(t,"hx-include"),(function(t){processInputValue(n,r,i,t,a),matches(t,"form")||forEach(t.querySelectorAll(INPUT_SELECTOR),(function(t){processInputValue(n,r,i,t,a)}))})),r=mergeObjects(r,o),{errors:i,values:r}}function appendParam(t,e,n){""!==t&&(t+="&"),"[object Object]"===String(n)&&(n=JSON.stringify(n));var r=encodeURIComponent(n);return t+=encodeURIComponent(e)+"="+r}function urlEncode(t){var e="";for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];Array.isArray(r)?forEach(r,(function(t){e=appendParam(e,n,t)})):e=appendParam(e,n,r)}return e}function makeFormData(t){var e=new FormData;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];Array.isArray(r)?forEach(r,(function(t){e.append(n,t)})):e.append(n,r)}return e}function getHeaders(t,e,n){var r={"HX-Request":"true","HX-Trigger":getRawAttribute(t,"id"),"HX-Trigger-Name":getRawAttribute(t,"name"),"HX-Target":getAttributeValue(e,"id"),"HX-Current-URL":getDocument().location.href};return getValuesForElement(t,"hx-headers",!1,r),void 0!==n&&(r["HX-Prompt"]=n),getInternalData(t).boosted&&(r["HX-Boosted"]="true"),r}function filterValues(t,e){var n=getClosestAttributeValue(e,"hx-params");if(n){if("none"===n)return{};if("*"===n)return t;if(0===n.indexOf("not "))return forEach(n.substr(4).split(","),(function(e){e=e.trim(),delete t[e]})),t;var r={};return forEach(n.split(","),(function(e){e=e.trim(),r[e]=t[e]})),r}return t}function isAnchorLink(t){return getRawAttribute(t,"href")&&getRawAttribute(t,"href").indexOf("#")>=0}function getSwapSpecification(t,e){var n=e||getClosestAttributeValue(t,"hx-swap"),r={swapStyle:getInternalData(t).boosted?"innerHTML":htmx.config.defaultSwapStyle,swapDelay:htmx.config.defaultSwapDelay,settleDelay:htmx.config.defaultSettleDelay};if(getInternalData(t).boosted&&!isAnchorLink(t)&&(r.show="top"),n){var o=splitOnWhitespace(n);if(o.length>0){r.swapStyle=o[0];for(var i=1;i<o.length;i++){var s=o[i];if(0===s.indexOf("swap:")&&(r.swapDelay=parseInterval(s.substr(5))),0===s.indexOf("settle:")&&(r.settleDelay=parseInterval(s.substr(7))),0===s.indexOf("transition:")&&(r.transition="true"===s.substr(11)),0===s.indexOf("scroll:")){var a=(l=s.substr(7).split(":")).pop(),u=l.length>0?l.join(":"):null;r.scroll=a,r.scrollTarget=u}if(0===s.indexOf("show:")){var l,c=(l=s.substr(5).split(":")).pop();u=l.length>0?l.join(":"):null;r.show=c,r.showTarget=u}if(0===s.indexOf("focus-scroll:")){var p=s.substr("focus-scroll:".length);r.focusScroll="true"==p}}}}return r}function usesFormData(t){return"multipart/form-data"===getClosestAttributeValue(t,"hx-encoding")||matches(t,"form")&&"multipart/form-data"===getRawAttribute(t,"enctype")}function encodeParamsForBody(t,e,n){var r=null;return withExtensions(e,(function(o){null==r&&(r=o.encodeParameters(t,n,e))})),null!=r?r:usesFormData(e)?makeFormData(n):urlEncode(n)}function makeSettleInfo(t){return{tasks:[],elts:[t]}}function updateScrollState(t,e){var n=t[0],r=t[t.length-1];if(e.scroll){var o=null;e.scrollTarget&&(o=querySelectorExt(n,e.scrollTarget)),"top"===e.scroll&&(n||o)&&((o=o||n).scrollTop=0),"bottom"===e.scroll&&(r||o)&&((o=o||r).scrollTop=o.scrollHeight)}if(e.show){o=null;if(e.showTarget){var i=e.showTarget;"window"===e.showTarget&&(i="body"),o=querySelectorExt(n,i)}"top"===e.show&&(n||o)&&(o=o||n).scrollIntoView({block:"start",behavior:htmx.config.scrollBehavior}),"bottom"===e.show&&(r||o)&&(o=o||r).scrollIntoView({block:"end",behavior:htmx.config.scrollBehavior})}}function getValuesForElement(t,e,n,r){if(null==r&&(r={}),null==t)return r;var o=getAttributeValue(t,e);if(o){var i,s=o.trim(),a=n;if("unset"===s)return null;for(var u in 0===s.indexOf("javascript:")?(s=s.substr(11),a=!0):0===s.indexOf("js:")&&(s=s.substr(3),a=!0),0!==s.indexOf("{")&&(s="{"+s+"}"),i=a?maybeEval(t,(function(){return Function("return ("+s+")")()}),{}):parseJSON(s))i.hasOwnProperty(u)&&null==r[u]&&(r[u]=i[u])}return getValuesForElement(parentElt(t),e,n,r)}function maybeEval(t,e,n){return htmx.config.allowEval?e():(triggerErrorEvent(t,"htmx:evalDisallowedError"),n)}function getHXVarsForElement(t,e){return getValuesForElement(t,"hx-vars",!0,e)}function getHXValsForElement(t,e){return getValuesForElement(t,"hx-vals",!1,e)}function getExpressionVars(t){return mergeObjects(getHXVarsForElement(t),getHXValsForElement(t))}function safelySetHeaderValue(t,e,n){if(null!==n)try{t.setRequestHeader(e,n)}catch(r){t.setRequestHeader(e,encodeURIComponent(n)),t.setRequestHeader(e+"-URI-AutoEncoded","true")}}function getPathFromResponse(t){if(t.responseURL&&"undefined"!=typeof URL)try{var e=new URL(t.responseURL);return e.pathname+e.search}catch(e){triggerErrorEvent(getDocument().body,"htmx:badResponseUrl",{url:t.responseURL})}}function hasHeader(t,e){return t.getAllResponseHeaders().match(e)}function ajaxHelper(t,e,n){return t=t.toLowerCase(),n?n instanceof Element||isType(n,"String")?issueAjaxRequest(t,e,null,null,{targetOverride:resolveTarget(n),returnPromise:!0}):issueAjaxRequest(t,e,resolveTarget(n.source),n.event,{handler:n.handler,headers:n.headers,values:n.values,targetOverride:resolveTarget(n.target),swapOverride:n.swap,returnPromise:!0}):issueAjaxRequest(t,e,null,null,{returnPromise:!0})}function hierarchyForElt(t){for(var e=[];t;)e.push(t),t=t.parentElement;return e}function issueAjaxRequest(t,e,n,r,o,i){var s=null,a=null;if((o=null!=o?o:{}).returnPromise&&"undefined"!=typeof Promise)var u=new Promise((function(t,e){s=t,a=e}));null==n&&(n=getDocument().body);var l=o.handler||handleAjaxResponse;if(bodyContains(n)){var c=o.targetOverride||getTarget(n);if(null!=c&&c!=DUMMY_ELT){if(!i){if(!1===triggerEvent(n,"htmx:confirm",{target:c,elt:n,path:e,verb:t,triggeringEvent:r,etc:o,issueRequest:function(){return issueAjaxRequest(t,e,n,r,o,!0)}}))return}var p=n,f=getInternalData(n),h=getClosestAttributeValue(n,"hx-sync"),d=null,m=!1;if(h){var v=h.split(":"),g=v[0].trim();if(p="this"===g?findThisElement(n,"hx-sync"):querySelectorExt(n,g),h=(v[1]||"drop").trim(),f=getInternalData(p),"drop"===h&&f.xhr&&!0!==f.abortable)return;if("abort"===h){if(f.xhr)return;m=!0}else if("replace"===h)triggerEvent(p,"htmx:abort");else if(0===h.indexOf("queue")){d=(h.split(" ")[1]||"last").trim()}}if(f.xhr){if(!f.abortable){if(null==d){if(r){var y=getInternalData(r);y&&y.triggerSpec&&y.triggerSpec.queue&&(d=y.triggerSpec.queue)}null==d&&(d="last")}return null==f.queuedRequests&&(f.queuedRequests=[]),void("first"===d&&0===f.queuedRequests.length||"all"===d?f.queuedRequests.push((function(){issueAjaxRequest(t,e,n,r,o)})):"last"===d&&(f.queuedRequests=[],f.queuedRequests.push((function(){issueAjaxRequest(t,e,n,r,o)}))))}triggerEvent(p,"htmx:abort")}var b=new XMLHttpRequest;f.xhr=b,f.abortable=m;var w=function(){(f.xhr=null,f.abortable=!1,null!=f.queuedRequests&&f.queuedRequests.length>0)&&f.queuedRequests.shift()()},E=getClosestAttributeValue(n,"hx-prompt");if(E){var S=prompt(E);if(null===S||!triggerEvent(n,"htmx:prompt",{prompt:S,target:c}))return maybeCall(s),w(),u}var x=getClosestAttributeValue(n,"hx-confirm");if(x&&!confirm(x))return maybeCall(s),w(),u;var C=getHeaders(n,c,S);o.headers&&(C=mergeObjects(C,o.headers));var O=getInputValues(n,t),_=O.errors,T=O.values;o.values&&(T=mergeObjects(T,o.values));var k=mergeObjects(T,getExpressionVars(n)),A=filterValues(k,n);"get"===t||usesFormData(n)||(C["Content-Type"]="application/x-www-form-urlencoded"),htmx.config.getCacheBusterParam&&"get"===t&&(A["org.htmx.cache-buster"]=getRawAttribute(c,"id")||"true"),null!=e&&""!==e||(e=getDocument().location.href);var D=getValuesForElement(n,"hx-request"),P=getInternalData(n).boosted,L={boosted:P,parameters:A,unfilteredParameters:k,headers:C,target:c,verb:t,errors:_,withCredentials:o.credentials||D.credentials||htmx.config.withCredentials,timeout:o.timeout||D.timeout||htmx.config.timeout,path:e,triggeringEvent:r};if(!triggerEvent(n,"htmx:configRequest",L))return maybeCall(s),w(),u;if(e=L.path,t=L.verb,C=L.headers,A=L.parameters,(_=L.errors)&&_.length>0)return triggerEvent(n,"htmx:validation:halted",L),maybeCall(s),w(),u;var R=e.split("#"),F=R[0],M=R[1],I=null;if("get"===t)I=F,0!==Object.keys(A).length&&(I.indexOf("?")<0?I+="?":I+="&",I+=urlEncode(A),M&&(I+="#"+M)),b.open("GET",I,!0);else b.open(t.toUpperCase(),e,!0);if(b.overrideMimeType("text/html"),b.withCredentials=L.withCredentials,b.timeout=L.timeout,D.noHeaders);else for(var N in C)if(C.hasOwnProperty(N)){var j=C[N];safelySetHeaderValue(b,N,j)}var H={xhr:b,target:c,requestConfig:L,etc:o,boosted:P,pathInfo:{requestPath:e,finalRequestPath:I||e,anchor:M}};if(b.onload=function(){try{var t=hierarchyForElt(n);if(H.pathInfo.responsePath=getPathFromResponse(b),l(n,H),removeRequestIndicatorClasses(q),triggerEvent(n,"htmx:afterRequest",H),triggerEvent(n,"htmx:afterOnLoad",H),!bodyContains(n)){for(var e=null;t.length>0&&null==e;){var r=t.shift();bodyContains(r)&&(e=r)}e&&(triggerEvent(e,"htmx:afterRequest",H),triggerEvent(e,"htmx:afterOnLoad",H))}maybeCall(s),w()}catch(t){throw triggerErrorEvent(n,"htmx:onLoadError",mergeObjects({error:t},H)),t}},b.onerror=function(){removeRequestIndicatorClasses(q),triggerErrorEvent(n,"htmx:afterRequest",H),triggerErrorEvent(n,"htmx:sendError",H),maybeCall(a),w()},b.onabort=function(){removeRequestIndicatorClasses(q),triggerErrorEvent(n,"htmx:afterRequest",H),triggerErrorEvent(n,"htmx:sendAbort",H),maybeCall(a),w()},b.ontimeout=function(){removeRequestIndicatorClasses(q),triggerErrorEvent(n,"htmx:afterRequest",H),triggerErrorEvent(n,"htmx:timeout",H),maybeCall(a),w()},!triggerEvent(n,"htmx:beforeRequest",H))return maybeCall(s),w(),u;var q=addRequestIndicatorClasses(n);return forEach(["loadstart","loadend","progress","abort"],(function(t){forEach([b,b.upload],(function(e){e.addEventListener(t,(function(e){triggerEvent(n,"htmx:xhr:"+t,{lengthComputable:e.lengthComputable,loaded:e.loaded,total:e.total})}))}))})),triggerEvent(n,"htmx:beforeSend",H),b.send("get"===t?null:encodeParamsForBody(b,n,A)),u}triggerErrorEvent(n,"htmx:targetError",{target:getAttributeValue(n,"hx-target")})}}function determineHistoryUpdates(t,e){var n=e.xhr,r=null,o=null;if(hasHeader(n,/HX-Push:/i)?(r=n.getResponseHeader("HX-Push"),o="push"):hasHeader(n,/HX-Push-Url:/i)?(r=n.getResponseHeader("HX-Push-Url"),o="push"):hasHeader(n,/HX-Replace-Url:/i)&&(r=n.getResponseHeader("HX-Replace-Url"),o="replace"),r)return"false"===r?{}:{type:o,path:r};var i=e.pathInfo.finalRequestPath,s=e.pathInfo.responsePath,a=getClosestAttributeValue(t,"hx-push-url"),u=getClosestAttributeValue(t,"hx-replace-url"),l=getInternalData(t).boosted,c=null,p=null;return a?(c="push",p=a):u?(c="replace",p=u):l&&(c="push",p=s||i),p?"false"===p?{}:("true"===p&&(p=s||i),e.pathInfo.anchor&&-1===p.indexOf("#")&&(p=p+"#"+e.pathInfo.anchor),{type:c,path:p}):{}}function handleAjaxResponse(t,e){var n=e.xhr,r=e.target,o=e.etc;if(triggerEvent(t,"htmx:beforeOnLoad",e)){if(hasHeader(n,/HX-Trigger:/i)&&handleTrigger(n,"HX-Trigger",t),hasHeader(n,/HX-Location:/i)){saveCurrentPageToHistory();var i=n.getResponseHeader("HX-Location");return 0===i.indexOf("{")&&(f=parseJSON(i),i=f.path,delete f.path),void ajaxHelper("GET",i,f).then((function(){pushUrlIntoHistory(i)}))}if(hasHeader(n,/HX-Redirect:/i))location.href=n.getResponseHeader("HX-Redirect");else if(hasHeader(n,/HX-Refresh:/i)&&"true"===n.getResponseHeader("HX-Refresh"))location.reload();else{hasHeader(n,/HX-Retarget:/i)&&(e.target=getDocument().querySelector(n.getResponseHeader("HX-Retarget")));var s=determineHistoryUpdates(t,e),a=n.status>=200&&n.status<400&&204!==n.status,u=n.response,l=n.status>=400,c=mergeObjects({shouldSwap:a,serverResponse:u,isError:l},e);if(triggerEvent(r,"htmx:beforeSwap",c)){if(r=c.target,u=c.serverResponse,l=c.isError,e.target=r,e.failed=l,e.successful=!l,c.shouldSwap){286===n.status&&cancelPolling(t),withExtensions(t,(function(e){u=e.transformResponse(u,n,t)})),s.type&&saveCurrentPageToHistory();var p=o.swapOverride;hasHeader(n,/HX-Reswap:/i)&&(p=n.getResponseHeader("HX-Reswap"));var f=getSwapSpecification(t,p);r.classList.add(htmx.config.swappingClass);var h=null,d=null,m=function(){try{var o=document.activeElement,i={};try{i={elt:o,start:o?o.selectionStart:null,end:o?o.selectionEnd:null}}catch(t){}var a=makeSettleInfo(r);if(selectAndSwap(f.swapStyle,r,t,u,a),i.elt&&!bodyContains(i.elt)&&i.elt.id){var l=document.getElementById(i.elt.id),c={preventScroll:void 0!==f.focusScroll?!f.focusScroll:!htmx.config.defaultFocusScroll};if(l){if(i.start&&l.setSelectionRange)try{l.setSelectionRange(i.start,i.end)}catch(t){}l.focus(c)}}if(r.classList.remove(htmx.config.swappingClass),forEach(a.elts,(function(t){t.classList&&t.classList.add(htmx.config.settlingClass),triggerEvent(t,"htmx:afterSwap",e)})),hasHeader(n,/HX-Trigger-After-Swap:/i)){var p=t;bodyContains(t)||(p=getDocument().body),handleTrigger(n,"HX-Trigger-After-Swap",p)}var m=function(){if(forEach(a.tasks,(function(t){t.call()})),forEach(a.elts,(function(t){t.classList&&t.classList.remove(htmx.config.settlingClass),triggerEvent(t,"htmx:afterSettle",e)})),s.type&&("push"===s.type?(pushUrlIntoHistory(s.path),triggerEvent(getDocument().body,"htmx:pushedIntoHistory",{path:s.path})):(replaceUrlInHistory(s.path),triggerEvent(getDocument().body,"htmx:replacedInHistory",{path:s.path}))),e.pathInfo.anchor){var r=find("#"+e.pathInfo.anchor);r&&r.scrollIntoView({block:"start",behavior:"auto"})}if(a.title){var o=find("title");o?o.innerHTML=a.title:window.document.title=a.title}if(updateScrollState(a.elts,f),hasHeader(n,/HX-Trigger-After-Settle:/i)){var i=t;bodyContains(t)||(i=getDocument().body),handleTrigger(n,"HX-Trigger-After-Settle",i)}maybeCall(h)};f.settleDelay>0?setTimeout(m,f.settleDelay):m()}catch(n){throw triggerErrorEvent(t,"htmx:swapError",e),maybeCall(d),n}},v=htmx.config.globalViewTransitions;if(f.hasOwnProperty("transition")&&(v=f.transition),v&&triggerEvent(t,"htmx:beforeTransition",e)&&"undefined"!=typeof Promise&&document.startViewTransition){var g=new Promise((function(t,e){h=t,d=e})),y=m;m=function(){document.startViewTransition((function(){return y(),g}))}}f.swapDelay>0?setTimeout(m,f.swapDelay):m()}l&&triggerErrorEvent(t,"htmx:responseError",mergeObjects({error:"Response Status Error Code "+n.status+" from "+e.pathInfo.requestPath},e))}}}}var extensions={};function extensionBase(){return{init:function(t){return null},onEvent:function(t,e){return!0},transformResponse:function(t,e,n){return t},isInlineSwap:function(t){return!1},handleSwap:function(t,e,n,r){return!1},encodeParameters:function(t,e,n){return null}}}function defineExtension(t,e){e.init&&e.init(internalAPI),extensions[t]=mergeObjects(extensionBase(),e)}function removeExtension(t){delete extensions[t]}function getExtensions(t,e,n){if(null==t)return e;null==e&&(e=[]),null==n&&(n=[]);var r=getAttributeValue(t,"hx-ext");return r&&forEach(r.split(","),(function(t){if("ignore:"!=(t=t.replace(/ /g,"")).slice(0,7)){if(n.indexOf(t)<0){var r=extensions[t];r&&e.indexOf(r)<0&&e.push(r)}}else n.push(t.slice(7))})),getExtensions(parentElt(t),e,n)}function ready(t){"loading"!==getDocument().readyState?t():getDocument().addEventListener("DOMContentLoaded",t)}function insertIndicatorStyles(){!1!==htmx.config.includeIndicatorStyles&&getDocument().head.insertAdjacentHTML("beforeend","<style>                      ."+htmx.config.indicatorClass+"{opacity:0;transition: opacity 200ms ease-in;}                      ."+htmx.config.requestClass+" ."+htmx.config.indicatorClass+"{opacity:1}                      ."+htmx.config.requestClass+"."+htmx.config.indicatorClass+"{opacity:1}                    </style>")}function getMetaConfig(){var t=getDocument().querySelector('meta[name="htmx-config"]');return t?parseJSON(t.content):null}function mergeMetaConfig(){var t=getMetaConfig();t&&(htmx.config=mergeObjects(htmx.config,t))}return ready((function(){mergeMetaConfig(),insertIndicatorStyles();var t=getDocument().body;processNode(t);var e=getDocument().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");t.addEventListener("htmx:abort",(function(t){var e=getInternalData(t.target);e&&e.xhr&&e.xhr.abort()})),window.onpopstate=function(t){t.state&&t.state.htmx&&(restoreHistory(),forEach(e,(function(t){triggerEvent(t,"htmx:restored",{document:getDocument(),triggerEvent:triggerEvent})})))},setTimeout((function(){triggerEvent(t,"htmx:load",{}),t=null}),0)})),htmx}()})),function(t,e){"object"==typeof module&&module.exports?module.exports=e():t.Toastify=e()}(this,(function(t){var e=function(t){return new e.lib.init(t)};function n(t,e){return e.offset[t]?isNaN(e.offset[t])?e.offset[t]:e.offset[t]+"px":"0px"}function r(t,e){return!(!t||"string"!=typeof e)&&!!(t.className&&t.className.trim().split(/\s+/gi).indexOf(e)>-1)}return e.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},e.lib=e.prototype={toastify:"1.12.0",constructor:e,init:function(t){return t||(t={}),this.options={},this.toastElement=null,this.options.text=t.text||e.defaults.text,this.options.node=t.node||e.defaults.node,this.options.duration=0===t.duration?0:t.duration||e.defaults.duration,this.options.selector=t.selector||e.defaults.selector,this.options.callback=t.callback||e.defaults.callback,this.options.destination=t.destination||e.defaults.destination,this.options.newWindow=t.newWindow||e.defaults.newWindow,this.options.close=t.close||e.defaults.close,this.options.gravity="bottom"===t.gravity?"toastify-bottom":e.defaults.gravity,this.options.positionLeft=t.positionLeft||e.defaults.positionLeft,this.options.position=t.position||e.defaults.position,this.options.backgroundColor=t.backgroundColor||e.defaults.backgroundColor,this.options.avatar=t.avatar||e.defaults.avatar,this.options.className=t.className||e.defaults.className,this.options.stopOnFocus=void 0===t.stopOnFocus?e.defaults.stopOnFocus:t.stopOnFocus,this.options.onClick=t.onClick||e.defaults.onClick,this.options.offset=t.offset||e.defaults.offset,this.options.escapeMarkup=void 0!==t.escapeMarkup?t.escapeMarkup:e.defaults.escapeMarkup,this.options.ariaLive=t.ariaLive||e.defaults.ariaLive,this.options.style=t.style||e.defaults.style,t.backgroundColor&&(this.options.style.background=t.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var t=document.createElement("div");for(var e in t.className="toastify on "+this.options.className,this.options.position?t.className+=" toastify-"+this.options.position:!0===this.options.positionLeft?(t.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):t.className+=" toastify-right",t.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.'),this.options.style)t.style[e]=this.options.style[e];if(this.options.ariaLive&&t.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)t.appendChild(this.options.node);else if(this.options.escapeMarkup?t.innerText=this.options.text:t.innerHTML=this.options.text,""!==this.options.avatar){var r=document.createElement("img");r.src=this.options.avatar,r.className="toastify-avatar","left"==this.options.position||!0===this.options.positionLeft?t.appendChild(r):t.insertAdjacentElement("afterbegin",r)}if(!0===this.options.close){var o=document.createElement("button");o.type="button",o.setAttribute("aria-label","Close"),o.className="toast-close",o.innerHTML="&#10006;",o.addEventListener("click",function(t){t.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var i=window.innerWidth>0?window.innerWidth:screen.width;("left"==this.options.position||!0===this.options.positionLeft)&&i>360?t.insertAdjacentElement("afterbegin",o):t.appendChild(o)}if(this.options.stopOnFocus&&this.options.duration>0){var s=this;t.addEventListener("mouseover",(function(e){window.clearTimeout(t.timeOutValue)})),t.addEventListener("mouseleave",(function(){t.timeOutValue=window.setTimeout((function(){s.removeElement(t)}),s.options.duration)}))}if(void 0!==this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),"function"==typeof this.options.onClick&&void 0===this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),this.options.onClick()}.bind(this)),"object"==typeof this.options.offset){var a=n("x",this.options),u=n("y",this.options),l="left"==this.options.position?a:"-"+a,c="toastify-top"==this.options.gravity?u:"-"+u;t.style.transform="translate("+l+","+c+")"}return t},showToast:function(){var t;if(this.toastElement=this.buildToast(),!(t="string"==typeof this.options.selector?document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||"undefined"!=typeof ShadowRoot&&this.options.selector instanceof ShadowRoot?this.options.selector:document.body))throw"Root element is not defined";var n=e.defaults.oldestFirst?t.firstChild:t.lastChild;return t.insertBefore(this.toastElement,n),e.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(t){t.className=t.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),t.parentNode&&t.parentNode.removeChild(t),this.options.callback.call(t),e.reposition()}.bind(this),400)}},e.reposition=function(){for(var t,e={top:15,bottom:15},n={top:15,bottom:15},o={top:15,bottom:15},i=document.getElementsByClassName("toastify"),s=0;s<i.length;s++){t=!0===r(i[s],"toastify-top")?"toastify-top":"toastify-bottom";var a=i[s].offsetHeight;t=t.substr(9,t.length-1);(window.innerWidth>0?window.innerWidth:screen.width)<=360?(i[s].style[t]=o[t]+"px",o[t]+=a+15):!0===r(i[s],"toastify-left")?(i[s].style[t]=e[t]+"px",e[t]+=a+15):(i[s].style[t]=n[t]+"px",n[t]+=a+15)}return this},e.lib.init.prototype=e.lib,e})),function(){var t=[,function(){window.up={version:"2.5.1"}},function(){up.mockable=function(t){var e,n=function(){return(e||t).apply(null,arguments)};return n.mock=function(){return e=jasmine.createSpy("mockable",t)},document.addEventListener("up:framework:reset",(function(){return e=null})),n}},function(){var t=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};up.util=function(){function e(){}var n={host:"cross-domain"};function r(t,e){e=N(e,n);var r,o,i=a(t),u="";"cross-domain"===e.host&&(e.host=s(i)),e.host&&(u+=i.protocol+"//"+i.hostname,r=i.protocol,(""===(o=(o=i.port).toString())||"80"===o)&&"http:"===r||"443"===o&&"https:"===r||(u+=":".concat(i.port)));var l=i.pathname;return!1===e.trailingSlash&&"/"!==l&&(l=l.replace(/\/$/,"")),u+=l,!1!==e.search&&(u+=i.search),!1!==e.hash&&(u+=i.hash),u}var o=location.protocol,i=location.hostname;function s(t){if(S(t)&&-1===t.indexOf("//"))return!1;var e=a(t);return i!==e.hostname||o!==e.protocol}function a(t){var e;return k(t)?e=up.element.get(t):t.pathname?e=t:(e=document.createElement("a")).href=t,e.hostname||(e.href=e.href),"/"!==e.pathname[0]&&((e=X(e,["protocol","hostname","port","pathname","search","hash"])).pathname="/"+e.pathname),e}function u(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,o=e;r<o.length;r++){var i=o[r];for(var s in i)t[s]=i[s]}return t}var l=Object.assign||u;var c=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))};function p(t){return S(t)?function(e){return e[t]}:t}function f(t,e){if(0===t.length)return[];e=p(e);for(var n=[],r=0;r<t.length;r++){var o=t[r];n.push(e(o,r))}return n}function h(t,e){for(var n=0;n<t.length;n++)e(t[n],n)}function d(t){return null===t}function m(t){return void 0===t}var v=lt(m);function g(t){return m(t)||d(t)}var y=lt(g);function b(t){return!!g(t)||(O(t)&&t[b.key]?t[b.key]():S(t)||D(t)?0===t.length:!!C(t)&&0===Object.keys(t).length)}b.key="up.util.isBlank";var w=lt(b);function E(t){return"function"==typeof t}function S(t){return"string"==typeof t||t instanceof String}function x(t){return"number"==typeof t||t instanceof Number}function C(t){return"object"==typeof t&&!d(t)&&(m(t.constructor)||t.constructor===Object)}function O(t){var e=typeof t;return"object"===e&&!d(t)||"function"===e}function _(t){return t instanceof Element}function T(t){return t instanceof RegExp}function k(t){return up.browser.canJQuery()&&t instanceof jQuery}var A=Array.isArray;function D(t){return A(t)||P(t)||L(t)||k(t)||function(t){return t instanceof HTMLCollection}(t)}function P(t){return t instanceof NodeList}function L(t){return"[object Arguments]"===Object.prototype.toString.call(t)}function R(t){return D(t)?t:g(t)?[]:[t]}function F(t){return O(t)&&t[F.key]?t=t[F.key]():D(t)?t=M(t):C(t)&&(t=l({},t)),t}function M(t){return Array.prototype.slice.call(t)}function I(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return l.apply(void 0,t([{}],e,!1))}function N(t,e){return e?I(e,t):t?F(t):{}}function j(t,e){e=p(e);for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r)return r}}function H(t,e){e=p(e);for(var n=!0,r=0;r<t.length;r++)if(!e(t[r],r)){n=!1;break}return n}function q(t){var e=[];return t.forEach((function(t){return e.push(t)})),e}function B(t){var e=new Set;return t.forEach((function(t){return e.add(t)})),e}function V(t,e){e=p(e);var n=[];return h(t,(function(t,r){if(e(t,r))return n.push(t)})),n}function U(t){return Promise.resolve().then(t)}function W(t){return t[t.length-1]}function z(t,e){return t.indexOf(e)>=0}function X(t,e){for(var n={},r=0,o=e;r<o.length;r++){var i=o[r];i in t&&(n[i]=t[i])}return n}function K(t,e){e=p(e);var n={};for(var r in t){e(t[r],r,t)&&(n[r]=t[r])}return n}F.key="up.util.copy",Date.prototype[F.key]=function(){return new Date(+this)};var G={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"};function Y(t,e){var n=t[e];return delete t[e],n}function Q(t,e){if(e(W(t)))return t.pop()}function $(t){return Q(t,C)||{}}function J(t){return t}function Z(t){for(var e=[],n=0,r=t;n<r.length;n++){var o=r[n];D(o)?e.push.apply(e,o):e.push(o)}return e}function tt(t){return null==t?void 0:t.catch(e)}function et(t,e){if((null==t?void 0:t.valueOf)&&(t=t.valueOf()),(null==e?void 0:e.valueOf)&&(e=e.valueOf()),typeof t!=typeof e)return!1;if(D(t)&&D(e))return nt(t,e);if(O(t)&&t[et.key])return t[et.key](e);if(C(t)&&C(e)){var n=Object.keys(t);return!!nt(n,Object.keys(e))&&H(n,(function(n){return et(t[n],e[n])}))}return t===e}function nt(t,e){return t.length===e.length&&H(t,(function(t,n){return et(t,e[n])}))}et.key="up.util.isEqual";var rt=0;function ot(t){return t[0].toLowerCase()+t.slice(1)}function it(t){return t[0].toUpperCase()+t.slice(1)}function st(t){var e,n="";if(S(t))e=(e=(e=t.replace(/[\n\r\t ]+/g," ")).replace(/^[\n\r\t ]+/,"")).replace(/[\n\r\t ]$/,"");else if(m(t))e="undefined";else if(x(t)||E(t))e=t.toString();else if(A(t))e="[".concat(f(t,st).join(", "),"]"),n="]";else if(k(t))e="$(".concat(f(t,st).join(", "),")"),n=")";else if(_(t)){e="<".concat(t.tagName.toLowerCase());for(var r=0,o=["id","name","class"];r<o.length;r++){var i=o[r],s=t.getAttribute(i);s&&(e+=" ".concat(i,'="').concat(s,'"'))}e+=">",n=">"}else if(T(t))e=t.toString();else try{e=JSON.stringify(t)}catch(t){if("TypeError"!==t.name)throw t;e="(circular structure)"}return e.length>200&&(e="".concat(e.substr(0,200)," "),e+=n),e}var at=/%[oOdisf]/g;function ut(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!e)return"";var o=0;return e.replace(at,(function(){var e=n[o];return e=t(st(e)),o+=1,e}))}function lt(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(void 0,e)}}return{parseURL:a,normalizeURL:r,matchURLs:function(t,e){return r(t)===r(e)},normalizeMethod:function(t){return t?t.toUpperCase():"GET"},methodAllowsPayload:function(t){return"GET"!==t&&"HEAD"!==t},assign:l,assignPolyfill:u,copy:F,copyArrayLike:M,merge:I,mergeDefined:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0,o=t;r<o.length;r++){var i=o[r];if(i)for(var s in i){var a=i[s];v(a)&&(n[s]=a)}}return n},options:N,parseArgIntoOptions:function(t,e){var n=$(t);return v(t[0])&&((n=F(n))[e]=t[0]),n},each:h,eachIterator:function(t,e){for(var n;(n=t.next())&&!n.done;)e(n.value)},map:f,flatMap:function(t,e){return Z(f(t,e))},mapObject:function(t,e){return f(t,e).reduce((function(t,e){return t[e[0]]=e[1],t}),{})},findResult:j,some:function(t,e){return!!j(t,e)},every:H,find:function(t,e){var n;e=p(e);for(var r=0,o=t;r<o.length;r++){var i=o[r];if(e(i)){n=i;break}}return n},filter:V,reject:function(t,e){return V(t,e=lt(p(e)))},intersect:function(t,e){return V(t,(function(t){return z(e,t)}))},compact:function(t){return V(t,y)},compactObject:function(t){return K(t,y)},uniq:function(t){return t.length<2?t:q(B(t))},uniqBy:function(t,e){if(t.length<2)return t;e=p(e);var n=new Set;return V(t,(function(t,r){var o=e(t,r);return!n.has(o)&&(n.add(o),!0)}))},last:W,isNull:d,isDefined:v,isUndefined:m,isGiven:y,isMissing:g,isPresent:w,isBlank:b,presence:function(t,e){if(void 0===e&&(e=w),e(t))return t},isObject:O,isFunction:E,isString:S,isBoolean:function(t){return"boolean"==typeof t||t instanceof Boolean},isNumber:x,isElement:_,isJQuery:k,isElementish:function(t){var e;return!(!t||!t.addEventListener&&!(null===(e=t[0])||void 0===e?void 0:e.addEventListener))},isPromise:function(t){return O(t)&&E(t.then)},isOptions:C,isArray:A,isFormData:function(t){return t instanceof FormData},isNodeList:P,isArguments:L,isList:D,isRegExp:T,timer:function(t,e){return setTimeout(e,t)},contains:z,objectContains:function(t,e){return et(e,X(t,Object.keys(e)))},toArray:function(t){return A(t)?t:M(t)},pick:X,pickBy:K,omit:function(t,e){return K(t,(function(t,n){return!z(e,n)}))},unresolvablePromise:function(){return new Promise(e)},remove:function(t,e){var n=t.indexOf(e);if(n>=0)return t.splice(n,1),e},memoize:function(t){var e,n;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n?e:(n=!0,e=t.apply(this,r))}},pluckKey:Y,renameKey:function(t,e,n){return t[n]=Y(t,e)},extractOptions:$,extractCallback:function(t){return Q(t,E)},noop:e,asyncNoop:function(){return Promise.resolve()},identity:J,escapeHTML:function(t){return t.replace(/[&<>"']/g,(function(t){return G[t]}))},escapeRegExp:function(t){return t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")},sequence:function(t){return 1===t.length?t[0]:function(){return f(t,(function(t){return t()}))}},evalOption:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return E(t)?t.apply(void 0,e):t},flatten:Z,isTruthy:function(t){return!!t},newDeferred:function(){var t,e,n=new Promise((function(n,r){t=n,e=r}));return n.resolve=t,n.reject=e,n.promise=function(){return n},n},always:function(t,e){return t.then(e,e)},muteRejection:tt,asyncify:function(t){try{return Promise.resolve(t())}catch(t){return Promise.reject(t)}},isBasicObjectProperty:function(t){return Object.prototype.hasOwnProperty(t)},isCrossOrigin:s,task:function(t){return setTimeout(t)},microtask:U,abortableMicrotask:function(t){var e=!1;return U((function(){if(!e)return t()})),function(){return e=!0}},isEqual:et,splitValues:function(t,e){return void 0===e&&(e=" "),S(t)?t=V(t=f(t=t.split(e),(function(t){return t.trim()})),w):R(t)},endsWith:function(t,e){return t.substring(t.length-e.length)===e},wrapList:R,wrapValue:function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return n[0]instanceof e?n[0]:new(e.bind.apply(e,t([void 0],n,!1)))},simpleEase:function(t){return t<.5?2*t*t:t*(4-2*t)-1},values:c,arrayToSet:B,setToArray:q,uid:function(){return rt++},upperCaseFirst:it,lowerCaseFirst:ot,getter:function(t,e,n){Object.defineProperty(t,e,{get:n})},delegate:function(t,e,n){R(e).forEach((function(e){Object.defineProperty(t,e,{get:function(){var t=n.call(this),r=t[e];return E(r)&&(r=r.bind(t)),r},set:function(t){n.call(this)[e]=t}})}))},reverse:function(t){return F(t).reverse()},prefixCamelCase:function(t,e){return e+it(t)},unprefixCamelCase:function(t,e){var n=new RegExp("^"+e+"(.+)$"),r=t.match(n);if(r)return ot(r[1])},camelToKebabCase:function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}))},nullToUndefined:function(t){if(!d(t))return t},sprintf:function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return ut.apply(void 0,t([J,e],n,!1))},sprintfWithFormattedArgs:ut,renameKeys:function(t,e){var n={};for(var r in t)n[e(r)]=t[r];return n},timestamp:function(){return Math.floor(.001*Date.now())},allSettled:function(t){return Promise.all(f(t,tt))},negate:lt}}()},function(){up.error=function(){var t=up.util;function e(e,n){void 0===n&&(n={}),t.isArray(e)&&(e=t.sprintf.apply(t,e));var r=new Error(e);return t.assign(r,n),r}function n(t,n){void 0===n&&(n=e);var r=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=n.apply(void 0,e);return o.name=t,o};return r.is=function(e){return e.name===t},r.async=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Promise.reject(r.apply(void 0,t))},r}var r=n("up.Failed"),o=n("AbortError",(function(t){return e(t||"Aborted")})),i=n("up.NotImplemented"),s=n("up.NotApplicable",(function(t,n){return e("Cannot apply change: ".concat(t," (").concat(n,")"))}));return{failed:r,aborted:o,invalidSelector:n("up.InvalidSelector",(function(t){return e("Cannot parse selector: ".concat(t))})),notApplicable:s,notImplemented:i,emitGlobal:function(t){var e=t.message;up.emit(window,"error",{message:e,error:t,log:!1})}}}()},function(){up.migrate={config:{}}},function(){up.browser=function(){var t=up.util;function e(){return"ActiveXObject"in window}var n=t.negate(e),r=t.negate(e);function o(){return!!window.jQuery}var i=t.memoize((function(){try{return new Function("return true")()}catch(t){return!1}}));return{submitForm:function(t){t.submit()},canPushState:function(){return history.pushState&&"GET"===up.protocol.initialRequestMethod()},canFormatLog:n,canPassiveEventListener:r,canJQuery:o,canPromise:function(){return!!window.Promise},canEval:i,assertConfirmed:function(t){if(!(!t.confirm||window.confirm(t.confirm)))throw up.error.aborted("User canceled action");return!0},popCookie:function(t){var e,n=null===(e=document.cookie.match(new RegExp(t+"=(\\w+)")))||void 0===e?void 0:e[1];if(n)return document.cookie=t+"=;Max-Age=0;Path=/",n},get jQuery(){return o()||up.fail("jQuery must be published as window.jQuery"),jQuery},isIE11:e,isEdge18:function(){return t.contains(navigator.userAgent," Edge/")}}}()},function(){var t=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};up.element=function(){var e=up.util,n=up.browser.isIE11()?"msMatchesSelector":"matches";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.pop(),r=t[0]||document;return r.querySelector(n)}function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.pop(),r=t[0]||document;return r.querySelectorAll(n)}function i(t,e){var n=[];return a(t,e)&&n.push(t),n.push.apply(n,o(t,e)),n}function s(t,e){return t.closest?t.closest(e):a(t,e)?t:u(t,e)}function a(t,e){var r;return null===(r=t[n])||void 0===r?void 0:r.call(t,e)}function u(t,e){var n=t.parentElement;if(n)return a(n,e)?n:u(n,e)}function l(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=n.pop();return e.isElement(i)?i:e.isString(i)?r.apply(void 0,t(t([],n,!1),[i],!1)):e.isList(i)?(i.length>1&&up.fail("up.element.get(): Cannot cast multiple elements (%o) to a single element",i),i[0]):i}function c(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.flatMap(t,p)}function p(t){return e.isString(t)?o(t):e.wrapList(t)}function f(t){t.style.display="none"}function h(t){t.style.display=""}function d(t,n){for(var r in n){var o=n[r];e.isGiven(o)?t.setAttribute(r,o):t.removeAttribute(r)}}function m(t,n){for(var r,o,i,s=[],a=function(e){var n;if(e=e.replace(/^[\w-]+/,(function(t){return n=t,""})),o=document.createElement(n||"div"),r||(r=o),e=(e=e.replace(/#([\w-]+)/,(function(t,e){return o.id=e,""}))).replace(/\.([\w-]+)/g,(function(t,e){return o.classList.add(e),""})),s.length&&(e=e.replace(/\[([\w-]+)\]/g,(function(t,e){return o.setAttribute(e,s.shift()),""}))),""!==e)throw up.error.invalidSelector(t);null==i||i.appendChild(o),i=o},u=0,l=t.replace(/\[([\w-]+)(?:[~|^$*]?=(["'])?([^\2\]]*?)\2)?\]/g,(function(t,e,n,r){return s.push(r||""),"[".concat(e,"]")})).split(/[ >]+/);u<l.length;u++){a(l[u])}if(n){var c=void 0;if(c=e.pluckKey(n,"class"))for(var p=0,f=e.wrapList(c);p<f.length;p++){var h=f[p];r.classList.add(h)}(c=e.pluckKey(n,"style"))&&D(r,c),(c=e.pluckKey(n,"text"))&&(r.textContent=c),(c=e.pluckKey(n,"content"))&&(r.innerHTML=c),d(r,n)}return r}var v=["HTML","BODY","HEAD","TITLE"],g=new RegExp("\\b("+v.join("|")+")\\b","i"),y=up.mockable((function(t){return a(t,v.join(","))}));function b(t,e){return e=e.replace(/"/g,'\\"'),"[".concat(t,'="').concat(e,'"]')}function w(){return document.documentElement}function E(t){t.offsetHeight}function S(t,n,r){e.isMissing(t.getAttribute(n))&&t.setAttribute(n,r)}function x(t,n){return e.nullToUndefined(t.getAttribute(n))}function C(t,e,n){var r=x(t,e);switch(r){case"false":return!1;case"true":case"":case e:return!0;default:if(n)return r}}function O(t,e){var n=k(t,Object.keys(e));return D(t,e),function(){return D(t,n)}}function _(t,e){return A(window.getComputedStyle(t),e)}function T(t,n){var r=_(t,n);if(e.isGiven(r))return parseFloat(r)}function k(t,e){return A(t.style,e)}function A(t,n){return e.isString(n)?t[n]:e.pick(t,n)}function D(t,e){var n=t.style;for(var r in e){var o=e[r];o=P(r,o),n[r]=o}}function P(t,n){var r;return e.isMissing(n)?n="":L.has(t.toLowerCase().replace(/-/,""))&&(r=n,n=e.isNumber(r)||e.isString(r)&&/^\d+$/.test(r)?r.toString()+"px":r),n}var L=e.arrayToSet(["top","right","bottom","left","padding","paddingtop","paddingright","paddingbottom","paddingleft","margin","margintop","marginright","marginbottom","marginleft","borderwidth","bordertopwidth","borderrightwidth","borderbottomwidth","borderleftwidth","width","height","maxwidth","maxheight","minwidth","minheight"]);function R(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}return{all:o,subtree:i,isInSubtree:function(t,e){var n=l(e);return t.contains(n)},closest:s,closestAttr:function(t,e){var n;return null===(n=s(t,"["+e+"]"))||void 0===n?void 0:n.getAttribute(e)},matches:a,ancestor:u,around:function(t,e){return c(s(t,e),i(t,e))},get:l,list:c,remove:function(t){var e=t.parentNode;e&&e.removeChild(t)},toggle:function(t,e){null==e&&(e=!R(t)),(e?h:f)(t)},toggleClass:function(t,e,n){var r=t.classList;return null==n&&(n=!r.contains(e)),n?r.add(e):r.remove(e)},hide:f,show:h,metaContent:function(t){var e;return null===(e=r("meta"+b("name",t)))||void 0===e?void 0:e.getAttribute("content")},replace:function(t,e){t.parentElement.replaceChild(e,t)},insertBefore:function(t,e){t.insertAdjacentElement("beforebegin",e)},createFromSelector:m,setAttrs:d,setTemporaryAttrs:function(t,e){for(var n={},r=0,o=Object.keys(e);r<o.length;r++){var i=o[r];n[i]=t.getAttribute(i)}return d(t,e),function(){return d(t,n)}},affix:function(t){for(var n,r,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var s=e.extractOptions(o);2===o.length?(n=o[0],r=o[1]):(n="beforeend",r=o[0]);var a=m(r,s);return t.insertAdjacentElement(n,a),a},toSelector:function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=up.fragment).toTarget.apply(t,e)},idSelector:function(t){return t.match(/^[a-z0-9\-_]+$/i)?"#".concat(t):b("id",t)},classSelector:function(t){return t=t.replace(/:/g,"\\:"),".".concat(t)},isSingleton:y,isSingletonSelector:function(t){return g.test(t)},attributeSelector:b,trueAttributeSelector:function(t){return"[".concat(t,"]:not([").concat(t,"=false])")},tagName:function(t){return t.tagName.toLowerCase()},createDocumentFromHTML:function(t){return(new DOMParser).parseFromString(t,"text/html")},createFromHTML:function(t){var e=document.createRange();e.setStart(document.body,0);var n=e.createContextualFragment(t.trim()).childNodes;if(1!==n.length)throw new Error("HTML must have a single root element");return n[0]},get root(){return w()},paint:E,concludeCSSTransition:function(t){var e=O(t,{transition:"none"});return E(t),e},hasCSSTransition:function(t){var n,r=(n=e.isOptions(t)?t:_(t)).transitionProperty,o=n.transitionDuration;return!("none"===r||"all"===r&&0===o)},fixedToAbsolute:function(t){var e=t.getBoundingClientRect();t.style.position="absolute";var n=t.offsetParent.getBoundingClientRect();D(t,{left:e.left-T(t,"margin-left")-n.left,top:e.top-T(t,"margin-top")-n.top,right:"",bottom:""})},setMissingAttrs:function(t,e){for(var n in e)S(t,n,e[n])},setMissingAttr:S,unwrap:function(t){var n=t.parentNode,r=e.toArray(t.childNodes);e.each(r,(function(e){return n.insertBefore(e,t)})),n.removeChild(t)},wrapChildren:function(t,e){var n;void 0===e&&(e="up-wrapper");for(var r=m(e);n=t.firstChild;)r.appendChild(n);return t.appendChild(r),r},attr:x,booleanAttr:C,numberAttr:function(t,e){var n=t.getAttribute(e);if(n&&(n=n.replace(/_/g,"")).match(/^[\d.]+$/))return parseFloat(n)},jsonAttr:function(t,e){var n,r,o=null===(r=null===(n=t.getAttribute)||void 0===n?void 0:n.call(t,e))||void 0===r?void 0:r.trim();if(o)return JSON.parse(o)},callbackAttr:function(n,r,o){var i;void 0===o&&(o=[]);var s=n.getAttribute(r);if(s){var a=(i=up.NonceableCallback.fromString(s)).toFunction.apply(i,t(["event"],o,!1));return function(r){var i=e.values(e.pick(r,o));return a.call.apply(a,t([n,r],i,!1))}}},booleanOrStringAttr:function(t,e){return C(t,e,!0)},setTemporaryStyle:O,style:_,styleNumber:T,inlineStyle:k,setStyle:D,isVisible:R,upAttrs:function(t){for(var e=/^up-/,n={},r=0,o=t.attributes;r<o.length;r++){var i=o[r],s=i.name;s.match(e)&&(n[s]=i.value)}return n},toggleAttr:function(t,e,n,r){return null==r&&(r=!t.hasAttribute(e)),r?t.setAttribute(e,n):t.removeAttribute(e)},isDetached:function(t){return t!==document&&!w().contains(t)}}}()},function(){var t=up.util;up.Record=function(){function e(e){t.assign(this,this.defaults(e),this.attributes(e))}return e.prototype.keys=function(){throw"Return an array of keys"},e.prototype.defaults=function(t){return{}},e.prototype.attributes=function(e){return void 0===e&&(e=this),t.pick(e,this.keys())},e.prototype[t.copy.key]=function(){return this.variant()},e.prototype.variant=function(e){return void 0===e&&(e={}),new this.constructor(t.merge(this.attributes(),e))},e.prototype[t.isEqual.key]=function(e){return this.constructor===e.constructor&&t.isEqual(this.attributes(),e.attributes())},e}()},function(){var t=up.util;up.Config=function(){function e(t){void 0===t&&(t=function(){return{}}),this.blueprintFn=t,this.reset()}return e.prototype.reset=function(){t.assign(this,this.blueprintFn())},e}()},function(){var t=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},e=up.util;up.Cache=function(){function n(t){void 0===t&&(t={}),this.config=t,this.store=this.config.store||new up.store.Memory}return n.prototype.size=function(){return this.store.size()},n.prototype.maxSize=function(){return e.evalOption(this.config.size)},n.prototype.expiryMillis=function(){return e.evalOption(this.config.expiry)},n.prototype.normalizeStoreKey=function(t){return this.config.key?this.config.key(t):t.toString()},n.prototype.isEnabled=function(){return 0!==this.maxSize()&&0!==this.expiryMillis()},n.prototype.clear=function(){this.store.clear()},n.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.config.logPrefix&&(e[0]="[".concat(this.config.logPrefix,"] ").concat(e[0]),up.puts.apply(up,t(["up.Cache"],e,!1)))},n.prototype.keys=function(){return this.store.keys()},n.prototype.each=function(t){var n=this;e.each(this.keys(),(function(e){var r=n.store.get(e);t(e,r.value,r.timestamp)}))},n.prototype.makeRoomForAnotherEntry=function(){var t,e;this.hasRoomForAnotherEntry()||(this.each((function(n,r,o){(!e||e>o)&&(t=n,e=o)})),t&&this.store.remove(t))},n.prototype.hasRoomForAnotherEntry=function(){var t=this.maxSize();return!t||this.size()<t},n.prototype.alias=function(t,n){var r=this.get(t,{silent:!0});e.isDefined(r)&&this.set(n,r)},n.prototype.timestamp=function(){return(new Date).valueOf()},n.prototype.set=function(t,e){if(this.isEnabled()){this.makeRoomForAnotherEntry();var n=this.normalizeStoreKey(t),r={timestamp:this.timestamp(),value:e};this.store.set(n,r)}},n.prototype.remove=function(t){var e=this.normalizeStoreKey(t);this.store.remove(e)},n.prototype.isFresh=function(t){var e=this.expiryMillis();return!e||this.timestamp()-t.timestamp<e},n.prototype.get=function(t,e){void 0===e&&(e={});var n=this.normalizeStoreKey(t),r=this.store.get(n);if(r){if(this.isFresh(r))return e.silent||this.log("Cache hit for '%s'",t),r.value;e.silent||this.log("Discarding stale cache entry for '%s'",t),this.remove(t)}else e.silent||this.log("Cache miss for '%s'",t)},n}()},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});up.Rect=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.keys=function(){return["left","top","width","height"]},Object.defineProperty(n.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.left+this.width},enumerable:!1,configurable:!0}),n.fromElement=function(t){return new this(t.getBoundingClientRect())},n}(up.Record)},function(){var t=up.element;up.BodyShifter=function(){function e(){this.unshiftFns=[],this.reset()}return e.prototype.reset=function(){this.unshiftNow(),this.shiftCount=0},e.prototype.shift=function(){if(this.shiftCount++,!(this.shiftCount>1)){var e=up.viewport.rootHasReducedWidthFromScrollbar(),n=up.viewport.rootOverflowElement();if(this.changeStyle(n,{overflowY:"hidden"}),e){var r=document.body,o=up.viewport.scrollbarWidth(),i=o+t.styleNumber(r,"paddingRight");this.changeStyle(r,{paddingRight:i});for(var s=0,a=up.viewport.anchoredRight();s<a.length;s++){var u=a[s],l=o+t.styleNumber(u,"right");this.changeStyle(u,{right:l})}}}},e.prototype.changeStyle=function(e,n){this.unshiftFns.push(t.setTemporaryStyle(e,n))},e.prototype.unshift=function(){this.shiftCount--,0==this.shiftCount&&this.unshiftNow()},e.prototype.unshiftNow=function(){for(var t;t=this.unshiftFns.pop();)t()},e}()},function(){var t=up.util;up.Change=function(){function e(t){this.options=t}return e.prototype.notApplicable=function(t){return up.error.notApplicable(this,t)},e.prototype.execute=function(){throw up.error.notImplemented()},e.prototype.onFinished=function(){var t,e;return null===(e=(t=this.options).onFinished)||void 0===e?void 0:e.call(t)},e.prototype.improveHistoryValue=function(e,n){return!1===e||t.isString(e)?e:n},e}()},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),n=up.util,r=up.element;up.Change.Addition=function(t){function o(e){var n=t.call(this,e)||this;return n.responseDoc=e.responseDoc,n.acceptLayer=e.acceptLayer,n.dismissLayer=e.dismissLayer,n.eventPlans=e.eventPlans||[],n}return e(o,t),o.prototype.handleLayerChangeRequests=function(){var t=this;this.layer.isOverlay()&&(this.tryAcceptLayerFromServer(),this.abortWhenLayerClosed(),this.layer.tryAcceptForLocation(),this.abortWhenLayerClosed(),this.tryDismissLayerFromServer(),this.abortWhenLayerClosed(),this.layer.tryDismissForLocation(),this.abortWhenLayerClosed()),this.layer.asCurrent((function(){for(var e=0,n=t.eventPlans;e<n.length;e++){var r=n[e];up.emit(r),t.abortWhenLayerClosed()}}))},o.prototype.tryAcceptLayerFromServer=function(){n.isDefined(this.acceptLayer)&&this.layer.isOverlay()&&this.layer.accept(this.acceptLayer)},o.prototype.tryDismissLayerFromServer=function(){n.isDefined(this.dismissLayer)&&this.layer.isOverlay()&&this.layer.dismiss(this.dismissLayer)},o.prototype.abortWhenLayerClosed=function(){if(this.layer.isClosed())throw up.error.aborted("Layer was closed")},o.prototype.setSource=function(t){var e=t.oldElement,o=t.newElement,i=t.source;"keep"===i&&(i=e&&up.fragment.source(e)),i&&r.setMissingAttr(o,"up-source",n.normalizeURL(i,{hash:!1}))},o}(up.Change)},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});up.Change.Removal=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n}(up.Change)},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},o=up.element;up.Change.DestroyFragment=function(t){function i(e){var n=t.call(this,e)||this;return n.layer=up.layer.get(e)||up.layer.current,n.element=n.options.element,n.animation=n.options.animation,n.log=n.options.log,n}return e(i,t),i.prototype.execute=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return this.parent=this.element.parentNode,up.fragment.markAsDestroying(this.element),up.motion.willAnimate(this.element,this.animation,this.options)?(this.emitDestroyed(),[4,this.animate()]):[3,2];case 1:return t.sent(),this.wipe(),this.onFinished(),[3,3];case 2:this.wipe(),this.emitDestroyed(),this.onFinished(),t.label=3;case 3:return[2]}}))}))},i.prototype.animate=function(){return up.motion.animate(this.element,this.animation,this.options)},i.prototype.wipe=function(){var t=this;this.layer.asCurrent((function(){up.syntax.clean(t.element,{layer:t.layer}),up.browser.canJQuery()?jQuery(t.element).remove():o.remove(t.element)}))},i.prototype.emitDestroyed=function(){up.fragment.emitDestroyed(this.element,{parent:this.parent,log:this.log})},i}(up.Change.Removal)},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)};up.Change.OpenLayer=function(t){function r(e){var n=t.call(this,e)||this;return n.target=e.target,n.origin=e.origin,n.baseLayer=e.baseLayer,n}return e(r,t),r.prototype.preflightProps=function(){return{layer:this.baseLayer,mode:this.options.mode,context:this.buildLayer().context,target:this.target}},r.prototype.bestPreflightSelector=function(){return this.target},r.prototype.execute=function(t,e){var n=this;if(":none"===this.target?this.content=document.createElement("up-none"):this.content=t.select(this.target),!this.content||this.baseLayer.isClosed())throw this.notApplicable();if(e(),up.puts("up.render()",'Opening element "'.concat(this.target,'" in new overlay')),this.options.title=this.improveHistoryValue(this.options.title,t.getTitle()),this.emitOpenEvent().defaultPrevented)throw up.error.aborted("Open event was prevented");return this.baseLayer.peel(),this.layer=this.buildLayer(),up.layer.stack.push(this.layer),this.layer.createElements(this.content),this.layer.setupHandlers(),this.handleHistory(),this.setSource({newElement:this.content,source:this.options.source}),t.finalizeElement(this.content),up.hello(this.layer.element,{layer:this.layer,origin:this.origin}),this.handleLayerChangeRequests(),this.handleScroll(),this.layer.startOpenAnimation().then((function(){n.layer.isOpen()&&n.handleFocus(),n.onFinished()})),this.layer.opening=!1,this.emitOpenedEvent(),this.abortWhenLayerClosed(),new up.RenderResult({layer:this.layer,fragments:[this.content]})},r.prototype.buildLayer=function(){var t=this,e=n(n({},this.options),{opening:!0});return up.layer.build(e,(function(e){return t.options=up.RenderOptions.finalize(e)}))},r.prototype.handleHistory=function(){"auto"===this.layer.history&&(this.layer.history=up.fragment.hasAutoHistory(this.content)),this.layer.parent.saveHistory(),this.layer.updateHistory(this.options)},r.prototype.handleFocus=function(){var t;null===(t=this.baseLayer.overlayFocus)||void 0===t||t.moveToBack(),this.layer.overlayFocus.moveToFront(),new up.FragmentFocus({fragment:this.content,layer:this.layer,autoMeans:["autofocus","layer"]}).process(this.options.focus)},r.prototype.handleScroll=function(){var t=n(n({},this.options),{fragment:this.content,layer:this.layer,autoMeans:["hash","layer"]});new up.FragmentScrolling(t).process(this.options.scroll)},r.prototype.emitOpenEvent=function(){return up.emit("up:layer:open",{origin:this.origin,baseLayer:this.baseLayer,layerOptions:this.options,log:"Opening new overlay"})},r.prototype.emitOpenedEvent=function(){return this.layer.emit("up:layer:opened",{origin:this.origin,callback:this.layer.callback("onOpened"),log:"Opened new ".concat(this.layer)})},r}(up.Change.Addition)},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)},r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=up.util,s=up.element;up.Change.UpdateLayer=function(t){function a(e){var n=this;return e=up.RenderOptions.finalize(e),(n=t.call(this,e)||this).layer=e.layer,n.target=e.target,n.placement=e.placement,n.context=e.context,n.parseSteps(),n}return e(a,t),a.prototype.preflightProps=function(){return this.matchPreflight(),{layer:this.layer,mode:this.layer.mode,context:i.merge(this.layer.context,this.context),target:this.bestPreflightSelector()}},a.prototype.bestPreflightSelector=function(){return this.matchPreflight(),i.map(this.steps,"selector").join(", ")||":none"},a.prototype.execute=function(t,e){var n=this;this.responseDoc=t,this.matchPostflight(),e(),up.puts("up.render()",'Updating "'.concat(this.bestPreflightSelector(),'" in ').concat(this.layer)),this.options.title=this.improveHistoryValue(this.options.title,this.responseDoc.getTitle()),this.setScrollAndFocusOptions(),this.options.saveScroll&&up.viewport.saveScroll({layer:this.layer}),this.options.peel&&this.layer.peel(),i.assign(this.layer.context,this.context),"auto"===this.options.history&&(this.options.history=this.hasAutoHistory()),this.options.history&&this.layer.updateHistory(this.options),this.handleLayerChangeRequests();var r=this.steps.map((function(t){return n.executeStep(t)}));return Promise.all(r).then((function(){return n.abortWhenLayerClosed(),n.onFinished()})),new up.RenderResult({layer:this.layer,fragments:i.map(this.steps,"newElement")})},a.prototype.executeStep=function(t){return r(this,void 0,void 0,(function(){var e,r,i,a,u,l,c,p,f=this;return o(this,(function(o){switch(o.label){case 0:switch(this.setSource(t),t.placement){case"swap":return[3,1];case"content":return[3,6];case"before":case"after":return[3,9]}return[3,13];case 1:return(e=this.findKeepPlan(t))?(up.fragment.emitKept(e),this.handleFocus(t.oldElement,t),[4,this.handleScroll(t.oldElement,t)]):[3,3];case 2:return o.sent(),[3,5];case 3:return this.transferKeepableElements(t),r=t.oldElement.parentNode,i=n(n({},t),{beforeStart:function(){up.fragment.markAsDestroying(t.oldElement)},afterInsert:function(){f.responseDoc.finalizeElement(t.newElement),up.hello(t.newElement,t)},beforeDetach:function(){up.syntax.clean(t.oldElement,{layer:f.layer})},afterDetach:function(){s.remove(t.oldElement),up.fragment.emitDestroyed(t.oldElement,{parent:r,log:!1})},scrollNew:function(){return f.handleFocus(t.newElement,t),f.handleScroll(t.newElement,t)}}),[4,up.morph(t.oldElement,t.newElement,t.transition,i)];case 4:o.sent(),o.label=5;case 5:return[3,14];case 6:return a=s.wrapChildren(t.oldElement),u=s.wrapChildren(t.newElement),l=n(n({},t),{placement:"swap",oldElement:a,newElement:u,focus:!1}),[4,this.executeStep(l)];case 7:return o.sent(),s.unwrap(u),[4,this.handleFocus(t.oldElement,t)];case 8:return o.sent(),[3,14];case 9:return c=s.wrapChildren(t.newElement),p="before"===t.placement?"afterbegin":"beforeend",t.oldElement.insertAdjacentElement(p,c),this.responseDoc.finalizeElement(c),up.hello(c,t),this.handleFocus(c,t),[4,this.handleScroll(c,t)];case 10:return o.sent(),[4,up.animate(c,t.transition,t)];case 11:return o.sent(),[4,s.unwrap(c)];case 12:return o.sent(),[3,14];case 13:up.fail("Unknown placement: %o",t.placement),o.label=14;case 14:return[2]}}))}))},a.prototype.findKeepPlan=function(t){if(t.keep){var e=t.oldElement,n=t.newElement,r=s.booleanOrStringAttr(e,"up-keep");if(r){!0===r&&(r="&");var o={layer:this.layer,origin:e},i=void 0;if((i=t.descendantsOnly?up.fragment.get(n,r,o):up.fragment.subtree(n,r,o)[0])&&s.matches(i,"[up-keep]")){var a={oldElement:e,newElement:i,newData:up.syntax.data(i)};if(!up.fragment.emitKeep(a).defaultPrevented)return a}}}},a.prototype.transferKeepableElements=function(t){var e=[];if(t.keep)for(var r=0,o=t.oldElement.querySelectorAll("[up-keep]");r<o.length;r++){var i=o[r],a=this.findKeepPlan(n(n({},t),{oldElement:i,descendantsOnly:!0}));if(a){var u=i.cloneNode(!0);s.replace(i,u),s.replace(a.newElement,i),e.push(a)}}t.keepPlans=e},a.prototype.parseSteps=function(){this.steps=[];for(var t=0,e=i.splitValues(this.target,",");t<e.length;t++){var r=e[t];if(":none"!==r){var o=r.match(/^(.+?)(?::(before|after))?$/);if(!o)throw up.error.invalidSelector(r);var s=n(n({},this.options),{selector:o[1],placement:o[2]||this.placement||"swap"});this.steps.push(s)}}},a.prototype.matchPreflight=function(){if(!this.matchedPreflight){for(var t=0,e=this.steps;t<e.length;t++){var n=e[t],r=new up.FragmentFinder(n);if(n.oldElement||(n.oldElement=r.find()),!n.oldElement)throw this.notApplicable('Could not find element "'.concat(this.target,'" in current page'))}this.resolveOldNesting(),this.matchedPreflight=!0}},a.prototype.matchPostflight=function(){if(!this.matchedPostflight){this.matchPreflight();for(var t=0,e=this.steps;t<e.length;t++){var n=e[t],r=this.responseDoc.select(n.selector);if(!r)throw this.notApplicable('Could not find element "'.concat(this.target,'" in server response'));n.newElement=r}this.options.hungry&&this.addHungrySteps(),this.resolveOldNesting(),this.matchedPostflight=!0}},a.prototype.addHungrySteps=function(){for(var t=0,e=up.fragment.all(up.radio.hungrySelector(),this.options);t<e.length;t++){var n=e[t],r=up.fragment.toTarget(n),o=this.responseDoc.select(r);if(o){var i={selector:r,oldElement:n,newElement:o,transition:s.booleanOrStringAttr(n,"transition"),placement:"swap"};this.steps.push(i)}}},a.prototype.containedByRivalStep=function(t,e){return i.some(t,(function(t){return t!==e&&("swap"===t.placement||"content"===t.placement)&&t.oldElement.contains(e.oldElement)}))},a.prototype.resolveOldNesting=function(){var t=this,e=i.uniqBy(this.steps,"oldElement");e=i.reject(e,(function(n){return t.containedByRivalStep(e,n)})),this.steps=e},a.prototype.setScrollAndFocusOptions=function(){var t=this;this.steps.forEach((function(e,n){n>0&&(e.scroll=!1,e.focus=!1),"swap"!==e.placement&&"content"!==e.placement||(e.scrollBehavior="auto",t.focusCapsule||(t.focusCapsule=up.FocusCapsule.preserveWithin(e.oldElement)))}))},a.prototype.handleFocus=function(t,e){return new up.FragmentFocus(n(n({},e),{fragment:t,layer:this.layer,focusCapsule:this.focusCapsule,autoMeans:up.fragment.config.autoFocus})).process(e.focus)},a.prototype.handleScroll=function(t,e){return new up.FragmentScrolling(n(n({},e),{fragment:t,layer:this.layer,autoMeans:up.fragment.config.autoScroll})).process(e.scroll)},a.prototype.hasAutoHistory=function(){var t=i.map(this.steps,"oldElement");return i.some(t,(function(t){return up.fragment.hasAutoHistory(t)}))},a}(up.Change.Addition)},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),n=up.util;up.Change.CloseLayer=function(t){function r(e){var n,r=t.call(this,e)||this;return r.verb=e.verb,r.layer=up.layer.get(e),r.origin=e.origin,r.value=e.value,r.preventable=null===(n=e.preventable)||void 0===n||n,r}return e(r,t),r.prototype.execute=function(){var t=this;if(!this.layer.isOpen())return Promise.resolve();if(up.browser.assertConfirmed(this.options),up.network.abort((function(e){return e.layer===t.layer})),this.emitCloseEvent().defaultPrevented&&this.preventable)throw up.error.aborted("Close event was prevented");var e=this.layer.parent;this.layer.peel(),this.layer.stack.remove(this.layer),e.restoreHistory(),this.handleFocus(e),this.layer.teardownHandlers(),this.layer.destroyElements(this.options),this.emitClosedEvent(e)},r.prototype.emitCloseEvent=function(){return this.layer.emit(this.buildEvent("up:layer:".concat(this.verb)),{callback:this.layer.callback("on".concat(n.upperCaseFirst(this.verb))),log:"Will ".concat(this.verb," ").concat(this.layer)})},r.prototype.emitClosedEvent=function(t){var e="".concat(this.verb,"ed"),r=n.upperCaseFirst(e);return this.layer.emit(this.buildEvent("up:layer:".concat(e)),{baseLayer:t,callback:this.layer.callback("on".concat(r)),ensureBubbles:!0,log:"".concat(r," ").concat(this.layer)})},r.prototype.buildEvent=function(t){return up.event.build(t,{layer:this.layer,value:this.value,origin:this.origin})},r.prototype.handleFocus=function(t){var e;this.layer.overlayFocus.teardown(),null===(e=t.overlayFocus)||void 0===e||e.moveToFront(),(this.layer.origin||t.element).focus({preventScroll:!0})},r}(up.Change.Removal)},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)},r=up.util;up.Change.FromContent=function(t){function o(e){var n=t.call(this,e)||this;return n.layers=r.filter(up.layer.getAll(n.options),n.isRenderableLayer),n.origin=n.options.origin,n.preview=n.options.preview,n.mode=n.options.mode,n.origin&&(n.originLayer=up.layer.get(n.origin)),n}return e(o,t),o.prototype.isRenderableLayer=function(t){return"new"===t||t.isOpen()},o.prototype.getPlans=function(){return this.plans||(this.plans=[],this.options.fragment&&(this.options.target=this.getResponseDoc().rootSelector()),this.expandIntoPlans(this.layers,this.options.target),this.expandIntoPlans(this.layers,this.options.fallback)),this.plans},o.prototype.expandIntoPlans=function(t,e){for(var r=0,o=t;r<o.length;r++)for(var i=o[r],s=0,a=this.expandTargets(e,i);s<a.length;s++){var u=a[s],l=n(n({},this.options),{target:u,layer:i,placement:this.defaultPlacement()}),c="new"===i?new up.Change.OpenLayer(l):new up.Change.UpdateLayer(l);this.plans.push(c)}},o.prototype.expandTargets=function(t,e){return up.fragment.expandTargets(t,{layer:e,mode:this.mode,origin:this.origin})},o.prototype.execute=function(){return this.options.preload?Promise.resolve():this.seekPlan(this.executePlan.bind(this))||this.postflightTargetNotApplicable()},o.prototype.executePlan=function(t){return t.execute(this.getResponseDoc(),this.onPlanApplicable.bind(this,t))},o.prototype.onPlanApplicable=function(t){var e=this.getPlans()[0];t!==e&&up.puts("up.render()","Could not match primary target (%s). Updating a fallback target (%s).",e.target,t.target)},o.prototype.getResponseDoc=function(){var t,e;if(!this.preview&&!this.responseDoc){var n=r.pick(this.options,["target","content","fragment","document","html","cspNonces"]);null===(e=(t=up.migrate).handleResponseDocOptions)||void 0===e||e.call(t,n),"content"===this.defaultPlacement()&&(n.target=this.firstExpandedTarget(n.target)),this.responseDoc=new up.ResponseDoc(n)}return this.responseDoc},o.prototype.defaultPlacement=function(){if(!this.options.document&&!this.options.fragment)return"content"},o.prototype.firstExpandedTarget=function(t){return this.expandTargets(t||":main",this.layers[0])[0]},o.prototype.preflightProps=function(t){void 0===t&&(t={});return this.seekPlan((function(t){return t.preflightProps()}))||t.optional||this.preflightTargetNotApplicable()},o.prototype.preflightTargetNotApplicable=function(){this.targetNotApplicable("Could not find target in current page")},o.prototype.postflightTargetNotApplicable=function(){this.targetNotApplicable("Could not find common target in current page and response")},o.prototype.targetNotApplicable=function(t){if(this.getPlans().length){var e=r.uniq(r.map(this.getPlans(),"target")),n=up.layer.optionToString(this.options.layer);up.fail(t+" (tried selectors %o in %s)",e,n)}else this.layers.length?up.fail("No target selector given"):up.fail("Layer %o does not exist",this.options.layer)},o.prototype.seekPlan=function(t){for(var e=0,n=this.getPlans();e<n.length;e++){var r=n[e];try{return t(r)}catch(t){if(!up.error.notApplicable.is(t))throw t}}},o}(up.Change)},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)},r=up.util;up.Change.FromURL=function(t){function o(e){var n=t.call(this,e)||this;return n.options.layer=up.layer.getAll(n.options),n.options.normalizeLayerOptions=!1,n.successOptions=n.options,n.failOptions=up.RenderOptions.deriveFailOptions(n.successOptions),n}return e(o,t),o.prototype.execute=function(){var t=this,e=this.newPageReason();if(e)return up.puts("up.render()",e),up.network.loadPage(this.options),r.unresolvablePromise();var n=this.makeRequest();return this.options.preload?n:r.always(n,(function(e){return t.onRequestSettled(e)}))},o.prototype.newPageReason=function(){return r.isCrossOrigin(this.options.url)?"Loading cross-origin content in new page":up.browser.canPushState()?void 0:"Loading content in new page to restore history support"},o.prototype.makeRequest=function(){var t=this.preflightPropsForRenderOptions(this.successOptions),e=this.preflightPropsForRenderOptions(this.failOptions,{optional:!0}),n=r.merge(this.successOptions,t,r.renameKeys(e,up.fragment.failKey));return this.request=up.request(n),this.request},o.prototype.preflightPropsForRenderOptions=function(t,e){return new up.Change.FromContent(n(n({},t),{preview:!0})).preflightProps(e)},o.prototype.onRequestSettled=function(t){if(this.response=t,t instanceof up.Response){if(this.isSuccessfulResponse())return this.updateContentFromResponse(["Loaded fragment from successful response to %s",this.request.description],this.successOptions);var e=["Loaded fragment from failed response to %s (HTTP %d)",this.request.description,this.response.status];throw this.updateContentFromResponse(e,this.failOptions)}throw t},o.prototype.isSuccessfulResponse=function(){return!1===this.successOptions.fail||this.response.ok},o.prototype.updateContentFromResponse=function(t,e){return this.request.assertEmitted("up:fragment:loaded",{callback:this.options.onLoaded,response:this.response,log:t,renderOptions:e}),this.augmentOptionsFromResponse(e),new up.Change.FromContent(e).execute()},o.prototype.augmentOptionsFromResponse=function(t){var e=this.response.url,n=e,o=this.request.hash;o&&(t.hash=o,n+=o),"GET"===this.response.method?t.source=this.improveHistoryValue(t.source,e):(t.source=this.improveHistoryValue(t.source,"keep"),t.history=!!t.location),t.location=this.improveHistoryValue(t.location,n),t.title=this.improveHistoryValue(t.title,this.response.title),t.eventPlans=this.response.eventPlans;var i=this.response.target;i&&(t.target=i),t.document=this.response.text,t.acceptLayer=this.response.acceptLayer,t.dismissLayer=this.response.dismissLayer,t.document||!r.isDefined(t.acceptLayer)&&!r.isDefined(t.dismissLayer)||(t.target=":none"),t.context=r.merge(t.context,this.response.context),t.cspNonces=this.response.cspNonces},o}(up.Change)},function(){var t=up.util,e=up.element;up.CompilerPass=function(){function n(t,e,n){void 0===n&&(n={}),this.root=t,this.compilers=e,this.skipSubtrees=n.skip,this.skipSubtrees.length&&this.root.querySelector("[up-keep]")||(this.skipSubtrees=void 0),this.layer=n.layer||up.layer.get(this.root)||up.layer.current,this.errors=[]}return n.prototype.run=function(){var t=this;if(up.puts("up.hello()","Compiling fragment %o",this.root),this.layer.asCurrent((function(){for(var e=0,n=t.compilers;e<n.length;e++){var r=n[e];t.runCompiler(r)}})),this.errors.length)throw up.error.failed("Errors while compiling",{errors:this.errors})},n.prototype.runCompiler=function(t){var e,n,r=this.select(t.selector);if(r.length){if(t.isDefault||up.puts("up.hello()",'Compiling "%s" on %d element(s)',t.selector,r.length),t.batch)this.compileBatch(t,r);else for(var o=0,i=r;o<i.length;o++){var s=i[o];this.compileOneElement(t,s)}return null===(n=(e=up.migrate).postCompile)||void 0===n?void 0:n.call(e,r,t)}},n.prototype.compileOneElement=function(t,e){var n=[t.jQuery?up.browser.jQuery(e):e];if(1!==t.length){var r=up.syntax.data(e);n.push(r)}var o=this.applyCompilerFunction(t,e,n),i=this.destructorPresence(o);i&&up.destructor(e,i)},n.prototype.compileBatch=function(e,n){var r=[e.jQuery?up.browser.jQuery(n):n];if(1!==e.length){var o=t.map(n,up.syntax.data);r.push(o)}var i=this.applyCompilerFunction(e,n,r);this.destructorPresence(i)&&up.fail("Compilers with { batch: true } cannot return destructors")},n.prototype.applyCompilerFunction=function(t,e,n){try{return t.apply(e,n)}catch(t){this.errors.push(t),up.log.error("up.hello()","While compiling %o: %o",e,t),up.error.emitGlobal(t)}},n.prototype.destructorPresence=function(e){if(t.isFunction(e)||t.isArray(e)&&t.every(e,t.isFunction))return e},n.prototype.select=function(n){var r=this,o=e.subtree(this.root,t.evalOption(n));return this.skipSubtrees&&(o=t.reject(o,(function(t){return r.isInSkippedSubtree(t)}))),o},n.prototype.isInSkippedSubtree=function(e){var n;return!!t.contains(this.skipSubtrees,e)||!!(n=e.parentElement)&&this.isInSkippedSubtree(n)},n}()},function(){var t=up.util,e=up.element;up.CSSTransition=function(){function n(e,n,r){this.element=e,this.lastFrameKebab=n,this.lastFrameKeysKebab=Object.keys(this.lastFrameKebab),t.some(this.lastFrameKeysKebab,(function(t){return t.match(/A-Z/)}))&&up.fail("Animation keys must be kebab-case"),this.finishEvent=r.finishEvent,this.duration=r.duration,this.easing=r.easing,this.finished=!1}return n.prototype.start=function(){return 0===this.lastFrameKeysKebab.length?(this.finished=!0,Promise.resolve()):(this.deferred=t.newDeferred(),this.pauseOldTransition(),this.startTime=new Date,this.startFallbackTimer(),this.listenToFinishEvent(),this.listenToTransitionEnd(),this.startMotion(),this.deferred.promise())},n.prototype.listenToFinishEvent=function(){this.finishEvent&&(this.stopListenToFinishEvent=up.on(this.element,this.finishEvent,this.onFinishEvent.bind(this)))},n.prototype.onFinishEvent=function(t){t.stopPropagation(),this.finish()},n.prototype.startFallbackTimer=function(){var e=this;this.fallbackTimer=t.timer(this.duration+100,(function(){e.finish()}))},n.prototype.stopFallbackTimer=function(){clearTimeout(this.fallbackTimer)},n.prototype.listenToTransitionEnd=function(){this.stopListenToTransitionEnd=up.on(this.element,"transitionend",this.onTransitionEnd.bind(this))},n.prototype.onTransitionEnd=function(e){if(e.target===this.element&&!(new Date-this.startTime<=.25*this.duration)){var n=e.propertyName;t.contains(this.lastFrameKeysKebab,n)&&this.finish()}},n.prototype.finish=function(){var t,n;this.finished||(this.finished=!0,this.stopFallbackTimer(),null===(t=this.stopListenToFinishEvent)||void 0===t||t.call(this),null===(n=this.stopListenToTransitionEnd)||void 0===n||n.call(this),e.concludeCSSTransition(this.element),this.resumeOldTransition(),this.deferred.resolve())},n.prototype.pauseOldTransition=function(){var t=e.style(this.element,["transitionProperty","transitionDuration","transitionDelay","transitionTimingFunction"]);if(e.hasCSSTransition(t)){if("all"!==t.transitionProperty){var n=t.transitionProperty.split(/\s*,\s*/),r=e.style(this.element,n);this.setOldTransitionTargetFrame=e.setTemporaryStyle(this.element,r)}this.setOldTransition=e.concludeCSSTransition(this.element)}},n.prototype.resumeOldTransition=function(){var t,e;null===(t=this.setOldTransitionTargetFrame)||void 0===t||t.call(this),null===(e=this.setOldTransition)||void 0===e||e.call(this)},n.prototype.startMotion=function(){e.setStyle(this.element,{transitionProperty:Object.keys(this.lastFrameKebab).join(", "),transitionDuration:"".concat(this.duration,"ms"),transitionTimingFunction:this.easing}),e.setStyle(this.element,this.lastFrameKebab)},n}()},function(){var t=this&&this.__assign||function(){return t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},t.apply(this,arguments)},e=up.util;up.DestructorPass=function(){function n(t,e){this.fragment=t,this.options=e,this.errors=[]}return n.prototype.run=function(){for(var t=0,n=this.selectCleanables();t<n.length;t++){var r=n[t],o=e.pluckKey(r,"upDestructors");if(o)for(var i=0,s=o;i<s.length;i++){var a=s[i];this.applyDestructorFunction(a,r)}r.classList.remove("up-can-clean")}if(this.errors.length)throw up.error.failed("Errors while destroying",{errors:this.errors})},n.prototype.selectCleanables=function(){var e=t(t({},this.options),{destroying:!0});return up.fragment.subtree(this.fragment,".up-can-clean",e)},n.prototype.applyDestructorFunction=function(t,e){try{t()}catch(t){this.errors.push(t),up.log.error("up.destroy()","While destroying %o: %o",e,t),up.error.emitGlobal(t)}},n}()},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),n=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},r=up.util,o=up.element;up.EventEmitter=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return e(i,t),i.prototype.keys=function(){return["target","event","baseLayer","callback","log","ensureBubbles"]},i.prototype.emit=function(){var t=this;return this.logEmission(),this.baseLayer?this.baseLayer.asCurrent((function(){return t.dispatchEvent()})):this.dispatchEvent(),this.event},i.prototype.dispatchEvent=function(){var t;this.target.dispatchEvent(this.event),this.ensureBubbles&&o.isDetached(this.target)&&document.dispatchEvent(this.event),null===(t=this.callback)||void 0===t||t.call(this,this.event)},i.prototype.assertEmitted=function(){var t=this.emit();if(t.defaultPrevented)throw up.error.aborted("Event ".concat(t.type," was prevented"))},i.prototype.logEmission=function(){var t;if(up.log.isEnabled()){var e,o=this.log;r.isArray(o)?(o=(t=o)[0],e=t.slice(1)):e=[];var i=this.event.type;r.isString(o)?up.puts.apply(up,n([i,o],e,!1)):!1!==o&&up.puts(i,"Event ".concat(i))}},i.fromEmitArgs=function(t,e){var n;void 0===e&&(e={});var i,s=r.extractOptions(t);return s=r.merge(e,s),r.isElementish(t[0])?s.target=o.get(t.shift()):t[0]instanceof up.Layer&&(s.layer=t.shift()),s.layer&&(i=up.layer.get(s.layer),null==s.target&&(s.target=i.element),null==s.baseLayer&&(s.baseLayer=i)),s.baseLayer&&(s.baseLayer=up.layer.get(s.baseLayer)),r.isString(s.target)?s.target=up.fragment.get(s.target,{layer:s.layer}):s.target||(s.target=document),(null===(n=t[0])||void 0===n?void 0:n.preventDefault)?(s.event=t[0],null==s.log&&(s.log=t[0].log)):r.isString(t[0])?s.event=up.event.build(t[0],s):s.event=up.event.build(s),new this(s)},i}(up.Record)},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),n=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},r=up.util,o=up.element;up.EventListener=function(t){function i(e){var n,r=t.call(this,e)||this;return r.key=r.constructor.buildKey(e),r.isDefault=up.framework.evaling,null!==(n=r.beforeBoot)&&void 0!==n||(r.beforeBoot=0===r.eventType.indexOf("up:framework:")),r.nativeCallback=r.nativeCallback.bind(r),r}return e(i,t),i.prototype.keys=function(){return["element","eventType","selector","callback","jQuery","guard","baseLayer","passive","once","beforeBoot"]},i.prototype.bind=function(){var t,e,n=(e=this.element).upEventListeners||(e.upEventListeners={});n[this.key]&&up.fail("up.on(): The %o callback %o cannot be registered more than once",this.eventType,this.callback),n[this.key]=this,(t=this.element).addEventListener.apply(t,this.addListenerArgs())},i.prototype.addListenerArgs=function(){var t=[this.eventType,this.nativeCallback];return this.passive&&up.browser.canPassiveEventListener()&&t.push({passive:!0}),t},i.prototype.unbind=function(){var t,e=this.element.upEventListeners;e&&delete e[this.key],(t=this.element).removeEventListener.apply(t,this.addListenerArgs())},i.prototype.nativeCallback=function(t){var e;if(!up.framework.beforeBoot||this.beforeBoot){this.once&&this.unbind();var i=t.target;if(this.selector&&(i=o.closest(i,r.evalOption(this.selector))),(!this.guard||this.guard(t))&&i){var s=[t,this.jQuery?up.browser.jQuery(i):i],a=this.callback.length;if(1!==a&&2!==a){var u=up.syntax.data(i);s.push(u)}var l=(e=this.callback).bind.apply(e,n([i],s,!1));this.baseLayer?this.baseLayer.asCurrent(l):l()}}},i.fromElement=function(t){var e=t.element.upEventListeners;if(e)return e[this.buildKey(t)]},i.buildKey=function(t){var e;return(e=t.callback).upUid||(e.upUid=r.uid()),[t.eventType,t.selector,t.callback.upUid].join("|")},i.allNonDefault=function(t){var e=t.upEventListeners;if(e){var n=r.values(e);return r.reject(n,"isDefault")}return[]},i}(up.Record)},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)},r=up.util;up.EventListenerGroup=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return e(o,t),o.prototype.keys=function(){return["elements","eventTypes","selector","callback","jQuery","guard","baseLayer","passive","once","beforeBoot"]},o.prototype.bind=function(){var t=[];return this.eachListenerAttributes((function(e){var n=new up.EventListener(e);return n.bind(),t.push(n.unbind.bind(n))})),r.sequence(t)},o.prototype.eachListenerAttributes=function(t){for(var e=0,n=this.elements;e<n.length;e++)for(var r=n[e],o=0,i=this.eventTypes;o<i.length;o++){var s=i[o];t(this.listenerAttributes(r,s))}},o.prototype.listenerAttributes=function(t,e){return n(n({},this.attributes()),{element:t,eventType:e})},o.prototype.unbind=function(){this.eachListenerAttributes((function(t){var e=up.EventListener.fromElement(t);e&&e.unbind()}))},o.fromBindArgs=function(t,e){var o,i=(t=r.copy(t)).pop();o=t[0].addEventListener?[t.shift()]:r.isJQuery(t[0])||r.isList(t[0])&&t[0][0].addEventListener?t.shift():[document];var s=r.splitValues(t.shift()),a=up.migrate.fixEventTypes;a&&(s=a(s));var u=r.extractOptions(t),l=t[0];return new this(n(n({elements:o,eventTypes:s,selector:l,callback:i},u),e))},o}(up.Record)},function(){var t=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},e=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},n=up.util,r=up.element;up.FieldObserver=function(){function o(t,e,n){this.scheduleValues=this.scheduleValues.bind(this),this.isNewValues=this.isNewValues.bind(this),this.callback=n,this.fields=r.list(t),this.delay=e.delay,this.batch=e.batch}return o.prototype.start=function(){var t=this;this.scheduledValues=null,this.processedValues=this.readFieldValues(),this.currentTimer=void 0,this.callbackRunning=!1,this.unbind=up.on(this.fields,"input change",(function(){return t.check()}))},o.prototype.stop=function(){this.unbind(),this.cancelTimer()},o.prototype.cancelTimer=function(){clearTimeout(this.currentTimer),this.currentTimer=void 0},o.prototype.scheduleTimer=function(){var t=this;this.cancelTimer(),this.currentTimer=n.timer(this.delay,(function(){t.currentTimer=void 0,t.requestCallback()}))},o.prototype.scheduleValues=function(t){this.scheduledValues=t,this.scheduleTimer()},o.prototype.isNewValues=function(t){return!n.isEqual(t,this.processedValues)&&!n.isEqual(this.scheduledValues,t)},o.prototype.requestCallback=function(){return t(this,void 0,void 0,(function(){var t,r,o,i;return e(this,(function(e){switch(e.label){case 0:if(null===this.scheduledValues||this.currentTimer||this.callbackRunning)return[3,2];if(t=this.changedValues(this.processedValues,this.scheduledValues),this.processedValues=this.scheduledValues,this.scheduledValues=null,this.callbackRunning=!0,r=[],this.batch)r.push(this.callback(t));else for(o in t)i=t[o],r.push(this.callback(i,o));return[4,n.allSettled(r)];case 1:e.sent(),this.callbackRunning=!1,this.requestCallback(),e.label=2;case 2:return[2]}}))}))},o.prototype.changedValues=function(t,e){var r={},o=Object.keys(t);o=o.concat(Object.keys(e));for(var i=0,s=o=n.uniq(o);i<s.length;i++){var a=s[i],u=t[a],l=e[a];n.isEqual(u,l)||(r[a]=l)}return r},o.prototype.readFieldValues=function(){return up.Params.fromFields(this.fields).toObject()},o.prototype.check=function(){var t=this.readFieldValues();this.isNewValues(t)&&this.scheduleValues(t)},o}()},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),n=up.element,r=["selectionStart","selectionEnd","scrollLeft","scrollTop"];function o(t,e){for(var n=0,o=r;n<o.length;n++){var i=o[n];try{e[i]=t[i]}catch(t){}}}function i(t){var e=document.activeElement;if(n.isInSubtree(t,e))return e}up.FocusCapsule=function(t){function s(){return null!==t&&t.apply(this,arguments)||this}return e(s,t),s.prototype.keys=function(){return["selector","oldElement"].concat(r)},s.prototype.restore=function(t,e){if(this.wasLost()){var r=n.get(t,this.selector);return r?(o(this,r),up.focus(r,e),!0):void 0}},s.preserveWithin=function(t){var e=i(t);if(e){var n={oldElement:t,selector:up.fragment.toTarget(e)};return o(e,n),new this(n)}},s.prototype.wasLost=function(){return!i(this.oldElement)},s}(up.Record)},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),n=up.util;up.FragmentProcessor=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.keys=function(){return["fragment","autoMeans","origin","layer"]},r.prototype.process=function(t){return this.tryProcess(t)},r.prototype.tryProcess=function(t){var e=this;if(n.isArray(t))return n.find(t,(function(t){return e.tryProcess(t)}));if(n.isFunction(t))return this.tryProcess(t(this.fragment,this.attributes()));if(n.isElement(t))return this.processElement();if(n.isString(t)){if("auto"===t)return this.tryProcess(this.autoMeans);var r=t.match(/^(.+?)-if-(.+?)$/);if(r)return this.resolveCondition(r[2])&&this.process(r[1])}return this.processPrimitive(t)},r.prototype.resolveCondition=function(t){if("main"===t)return up.fragment.contains(this.fragment,":main")},r.prototype.findSelector=function(t){var e={layer:this.layer,origin:this.origin},n=up.fragment.get(this.fragment,t,e)||up.fragment.get(t,e);if(n)return n;up.warn("up.render()",'Could not find an element matching "%s"',t)},r}(up.Record)},function(){var t=/^([^ >+(]+) (.+)$/;up.FragmentFinder=function(){function e(t){this.options=t,this.origin=this.options.origin,this.selector=this.options.selector,this.layer=this.options.layer}return e.prototype.find=function(){return this.findAroundOrigin()||this.findInLayer()},e.prototype.findAroundOrigin=function(){if(this.origin&&up.fragment.config.matchAroundOrigin&&!up.element.isDetached(this.origin))return this.findClosest()||this.findInVicinity()},e.prototype.findClosest=function(){return up.fragment.closest(this.origin,this.selector,this.options)},e.prototype.findInVicinity=function(){var e=this.selector.match(t);if(e){var n=up.fragment.closest(this.origin,e[1],this.options);if(n)return up.fragment.getDumb(n,e[2])}},e.prototype.findInLayer=function(){return up.fragment.getDumb(this.selector,this.options)},e}()},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),n=up.util,r=up.element,o={preventScroll:!0};up.FragmentFocus=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return e(i,t),i.prototype.keys=function(){return t.prototype.keys.call(this).concat(["hash","focusCapsule"])},i.prototype.processPrimitive=function(t){switch(t){case"keep":return this.restoreFocus();case"target":case!0:return this.focusElement(this.fragment);case"layer":return this.focusElement(this.layer.getFocusElement());case"main":return this.focusSelector(":main");case"hash":return this.focusHash();case"autofocus":return this.autofocus();default:if(n.isString(t))return this.focusSelector(t)}},i.prototype.processElement=function(t){return this.focusElement(t)},i.prototype.resolveCondition=function(e){return"lost"===e?this.wasFocusLost():t.prototype.resolveCondition.call(this,e)},i.prototype.focusSelector=function(t){var e=this.findSelector(t);if(e)return this.focusElement(e)},i.prototype.restoreFocus=function(){var t;return null===(t=this.focusCapsule)||void 0===t?void 0:t.restore(this.fragment,o)},i.prototype.autofocus=function(){var t=r.subtree(this.fragment,"[autofocus]")[0];if(t)return up.focus(t,o),!0},i.prototype.focusElement=function(t){return up.viewport.makeFocusable(t),up.focus(t,o),!0},i.prototype.focusHash=function(){var t=up.viewport.firstHashTarget(this.hash,{layer:this.layer});if(t)return this.focusElement(t)},i.prototype.wasFocusLost=function(){var t;return null===(t=this.focusCapsule)||void 0===t?void 0:t.wasLost()},i}(up.FragmentProcessor)},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)},r=up.util;up.FragmentScrolling=function(t){function o(e){var n,r;return null===(r=(n=up.migrate).handleScrollOptions)||void 0===r||r.call(n,e),t.call(this,e)||this}return e(o,t),o.prototype.keys=function(){return t.prototype.keys.call(this).concat(["hash","mode","revealTop","revealMax","revealSnap","scrollBehavior","scrollSpeed"])},o.prototype.process=function(e){return t.prototype.process.call(this,e)||Promise.resolve()},o.prototype.processPrimitive=function(t){switch(t){case"reset":return this.reset();case"layer":return this.revealLayer();case"main":return this.revealSelector(":main");case"restore":return this.restore();case"hash":return this.hash&&up.viewport.revealHash(this.hash,this.attributes());case"target":case"reveal":case!0:return this.revealElement(this.fragment);default:if(r.isString(t))return this.revealSelector(t)}},o.prototype.processElement=function(t){return this.revealElement(t)},o.prototype.revealElement=function(t){return up.reveal(t,this.attributes())},o.prototype.revealSelector=function(t){var e=this.findSelector(t);if(e)return this.revealElement(e)},o.prototype.revealLayer=function(){return this.revealElement(this.layer.getBoxElement())},o.prototype.reset=function(){return up.viewport.resetScroll(n(n({},this.attributes()),{around:this.fragment}))},o.prototype.restore=function(){return up.viewport.restoreScroll(n(n({},this.attributes()),{around:this.fragment}))},o}(up.FragmentProcessor)},function(){var t=up.util,e=up.element;up.HTMLWrapper=function(){function n(t){this.tagName=t;var e="<".concat(this.tagName,"[^>]*>"),n="</".concat(this.tagName,">");this.pattern=new RegExp(e+"(.|\\s)*?"+n,"ig"),this.attrName="up-wrapped-".concat(this.tagName)}return n.prototype.strip=function(t){return t.replace(this.pattern,"")},n.prototype.wrap=function(t){return t.replace(this.pattern,this.wrapMatch.bind(this))},n.prototype.wrapMatch=function(e){return this.didWrap=!0,'<meta name="'+this.attrName+'" value="'+t.escapeHTML(e)+'">'},n.prototype.unwrap=function(t){if(this.didWrap)for(var n=0,r=t.querySelectorAll("meta[name='".concat(this.attrName,"']"));n<r.length;n++){var o=r[n],i=o.getAttribute("value"),s=e.createFromHTML(i);e.replace(o,s)}},n}()},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),n=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},r=up.element,o=up.util;up.Layer=function(t){function i(e){void 0===e&&(e={});var n=t.call(this,e)||this;if(!n.mode)throw"missing { mode } option";return n}return e(i,t),i.prototype.keys=function(){return["element","stack","history","mode","context","lastScrollTops"]},i.prototype.defaults=function(){return{context:{},lastScrollTops:new up.Cache({size:30,key:up.history.normalizeURL})}},i.prototype.setupHandlers=function(){up.link.convertClicks(this)},i.prototype.teardownHandlers=function(){},i.prototype.mainTargets=function(){return up.layer.mainTargets(this.mode)},i.prototype.sync=function(){},i.prototype.accept=function(){throw up.error.notImplemented()},i.prototype.dismiss=function(){throw up.error.notImplemented()},i.prototype.peel=function(t){this.stack.peel(this,t)},i.prototype.evalOption=function(t){return o.evalOption(t,this)},i.prototype.isCurrent=function(){return this.stack.isCurrent(this)},i.prototype.isFront=function(){return this.stack.isFront(this)},i.prototype.isRoot=function(){return this.stack.isRoot(this)},i.prototype.isOverlay=function(){return this.stack.isOverlay(this)},i.prototype.isOpen=function(){return this.stack.isOpen(this)},i.prototype.isClosed=function(){return this.stack.isClosed(this)},Object.defineProperty(i.prototype,"parent",{get:function(){return this.stack.parentOf(this)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"child",{get:function(){return this.stack.childOf(this)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ancestors",{get:function(){return this.stack.ancestorsOf(this)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"descendants",{get:function(){return this.stack.descendantsOf(this)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"index",{get:function(){return this.stack.indexOf(this)},enumerable:!1,configurable:!0}),i.prototype.getContentElement=function(){return this.contentElement||this.element},i.prototype.getBoxElement=function(){return this.boxElement||this.element},i.prototype.getFocusElement=function(){return this.getBoxElement()},i.prototype.getFirstSwappableElement=function(){throw up.error.notImplemented()},i.prototype.contains=function(t){return r.closest(t,up.layer.anySelector())===this.element},i.prototype.on=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.buildEventListenerGroup(t).bind()},i.prototype.off=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.buildEventListenerGroup(t).unbind()},i.prototype.buildEventListenerGroup=function(t){var e=this;return up.EventListenerGroup.fromBindArgs(t,{guard:function(t){return e.containsEventTarget(t)},elements:[this.element],baseLayer:this})},i.prototype.containsEventTarget=function(t){return this.contains(t.target)},i.prototype.wasHitByMouseEvent=function(t){var e=document.elementFromPoint(t.clientX,t.clientY);return!e||this.contains(e)},i.prototype.buildEventEmitter=function(t){return up.EventEmitter.fromEmitArgs(t,{layer:this})},i.prototype.emit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.buildEventEmitter(t).emit()},i.prototype.isDetached=function(){return r.isDetached(this.element)},i.prototype.saveHistory=function(){this.isHistoryVisible()&&(this.savedTitle=document.title,this.savedLocation=up.history.location)},i.prototype.restoreHistory=function(){this.showsLiveHistory()&&(this.savedLocation&&up.history.push(this.savedLocation),this.savedTitle&&(document.title=this.savedTitle))},i.prototype.asCurrent=function(t){return this.stack.asCurrent(this,t)},i.prototype.updateHistory=function(t){o.isString(t.title)&&(this.title=t.title),o.isString(t.location)&&(this.location=t.location)},i.prototype.isHistoryVisible=function(){return this.history&&(this.isRoot()||this.parent.isHistoryVisible())},i.prototype.showsLiveHistory=function(){return this.isHistoryVisible()&&this.isFront()&&(up.history.config.enabled||this.isRoot())},Object.defineProperty(i.prototype,"title",{get:function(){return this.showsLiveHistory()?document.title:this.savedTitle},set:function(t){this.savedTitle=t,this.showsLiveHistory()&&(document.title=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"location",{get:function(){return this.showsLiveHistory()?up.history.location:this.savedLocation},set:function(t){this.savedLocation!==(t=up.history.normalizeURL(t))&&(this.savedLocation=t,this.emit("up:layer:location:changed",{location:t,log:!1}),this.showsLiveHistory()&&up.history.push(t))},enumerable:!1,configurable:!0}),i.prototype.selector=function(t){return this.constructor.selector(t)},i.selector=function(t){throw up.error.notImplemented()},i.prototype.toString=function(){throw up.error.notImplemented()},i.prototype.affix=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.affix.apply(r,n([this.getFirstSwappableElement()],t,!1))},i.prototype[o.isEqual.key]=function(t){return this.constructor===t.constructor&&this.element===t.element},i}(up.Record)},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)},r=up.element,o=up.util;up.Layer.Overlay=function(t){function i(e){var n=t.call(this,e)||this;return!0===n.dismissable?n.dismissable=["button","key","outside"]:!1===n.dismissable?n.dismissable=[]:n.dismissable=o.splitValues(n.dismissable),n.acceptLocation&&(n.acceptLocation=new up.URLPattern(n.acceptLocation)),n.dismissLocation&&(n.dismissLocation=new up.URLPattern(n.dismissLocation)),n}return e(i,t),i.prototype.keys=function(){return t.prototype.keys.call(this).concat(["position","align","size","origin","class","backdrop","openAnimation","closeAnimation","openDuration","closeDuration","openEasing","closeEasing","backdropOpenAnimation","backdropCloseAnimation","dismissable","dismissLabel","dismissAriaLabel","onOpened","onAccept","onAccepted","onDismiss","onDismissed","acceptEvent","dismissEvent","acceptLocation","dismissLocation","opening"])},i.prototype.callback=function(t){var e=this[t];if(e)return e.bind(this)},i.prototype.createElement=function(t){this.nesting||(this.nesting=this.suggestVisualNesting());var e=o.compactObject(o.pick(this,["align","position","size","class","nesting"]));this.element=this.affixPart(t,null,e)},i.prototype.createBackdropElement=function(t){this.backdropElement=this.affixPart(t,"backdrop")},i.prototype.createViewportElement=function(t){this.viewportElement=this.affixPart(t,"viewport",{"up-viewport":""})},i.prototype.createBoxElement=function(t){this.boxElement=this.affixPart(t,"box")},i.prototype.createContentElement=function(t,e){this.contentElement=this.affixPart(t,"content"),this.contentElement.appendChild(e)},i.prototype.createDismissElement=function(t){return this.dismissElement=this.affixPart(t,"dismiss",{"up-dismiss":'":button"',"aria-label":this.dismissAriaLabel}),r.affix(this.dismissElement,'span[aria-hidden="true"]',{text:this.dismissLabel})},i.prototype.affixPart=function(t,e,n){return void 0===n&&(n={}),r.affix(t,this.selector(e),n)},i.selector=function(t){return o.compact(["up",this.mode,t]).join("-")},i.prototype.suggestVisualNesting=function(){var t=this.parent;return this.mode===t.mode?1+t.suggestVisualNesting():0},i.prototype.setupHandlers=function(){var e,n,r=this;t.prototype.setupHandlers.call(this),this.overlayFocus=new up.OverlayFocus(this),this.supportsDismissMethod("button")&&this.createDismissElement(this.getBoxElement()),this.supportsDismissMethod("outside")&&(this.unbindParentClicked=this.parent.on("up:click",(function(t,e){var n=r.origin&&r.origin.contains(e);r.onOutsideClicked(t,n)})),this.viewportElement&&up.on(this.viewportElement,"up:click",(function(t){t.target===r.viewportElement&&r.onOutsideClicked(t,!0)}))),this.supportsDismissMethod("key")&&(this.unbindEscapePressed=up.event.onEscape((function(t){return r.onEscapePressed(t)}))),this.registerClickCloser("up-accept",(function(t,e){r.accept(t,e)})),this.registerClickCloser("up-dismiss",(function(t,e){r.dismiss(t,e)})),null===(n=(e=up.migrate).registerLayerCloser)||void 0===n||n.call(e,this),this.registerEventCloser(this.acceptEvent,this.accept),this.registerEventCloser(this.dismissEvent,this.dismiss)},i.prototype.onOutsideClicked=function(t,e){e&&up.event.halt(t),this.dismiss(":outside")},i.prototype.onEscapePressed=function(t){if(this.isFront()){var e=up.form.focusedField();e?e.blur():this.supportsDismissMethod("key")&&(up.event.halt(t),this.dismiss(":key"))}},i.prototype.registerClickCloser=function(t,e){var n="[".concat(t,"]");this.on("up:click",n,(function(o){up.event.halt(o);var i=o.target.closest(n),s=r.jsonAttr(i,t),a={origin:i},u=new up.OptionsParser(a,i);u.booleanOrString("animation"),u.string("easing"),u.number("duration"),u.string("confirm"),e(s,a)}))},i.prototype.registerEventCloser=function(t,e){var n=this;if(t)return this.on(t,(function(t){t.preventDefault(),e.call(n,t)}))},i.prototype.tryAcceptForLocation=function(){this.tryCloseForLocation(this.acceptLocation,this.accept)},i.prototype.tryDismissForLocation=function(){this.tryCloseForLocation(this.dismissLocation,this.dismiss)},i.prototype.tryCloseForLocation=function(t,e){var r,o;if(t&&(r=this.location)&&(o=t.recognize(r))){var i=n(n({},o),{location:r});e.call(this,i)}},i.prototype.teardownHandlers=function(){var e,n;t.prototype.teardownHandlers.call(this),null===(e=this.unbindParentClicked)||void 0===e||e.call(this),null===(n=this.unbindEscapePressed)||void 0===n||n.call(this),this.overlayFocus.teardown()},i.prototype.destroyElements=function(t){var e=this,r=n(n({},t),{animation:function(){return e.startCloseAnimation(t)},onFinished:function(){var n;e.onElementsRemoved(),null===(n=t.onFinished)||void 0===n||n.call(t)},log:!1});up.destroy(this.element,r)},i.prototype.onElementsRemoved=function(){},i.prototype.startAnimation=function(t){void 0===t&&(t={});var e,n=up.animate(this.getBoxElement(),t.boxAnimation,t);return this.backdrop&&!up.motion.isNone(t.boxAnimation)&&(e=up.animate(this.backdropElement,t.backdropAnimation,t)),Promise.all([n,e])},i.prototype.startOpenAnimation=function(t){var e,n=this;return void 0===t&&(t={}),this.startAnimation({boxAnimation:null!==(e=t.animation)&&void 0!==e?e:this.evalOption(this.openAnimation),backdropAnimation:"fade-in",easing:t.easing||this.openEasing,duration:t.duration||this.openDuration}).then((function(){return n.wasEverVisible=!0}))},i.prototype.startCloseAnimation=function(t){var e;void 0===t&&(t={});var n=this.wasEverVisible&&(null!==(e=t.animation)&&void 0!==e?e:this.evalOption(this.closeAnimation));return this.startAnimation({boxAnimation:n,backdropAnimation:"fade-out",easing:t.easing||this.closeEasing,duration:t.duration||this.closeDuration})},i.prototype.accept=function(t,e){return void 0===t&&(t=null),void 0===e&&(e={}),this.executeCloseChange("accept",t,e)},i.prototype.dismiss=function(t,e){return void 0===t&&(t=null),void 0===e&&(e={}),this.executeCloseChange("dismiss",t,e)},i.prototype.supportsDismissMethod=function(t){return o.contains(this.dismissable,t)},i.prototype.executeCloseChange=function(t,e,r){return r=n(n({},r),{verb:t,value:e,layer:this}),new up.Change.CloseLayer(r).execute()},i.prototype.getFirstSwappableElement=function(){return this.getContentElement().children[0]},i.prototype.toString=function(){return"".concat(this.mode," overlay")},i}(up.Layer)},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});up.Layer.OverlayWithTether=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.createElements=function(t){this.origin||up.fail("Missing { origin } option"),this.tether=new up.Tether({anchor:this.origin,align:this.align,position:this.position}),this.createElement(this.tether.parent),this.createContentElement(this.element,t),this.tether.start(this.element)},n.prototype.onElementsRemoved=function(){this.tether.stop()},n.prototype.sync=function(){this.isOpen()&&(this.isDetached()||this.tether.isDetached()?this.dismiss(":detached",{animation:!1,preventable:!1}):this.tether.sync())},n}(up.Layer.Overlay)},function(){var t,e,n=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});up.Layer.OverlayWithViewport=(e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.getParentElement=function(){return document.body},e.prototype.createElements=function(t){this.shiftBody(),this.createElement(this.constructor.getParentElement()),this.backdrop&&this.createBackdropElement(this.element),this.createViewportElement(this.element),this.createBoxElement(this.viewportElement),this.createContentElement(this.boxElement,t)},e.prototype.onElementsRemoved=function(){this.unshiftBody()},e.prototype.shiftBody=function(){this.constructor.bodyShifter.shift()},e.prototype.unshiftBody=function(){this.constructor.bodyShifter.unshift()},e.prototype.sync=function(){this.isDetached()&&this.isOpen()&&this.constructor.getParentElement().appendChild(this.element)},e}(up.Layer.Overlay),e.bodyShifter=new up.BodyShifter,e)},function(){var t,e,n=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),r=up.util,o=up.element;up.Layer.Root=((e=function(t){function e(e){var n=t.call(this,e)||this;return n.setupHandlers(),n}return n(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return o.root},enumerable:!1,configurable:!0}),e.prototype.getFirstSwappableElement=function(){return document.body},e.selector=function(){return"html"},e.prototype.setupHandlers=function(){this.element.upHandlersApplied||(this.element.upHandlersApplied=!0,t.prototype.setupHandlers.call(this))},e.prototype.sync=function(){this.setupHandlers()},e.prototype.accept=function(){this.cannotCloseRoot()},e.prototype.dismiss=function(){this.cannotCloseRoot()},e.prototype.cannotCloseRoot=function(){throw up.error.failed("Cannot close the root layer")},e.prototype.reset=function(){r.assign(this,this.defaults())},e.prototype.toString=function(){return"root layer"},e}(up.Layer)).mode="root",e)},function(){var t,e,n=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});up.Layer.Modal=(e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(up.Layer.OverlayWithViewport),e.mode="modal",e)},function(){var t,e,n=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});up.Layer.Popup=(e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(up.Layer.OverlayWithTether),e.mode="popup",e)},function(){var t,e,n=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});up.Layer.Drawer=(e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(up.Layer.OverlayWithViewport),e.mode="drawer",e)},function(){var t,e,n=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});up.Layer.Cover=(e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(up.Layer.OverlayWithViewport),e.mode="cover",e)},function(){var t=this&&this.__assign||function(){return t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},t.apply(this,arguments)},e=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},n=up.util,r=up.element;up.LayerLookup=function(){function o(e){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];this.stack=e;var i=n.parseArgIntoOptions(r,"layer");if(!1!==i.normalizeLayerOptions&&up.layer.normalizeOptions(i),this.values=n.splitValues(i.layer),this.origin=i.origin,this.baseLayer=i.baseLayer||this.stack.current,n.isString(this.baseLayer)){var s=t(t({},i),{baseLayer:this.stack.current,normalizeLayerOptions:!1});this.baseLayer=new this.constructor(this.stack,this.baseLayer,s).first()}}return o.prototype.originLayer=function(){if(this.origin)return this.forElement(this.origin)},o.prototype.first=function(){return this.all()[0]},o.prototype.all=function(){var t=this,e=n.flatMap(this.values,(function(e){return t.resolveValue(e)}));return e=n.compact(e),e=n.uniq(e)},o.prototype.forElement=function(t){return t=r.get(t),n.find(this.stack.reversed(),(function(e){return e.contains(t)}))},o.prototype.forIndex=function(t){return this.stack[t]},o.prototype.resolveValue=function(t){if(t instanceof up.Layer)return t;if(n.isNumber(t))return this.forIndex(t);if(/^\d+$/.test(t))return this.forIndex(Number(t));if(n.isElementish(t))return this.forElement(t);switch(t){case"any":return e([this.baseLayer],this.stack.reversed(),!0);case"current":return this.baseLayer;case"closest":return this.stack.selfAndAncestorsOf(this.baseLayer);case"parent":return this.baseLayer.parent;case"ancestor":case"ancestors":return this.baseLayer.ancestors;case"child":return this.baseLayer.child;case"descendant":case"descendants":return this.baseLayer.descendants;case"new":return"new";case"root":return this.stack.root;case"overlay":case"overlays":return n.reverse(this.stack.overlays);case"front":return this.stack.front;case"origin":return this.originLayer();default:return up.fail("Unknown { layer } option: %o",t)}},o}()},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)},r=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},o=up.util;up.LayerStack=function(t){function i(){var e=t.call(this)||this;return Object.setPrototypeOf(e,up.LayerStack.prototype),e.currentOverrides=[],e.push(e.buildRoot()),e}return e(i,t),i.prototype.buildRoot=function(){return up.layer.build({mode:"root",stack:this})},i.prototype.remove=function(t){o.remove(this,t)},i.prototype.peel=function(t,e){for(var r=o.reverse(t.descendants),i=n(n({},e),{preventable:!1}),s=0,a=r;s<a.length;s++){a[s].dismiss(":peel",i)}},i.prototype.reset=function(){this.peel(this.root,{animation:!1}),this.currentOverrides=[],this.root.reset()},i.prototype.isOpen=function(t){return t.index>=0},i.prototype.isClosed=function(t){return!this.isOpen(t)},i.prototype.parentOf=function(t){return this[t.index-1]},i.prototype.childOf=function(t){return this[t.index+1]},i.prototype.ancestorsOf=function(t){return o.reverse(this.slice(0,t.index))},i.prototype.selfAndAncestorsOf=function(t){return r([t],t.ancestors,!0)},i.prototype.descendantsOf=function(t){return this.slice(t.index+1)},i.prototype.isRoot=function(t){return this[0]===t},i.prototype.isOverlay=function(t){return!this.isRoot(t)},i.prototype.isCurrent=function(t){return this.current===t},i.prototype.isFront=function(t){return this.front===t},i.prototype.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.getAll.apply(this,t)[0]},i.prototype.getAll=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(new((t=up.LayerLookup).bind.apply(t,r([void 0,this],e,!1)))).all()},i.prototype.sync=function(){for(var t=0;t<this.length;t++){this[t].sync()}},i.prototype.asCurrent=function(t,e){try{return this.currentOverrides.push(t),e()}finally{this.currentOverrides.pop()}},i.prototype.reversed=function(){return o.reverse(this)},i.prototype.dismissOverlays=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),e.dismissable=!1;for(var n=0,r=o.reverse(this.overlays);n<r.length;n++){r[n].dismiss(t,e)}},i.prototype[o.copy.key]=function(){return o.copyArrayLike(this)},Object.defineProperty(i.prototype,"count",{get:function(){return this.length},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"root",{get:function(){return this[0]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"overlays",{get:function(){return this.root.descendants},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"current",{get:function(){return o.last(this.currentOverrides)||this.front},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"front",{get:function(){return o.last(this)},enumerable:!1,configurable:!0}),i}(Array)},function(){up.LinkFeedbackURLs=function(){function t(t){var e=up.feedback.normalizeURL;if(this.isSafe=up.link.isSafe(t),this.isSafe){var n=t.getAttribute("href");n&&"#"!==n&&(this.href=e(n));var r=t.getAttribute("up-href");r&&(this.upHREF=e(r));var o=t.getAttribute("up-alias");o&&(this.aliasPattern=new up.URLPattern(o,e))}}return t.prototype.isCurrent=function(t){return this.isSafe&&!!(this.href&&this.href===t||this.upHREF&&this.upHREF===t||this.aliasPattern&&this.aliasPattern.test(t,!1))},t}()},function(){var t=up.util,e=up.element;up.LinkPreloader=function(){function n(){this.considerPreload=this.considerPreload.bind(this)}return n.prototype.observeLink=function(t){var e=this;up.link.isSafe(t)&&(this.on(t,"mouseenter",(function(t){return e.considerPreload(t,!0)})),this.on(t,"mousedown touchstart",(function(t){return e.considerPreload(t)})),this.on(t,"mouseleave",(function(t){return e.stopPreload(t)})))},n.prototype.on=function(t,e,n){up.on(t,e,{passive:!0},n)},n.prototype.considerPreload=function(t,e){var n=t.target;n!==this.currentLink&&(this.reset(),this.currentLink=n,up.link.shouldFollowEvent(t,n)&&(e?this.preloadAfterDelay(n):this.preloadNow(n)))},n.prototype.stopPreload=function(t){if(t.target===this.currentLink)return this.reset()},n.prototype.reset=function(){var t;this.currentLink&&(clearTimeout(this.timer),(null===(t=this.currentRequest)||void 0===t?void 0:t.preload)&&this.currentRequest.abort(),this.currentLink=void 0,this.currentRequest=void 0)},n.prototype.preloadAfterDelay=function(n){var r,o=this,i=null!==(r=e.numberAttr(n,"up-delay"))&&void 0!==r?r:up.link.config.preloadDelay;this.timer=t.timer(i,(function(){return o.preloadNow(n)}))},n.prototype.preloadNow=function(t){var n=this;if(e.isDetached(t))this.reset();else{up.log.muteUncriticalRejection(up.link.preload(t,{onQueued:function(t){return n.currentRequest=t}})),this.queued=!0}},n}()},function(){var t=this&&this.__assign||function(){return t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},t.apply(this,arguments)},e=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},r=up.util,o=up.element;up.MotionController=function(){function i(t){this.activeClass="up-".concat(t),this.dataKey="up-".concat(t,"-finished"),this.selector=".".concat(this.activeClass),this.finishEvent="up:".concat(t,":finish"),this.finishCount=0,this.clusterCount=0}return i.prototype.startFunction=function(t,i,s){var a;return void 0===s&&(s={}),e(this,void 0,void 0,(function(){var e,u,l=this;return n(this,(function(n){switch(n.label){case 0:return t=o.list(t),e=function(){return up.log.muteUncriticalRejection(i())},s.trackMotion=null!==(a=s.trackMotion)&&void 0!==a?a:up.motion.isEnabled(),!1!==s.trackMotion?[3,2]:[4,r.microtask(e)];case 1:return n.sent(),[3,5];case 2:return s.trackMotion=!1,[4,this.finish(t)];case 3:return n.sent(),u=this.whileForwardingFinishEvent(t,e),this.markCluster(t,u),[4,u=u.then((function(){return l.unmarkCluster(t)}))];case 4:return[2,n.sent()];case 5:return[2]}}))}))},i.prototype.startMotion=function(t,e,n){void 0===n&&(n={});var r=up.on(t,this.finishEvent,(function(){return e.finish()})),o=this.startFunction(t,(function(){return e.start()}),n);return o=o.then(r)},i.prototype.finish=function(t){if(this.finishCount++,0===this.clusterCount||!up.motion.isEnabled())return Promise.resolve();t=this.expandFinishRequest(t);var e=r.map(t,this.finishOneElement.bind(this));return Promise.all(e)},i.prototype.expandFinishRequest=function(t){var e=this;return t?r.flatMap(t,(function(t){return o.list(o.closest(t,e.selector),o.all(t,e.selector))})):o.all(this.selector)},i.prototype.isActive=function(t){return t.classList.contains(this.activeClass)},i.prototype.finishOneElement=function(t){return this.emitFinishEvent(t),this.whenElementFinished(t)},i.prototype.emitFinishEvent=function(e,n){return void 0===n&&(n={}),n=t({target:e,log:!1},n),up.emit(this.finishEvent,n)},i.prototype.whenElementFinished=function(t){return t[this.dataKey]||Promise.resolve()},i.prototype.markCluster=function(t,e){this.clusterCount++;for(var n=0,r=t;n<r.length;n++){var o=r[n];o.classList.add(this.activeClass),o[this.dataKey]=e}},i.prototype.unmarkCluster=function(t){this.clusterCount--;for(var e=0,n=t;e<n.length;e++){var r=n[e];r.classList.remove(this.activeClass),delete r[this.dataKey]}},i.prototype.whileForwardingFinishEvent=function(t,e){var n=this;if(t.length<2)return e();var r=up.on(t,this.finishEvent,(function(e){if(!e.forwarded)for(var r=0,o=t;r<o.length;r++){var i=o[r];i!==e.target&&n.isActive(i)&&n.emitFinishEvent(i,{forwarded:!0})}}));return e().then(r)},i.prototype.reset=function(){return e(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,this.finish()];case 1:return t.sent(),this.finishCount=0,this.clusterCount=0,[2]}}))}))},i}()},function(){var t=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},e=up.util,n=up.element;up.NonceableCallback=function(){function r(t,e){this.script=t,this.nonce=e}return r.fromString=function(t){var e=t.match(/^(nonce-([^\s]+)\s)?(.*)$/);return new this(e[3],e[2])},r.prototype.toFunction=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(up.browser.canEval())return new(Function.bind.apply(Function,t(t([void 0],e,!1),[this.script],!1)));if(this.nonce){var r=this;return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r.runAsNoncedFunction(this,e,t)}}return this.cannotRun.bind(this)},r.prototype.toString=function(){return"nonce-".concat(this.nonce," ").concat(this.script)},r.prototype.cannotRun=function(){throw new Error("Your Content Security Policy disallows inline JavaScript (".concat(this.script,"). See https://unpoly.com/csp for solutions."))},r.prototype.runAsNoncedFunction=function(t,e,n){var r,o="\n      try {\n        up.noncedEval.value = (function(".concat(e.join(","),") {\n          ").concat(this.script,"\n        }).apply(up.noncedEval.thisArg, up.noncedEval.args)\n      } catch (error) {\n        up.noncedEval.error = error\n      }\n    ");try{if(up.noncedEval={args:n,thisArg:t},r=up.element.affix(document.body,"script",{nonce:this.nonce,text:o}),up.noncedEval.error)throw up.noncedEval.error;return up.noncedEval.value}finally{up.noncedEval=void 0,r&&up.element.remove(r)}},r.prototype.allowedBy=function(t){return this.nonce&&e.contains(t,this.nonce)},r.adoptNonces=function(r,o){var i=this;if(null==o?void 0:o.length){var s=e.memoize(up.protocol.cspNonce);e.each(up.protocol.config.nonceableAttributes,(function(a){var u=n.subtree(r,"[".concat(a,'^="nonce-"]'));e.each(u,(function(e){var n=e.getAttribute(a),r=i.fromString(n),u=function(e){for(var r,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return(r=up.log).warn.apply(r,t(["up.render()","Cannot use callback [".concat(a,'="').concat(n,'"]: ').concat(e)],o,!1))};if(!r.allowedBy(o))return u("Callback's CSP nonce (%o) does not match response header (%o)",r.nonce,o);var l=s();if(!l)return u("Current page's CSP nonce is unknown");r.nonce=l,e.setAttribute(a,r.toString())}))}))}},r}()},function(){var t=this&&this.__assign||function(){return t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},t.apply(this,arguments)},e=up.util,n=up.element;up.OptionsParser=function(){function r(t,e,n){this.options=t,this.element=e,this.fail=null==n?void 0:n.fail}return r.prototype.string=function(t,e){this.parse(n.attr,t,e)},r.prototype.boolean=function(t,e){this.parse(n.booleanAttr,t,e)},r.prototype.number=function(t,e){this.parse(n.numberAttr,t,e)},r.prototype.booleanOrString=function(t,e){this.parse(n.booleanOrStringAttr,t,e)},r.prototype.json=function(t,e){this.parse(n.jsonAttr,t,e)},r.prototype.parse=function(n,r,o){var i;void 0===o&&(o={});var s=e.wrapList(null!==(i=o.attr)&&void 0!==i?i:this.attrNameForKey(r)),a=this.options[r];if(this.element)for(var u=0,l=s;u<l.length;u++){var c=l[u];null!=a||(a=n(this.element,c))}null!=a||(a=o.default);var p,f=o.normalize;if(f&&(a=f(a)),e.isDefined(a)&&(this.options[r]=a),(o.fail||this.fail)&&(p=up.fragment.failKey(r))){var h=e.compact(e.map(s,this.deriveFailAttrName)),d=t(t({},o),{attr:h,fail:!1});this.parse(n,p,d)}},r.prototype.deriveFailAttrName=function(t){if(0===t.indexOf("up-"))return"up-fail-".concat(t.slice(3))},r.prototype.attrNameForKey=function(t){return"up-".concat(e.camelToKebabCase(t))},r}()},function(){var t=up.element,e=up.util;up.OverlayFocus=function(){function n(t){this.layer=t,this.focusElement=this.layer.getFocusElement()}return n.prototype.moveToFront=function(){var e=this;this.enabled||(this.enabled=!0,this.untrapFocus=up.on("focusin",(function(t){return e.onFocus(t)})),this.unsetAttrs=t.setTemporaryAttrs(this.focusElement,{tabindex:"0",role:"dialog","aria-modal":"true"}),this.focusTrapBefore=t.affix(this.focusElement,"beforebegin","up-focus-trap[tabindex=0]"),this.focusTrapAfter=t.affix(this.focusElement,"afterend","up-focus-trap[tabindex=0]"))},n.prototype.moveToBack=function(){this.teardown()},n.prototype.teardown=function(){this.enabled&&(this.enabled=!1,this.untrapFocus(),this.unsetAttrs(),t.remove(this.focusTrapBefore),t.remove(this.focusTrapAfter))},n.prototype.onFocus=function(t){var e=t.target;this.processingFocusEvent||(this.processingFocusEvent=!0,e===this.focusTrapBefore?this.focusEnd():e!==this.focusTrapAfter&&this.layer.contains(e)||this.focusStart(),this.processingFocusEvent=!1)},n.prototype.focusStart=function(t){up.focus(this.focusElement,t)},n.prototype.focusEnd=function(){this.focusLastDescendant(this.layer.getBoxElement())||this.focusStart()},n.prototype.focusLastDescendant=function(t){for(var n=0,r=e.reverse(t.children);n<r.length;n++){var o=r[n];if(up.viewport.tryFocus(o)||this.focusLastDescendant(o))return!0}},n}()},function(){var t=up.util,e=up.element;up.Params=function(){function n(t){this.clear(),this.addAll(t)}return n.prototype.clear=function(){this.entries=[]},n.prototype[t.copy.key]=function(){return new up.Params(this)},n.prototype.toObject=function(){for(var e={},n=0,r=this.entries;n<r.length;n++){var o=r[n],i=o.name,s=o.value;t.isBasicObjectProperty(i)||(this.isArrayKey(i)?(e[i]||(e[i]=[]),e[i].push(s)):e[i]=s)}return e},n.prototype.toArray=function(){return this.entries},n.prototype.toFormData=function(){for(var t=new FormData,e=0,n=this.entries;e<n.length;e++){var r=n[e];t.append(r.name,r.value)}return t.entries||(t.originalArray=this.entries),t},n.prototype.toQuery=function(){var e=t.map(this.entries,this.arrayEntryToQuery.bind(this));return(e=t.compact(e)).join("&")},n.prototype.arrayEntryToQuery=function(e){var n=e.value;if(!this.isBinaryValue(n)){var r=encodeURIComponent(e.name);return t.isGiven(n)&&(r+="=",r+=encodeURIComponent(n)),r}},n.prototype.isBinaryValue=function(t){return t instanceof Blob},n.prototype.hasBinaryValues=function(){var e=t.map(this.entries,"value");return t.some(e,this.isBinaryValue)},n.prototype.toURL=function(e){var n=[e,this.toQuery()];n=t.filter(n,t.isPresent);var r=t.contains(e,"?")?"&":"?";return n.join(r)},n.prototype.add=function(t,e){this.entries.push({name:t,value:e})},n.prototype.addAll=function(e){var n,r;t.isMissing(e)||(e instanceof this.constructor?(n=this.entries).push.apply(n,e.entries):t.isArray(e)?(r=this.entries).push.apply(r,e):t.isString(e)?this.addAllFromQuery(e):t.isFormData(e)?this.addAllFromFormData(e):t.isObject(e)?this.addAllFromObject(e):up.fail("Unsupport params type: %o",e))},n.prototype.addAllFromObject=function(e){for(var n in e)for(var r=e[n],o=0,i=t.isArray(r)?r:[r];o<i.length;o++){var s=i[o];this.add(n,s)}},n.prototype.addAllFromQuery=function(e){for(var n=0,r=e.split("&");n<r.length;n++){var o=r[n];if(o){var i=o.split("="),s=i[0],a=i[1];s=decodeURIComponent(s),a=t.isGiven(a)?decodeURIComponent(a):null,this.add(s,a)}}},n.prototype.addAllFromFormData=function(e){var n=this;t.eachIterator(e.entries(),(function(t){n.add.apply(n,t)}))},n.prototype.set=function(t,e){this.delete(t),this.add(t,e)},n.prototype.delete=function(e){this.entries=t.reject(this.entries,this.matchEntryFn(e))},n.prototype.matchEntryFn=function(t){return function(e){return e.name===t}},n.prototype.get=function(t){return this.isArrayKey(t)?this.getAll(t):this.getFirst(t)},n.prototype.getFirst=function(e){var n=t.find(this.entries,this.matchEntryFn(e));return null==n?void 0:n.value},n.prototype.getAll=function(e){if(this.isArrayKey(e))return this.getAll(e);var n=t.map(this.entries,this.matchEntryFn(e));return t.map(n,"value")},n.prototype.isArrayKey=function(e){return t.endsWith(e,"[]")},n.prototype[t.isBlank.key]=function(){return 0===this.entries.length},n.fromForm=function(t){return t=up.fragment.get(t),this.fromFields(up.form.fields(t))},n.fromFields=function(e){for(var n=new this,r=0,o=t.wrapList(e);r<o.length;r++){var i=o[r];n.addField(i)}return n},n.prototype.addField=function(t){var n=(t=e.get(t)).name;if(n&&!t.disabled){var r=t.tagName,o=t.type;if("SELECT"===r)for(var i=0,s=t.querySelectorAll("option");i<s.length;i++){var a=s[i];a.selected&&this.add(n,a.value)}else if("checkbox"===o||"radio"===o)t.checked&&this.add(n,t.value);else{if("file"!==o)return this.add(n,t.value);for(var u=0,l=t.files;u<l.length;u++){var c=l[u];this.add(n,c)}}}},n.prototype[t.isEqual.key]=function(e){return this.constructor===e.constructor&&t.isEqual(this.entries,e.entries)},n.fromURL=function(e){var n=new this,r=t.parseURL(e).search;return r&&(r=r.replace(/^\?/,""),n.addAll(r)),n},n.stripURL=function(e){return t.normalizeURL(e,{search:!1})},n}()},function(){var t=up.element;up.ProgressBar=function(){function e(){this.step=0,this.element=t.affix(document.body,"up-progress-bar"),this.element.style.transition="width ".concat(300,"ms ease-out"),this.moveTo(0),up.element.paint(this.element),this.width=31,this.nextStep()}return e.prototype.nextStep=function(){var t;t=this.width<80?Math.random()<.15?7+5*Math.random():1.5+.5*Math.random():.13*(100-this.width)*Math.random(),this.moveTo(this.width+t),this.step++;var e=300+40*this.step;this.timeout=setTimeout(this.nextStep.bind(this),e)},e.prototype.moveTo=function(t){this.width=t,this.element.style.width="".concat(t,"vw")},e.prototype.destroy=function(){clearTimeout(this.timeout),t.remove(this.element)},e.prototype.conclude=function(){clearTimeout(this.timeout),this.moveTo(100),setTimeout(this.destroy.bind(this),300)},e}()},function(){var t,e,n,r,o,i=up.util;up.RenderOptions=(t={hungry:!0,keep:!0,source:!0,saveScroll:!0,fail:"auto"},e={solo:!1,confirm:!1,feedback:!1},n=["url","method","origin","headers","params","cache","clearCache","fallback","solo","confirm","feedback","origin","baseLayer","fail"].concat(["keep","hungry","history","source","saveScroll","navigate"]),r=["url","content","fragment","document"],o=["history","focus","scroll"],{preprocess:function(n){var r,s;null===(s=(r=up.migrate).preprocessRenderOptions)||void 0===s||s.call(r,n);var a=i.merge(t,function(t){if(t.navigate)return up.fragment.config.navigateOptions}(n));return i.merge(i.omit(a,o),{defaults:a},n,function(t){if(t.preload)return e}(n))},finalize:function(t,e){return i.merge(t.defaults,e,t)},assertContentGiven:function(t){i.some(r,(function(e){return i.isGiven(t[e])}))||(t.defaultToEmptyContent?t.content="":up.fail("up.render() needs either { "+r.join(", ")+" } option"))},deriveFailOptions:function(t){return i.merge(t.defaults,i.pick(t,n),function(t){var e={};for(var n in t){var r=t[n],o=up.fragment.successKey(n);o&&(e[o]=r)}return e}(t))}})},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});up.RenderResult=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.keys=function(){return["fragments","layer"]},n}(up.Record)},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),n=up.util;up.Request=function(t){function r(e){var r=t.call(this,e)||this;return r.params=new up.Params(r.params),r.headers||(r.headers={}),r.preload&&(r.cache=!0),null==r.wrapMethod&&(r.wrapMethod=up.network.config.wrapMethod),r.normalizeForCaching(),e.basic||(r.layer=up.layer.get(r.layer),r.failLayer=up.layer.get(r.failLayer||r.layer),r.context||(r.context=r.layer.context||{}),r.failContext||(r.failContext=r.failLayer.context||{}),r.mode||(r.mode=r.layer.mode),r.failMode||(r.failMode=r.failLayer.mode),r.deferred=n.newDeferred(),r.state="new"),r}return e(r,t),r.prototype.keys=function(){return["method","url","hash","params","target","failTarget","headers","timeout","preload","cache","clearCache","layer","mode","context","failLayer","failMode","failContext","origin","solo","queueTime","wrapMethod","contentType","payload","onQueued"]},r.prototype.followState=function(t){n.delegate(this,["deferred","state","preload"],(function(){return t}))},r.prototype.normalizeForCaching=function(){this.method=n.normalizeMethod(this.method),this.extractHashFromURL(),this.transferParamsToURL(),this.url=n.normalizeURL(this.url)},r.prototype.evictExpensiveAttrs=function(){var t=this;n.task((function(){return t.layer=void 0,t.failLayer=void 0,t.origin=void 0}))},r.prototype.extractHashFromURL=function(){var t,e=null===(t=this.url)||void 0===t?void 0:t.match(/^([^#]*)(#.+)$/);if(e)return this.url=e[1],this.hash=e[2]},r.prototype.transferParamsToURL=function(){!this.url||this.allowsPayload()||n.isBlank(this.params)||(this.url=this.params.toURL(this.url),this.params.clear())},r.prototype.isSafe=function(){return up.network.isSafeMethod(this.method)},r.prototype.allowsPayload=function(){return n.methodAllowsPayload(this.method)},r.prototype.will302RedirectWithGET=function(){return this.isSafe()||"POST"===this.method},r.prototype.willCache=function(){return"auto"===this.cache?up.network.config.autoCache(this):this.cache},r.prototype.runQueuedCallbacks=function(){var t,e=this;n.always(this,(function(){return e.evictExpensiveAttrs()})),null===(t=this.onQueued)||void 0===t||t.call(this,this)},r.prototype.load=function(){var t=this;"new"===this.state&&(this.state="loading",this.xhr=new up.Request.XHRRenderer(this).buildAndSend({onload:function(){return t.onXHRLoad()},onerror:function(){return t.onXHRError()},ontimeout:function(){return t.onXHRTimeout()},onabort:function(){return t.onXHRAbort()}}))},r.prototype.loadPage=function(){up.network.abort(),new up.Request.FormRenderer(this).buildAndSubmit()},r.prototype.onXHRLoad=function(){var t=this.extractResponseFromXHR(),e=["Server responded HTTP %d to %s %s (%d characters)",t.status,this.method,this.url,t.text.length];this.emit("up:request:loaded",{request:t.request,response:t,log:e}),this.respondWith(t)},r.prototype.onXHRError=function(){var t="Fatal error during request";this.deferred.reject(up.error.failed(t)),this.emit("up:request:fatal",{log:t})},r.prototype.onXHRTimeout=function(){this.setAbortedState("Requested timed out")},r.prototype.onXHRAbort=function(){this.setAbortedState()},r.prototype.abort=function(){this.setAbortedState()&&this.xhr&&this.xhr.abort()},r.prototype.setAbortedState=function(t){if(void 0===t&&(t=["Request to %s %s was aborted",this.method,this.url]),"new"===this.state||"loading"===this.state)return this.state="aborted",this.emit("up:request:aborted",{log:t}),this.deferred.reject(up.error.aborted(t)),!0},r.prototype.respondWith=function(t){if("loading"===this.state)return this.state="loaded",t.ok?this.deferred.resolve(t):this.deferred.reject(t)},r.prototype.csrfHeader=function(){return up.protocol.csrfHeader()},r.prototype.csrfParam=function(){return up.protocol.csrfParam()},r.prototype.csrfToken=function(){if(!this.isSafe()&&!this.isCrossOrigin())return up.protocol.csrfToken()},r.prototype.isCrossOrigin=function(){return n.isCrossOrigin(this.url)},r.prototype.extractResponseFromXHR=function(){var t={method:this.method,url:this.url,request:this,xhr:this.xhr,text:this.xhr.responseText,status:this.xhr.status,title:up.protocol.titleFromXHR(this.xhr),target:up.protocol.targetFromXHR(this.xhr),acceptLayer:up.protocol.acceptLayerFromXHR(this.xhr),dismissLayer:up.protocol.dismissLayerFromXHR(this.xhr),eventPlans:up.protocol.eventPlansFromXHR(this.xhr),context:up.protocol.contextFromXHR(this.xhr),clearCache:up.protocol.clearCacheFromXHR(this.xhr)},e=up.protocol.methodFromXHR(this.xhr),r=up.protocol.locationFromXHR(this.xhr);return r&&(e||n.matchURLs(t.url,r)||(e="GET"),t.url=r),e&&(t.method=e),new up.Response(t)},r.prototype.cacheKey=function(){return JSON.stringify([this.method,this.url,this.params.toQuery(),this.metaProps()])},r.prototype.metaProps=function(){for(var t={},e=0,r=n.evalOption(up.network.config.requestMetaKeys,this);e<r.length;e++){var o=r[e],i=this[o];n.isGiven(i)&&(t[o]=i)}return t},r.prototype.buildEventEmitter=function(t){return up.EventEmitter.fromEmitArgs(t,{layer:this.layer,request:this,origin:this.origin})},r.prototype.emit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.buildEventEmitter(t).emit()},r.prototype.assertEmitted=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.buildEventEmitter(t).assertEmitted()},Object.defineProperty(r.prototype,"description",{get:function(){return this.method+" "+this.url},enumerable:!1,configurable:!0}),r}(up.Record),n.delegate(up.Request.prototype,["then","catch","finally"],(function(){return this.deferred})),up.Request.tester=function(t){if(n.isFunction(t))return t;if(t instanceof this)return function(e){return t===e};if(n.isString(t)){var e=new up.URLPattern(t);return function(t){return e.test(t.url)}}return function(e){return t}}},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),n=up.util;up.Request.Cache=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.maxSize=function(){return up.network.config.cacheSize},r.prototype.expiryMillis=function(){return up.network.config.cacheExpiry},r.prototype.normalizeStoreKey=function(t){return n.wrapValue(up.Request,t).cacheKey()},r.prototype.clear=function(t){var e=this;void 0===t&&(t=!0);var n=up.Request.tester(t);this.each((function(t,r){n(r)&&e.store.remove(t)}))},r}(up.Cache)},function(){var t=up.util;up.Request.Queue=function(){function e(t){var e,n;void 0===t&&(t={}),this.concurrency=null!==(e=t.concurrency)&&void 0!==e?e:function(){return up.network.config.concurrency},this.badResponseTime=null!==(n=t.badResponseTime)&&void 0!==n?n:function(){return up.network.config.badResponseTime},this.reset()}return e.prototype.reset=function(){this.queuedRequests=[],this.currentRequests=[],clearTimeout(this.checkSlowTimout),this.emittedSlow=!1},Object.defineProperty(e.prototype,"allRequests",{get:function(){return this.currentRequests.concat(this.queuedRequests)},enumerable:!1,configurable:!0}),e.prototype.asap=function(e){var n=this;e.runQueuedCallbacks(),t.always(e,(function(t){return n.onRequestSettled(e,t)})),e.queueTime=new Date,this.setSlowTimer(),this.hasConcurrencyLeft()?this.sendRequestNow(e):this.queueRequest(e)},e.prototype.promoteToForeground=function(t){if(t.preload)return t.preload=!1,this.setSlowTimer()},e.prototype.setSlowTimer=function(){var e=this,n=t.evalOption(this.badResponseTime);this.checkSlowTimout=t.timer(n,(function(){return e.checkSlow()}))},e.prototype.hasConcurrencyLeft=function(){var e=t.evalOption(this.concurrency);return-1===e||this.currentRequests.length<e},e.prototype.isBusy=function(){return this.currentRequests.length>0},e.prototype.queueRequest=function(t){this.queuedRequests.push(t)},e.prototype.pluckNextRequest=function(){var e=t.find(this.queuedRequests,(function(t){return!t.preload}));return e||(e=this.queuedRequests[0]),t.remove(this.queuedRequests,e)},e.prototype.sendRequestNow=function(t){t.emit("up:request:load",{log:["Loading %s %s",t.method,t.url]}).defaultPrevented?t.abort("Prevented by event listener"):(t.normalizeForCaching(),this.currentRequests.push(t),t.load())},e.prototype.onRequestSettled=function(e,n){var r=this;t.remove(this.currentRequests,e),n instanceof up.Response&&n.ok&&up.network.registerAliasForRedirect(e,n),this.checkSlow(),t.microtask((function(){return r.poke()}))},e.prototype.poke=function(){var t;if(this.hasConcurrencyLeft()&&(t=this.pluckNextRequest()))return this.sendRequestNow(t)},e.prototype.abort=function(e){void 0===e&&(e=!0);for(var n=up.Request.tester(e),r=function(e){t.filter(e,n).forEach((function(n){n.abort(),t.remove(e,n)}))},o=0,i=[this.currentRequests,this.queuedRequests];o<i.length;o++){r(i[o])}},e.prototype.abortExcept=function(e,n){void 0===n&&(n=!0);var r=e.cacheKey();this.abort((function(e){return e.cacheKey()!==r&&t.evalOption(n,e)}))},e.prototype.checkSlow=function(){var t=this.isSlow();this.emittedSlow!==t&&(this.emittedSlow=t,t?up.emit("up:request:late",{log:"Server is slow to respond"}):up.emit("up:request:recover",{log:"Slow requests were loaded"}))},e.prototype.isSlow=function(){var e=new Date,n=t.evalOption(this.badResponseTime),r=t.reject(this.allRequests,"preload");return t.some(r,(function(t){return e-t.queueTime>=n-1}))},e}()},function(){var t=up.util,e=up.element,n=["GET","POST"];up.Request.FormRenderer=function(){function r(t){this.request=t}return r.prototype.buildAndSubmit=function(){this.params=t.copy(this.request.params);var r=this.request.url,o=this.request.method,i=up.Params.fromURL(r);this.params.addAll(i),r=up.Params.stripURL(r),t.contains(n,o)||(o=up.protocol.wrapMethod(o,this.params)),this.form=e.affix(document.body,"form.up-request-loader",{method:o,action:r});var s,a,u=this.request.contentType;u&&this.form.setAttribute("enctype",u),(s=this.request.csrfParam())&&(a=this.request.csrfToken())&&this.params.add(s,a),t.each(this.params.toArray(),this.addField.bind(this)),up.browser.submitForm(this.form)},r.prototype.addField=function(t){e.affix(this.form,"input[type=hidden]",t)},r}()},function(){var t="multipart/form-data",e=up.util;up.Request.XHRRenderer=function(){function n(t){this.request=t}return n.prototype.buildAndSend=function(t){this.xhr=new XMLHttpRequest,this.params=e.copy(this.request.params),this.request.timeout&&(this.xhr.timeout=this.request.timeout),this.xhr.open(this.getMethod(),this.request.url);var n,r,o=this.request.metaProps();for(var i in o)this.addHeader(up.protocol.headerize(i),o[i]);for(var s in this.request.headers)this.addHeader(s,this.request.headers[s]);(n=this.request.csrfHeader())&&(r=this.request.csrfToken())&&this.addHeader(n,r),this.addHeader(up.protocol.headerize("version"),up.version);var a=this.getContentType();return a&&this.addHeader("Content-Type",a),e.assign(this.xhr,t),this.xhr.send(this.getPayload()),this.xhr},n.prototype.getMethod=function(){return this.method||(this.method=this.request.method,this.request.wrapMethod&&!this.request.will302RedirectWithGET()&&(this.method=up.protocol.wrapMethod(this.method,this.params))),this.method},n.prototype.getContentType=function(){return this.finalizePayload(),this.contentType},n.prototype.getPayload=function(){return this.finalizePayload(),this.payload},n.prototype.addHeader=function(t,n){(e.isOptions(n)||e.isArray(n))&&(n=JSON.stringify(n)),this.xhr.setRequestHeader(t,n)},n.prototype.finalizePayload=function(){this.payloadFinalized||(this.payloadFinalized=!0,this.payload=this.request.payload,this.contentType=this.request.contentType,!this.payload&&this.request.allowsPayload()&&(this.contentType||(this.contentType=this.params.hasBinaryValues()?t:"application/x-www-form-urlencoded"),this.contentType===t?(this.contentType=null,this.payload=this.params.toFormData()):this.payload=this.params.toQuery().replace(/%20/g,"+")))},n}()},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});up.Response=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.keys=function(){return["method","url","text","status","request","xhr","target","title","acceptLayer","dismissLayer","eventPlans","context","clearCache","headers"]},n.prototype.defaults=function(){return{headers:{}}},Object.defineProperty(n.prototype,"ok",{get:function(){return this.status&&this.status>=200&&this.status<=299},enumerable:!1,configurable:!0}),n.prototype.getHeader=function(t){var e;return this.headers[t]||(null===(e=this.xhr)||void 0===e?void 0:e.getResponseHeader(t))},Object.defineProperty(n.prototype,"contentType",{get:function(){return this.getHeader("Content-Type")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cspNonces",{get:function(){return up.protocol.cspNoncesFromHeader(this.getHeader("Content-Security-Policy"))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"json",{get:function(){return this.parsedJSON||(this.parsedJSON=JSON.parse(this.text))},enumerable:!1,configurable:!0}),n}(up.Record)},function(){var t=up.util,e=up.element;up.ResponseDoc=function(){function n(t){this.noscriptWrapper=new up.HTMLWrapper("noscript"),this.scriptWrapper=new up.HTMLWrapper("script"),this.root=this.parseDocument(t)||this.parseFragment(t)||this.parseContent(t),this.cspNonces=t.cspNonces}return n.prototype.parseDocument=function(t){return this.parse(t.document,e.createDocumentFromHTML)},n.prototype.parseContent=function(n){var r=n.content||"",o=n.target||up.fail("must pass a { target } when passing { content }"),i=e.createFromSelector(o);return t.isString(r)?(r=this.wrapHTML(r),i.innerHTML=r):i.appendChild(r),i},n.prototype.parseFragment=function(t){return this.parse(t.fragment)},n.prototype.parse=function(n,r){return void 0===r&&(r=e.createFromHTML),t.isString(n)&&(n=r(n=this.wrapHTML(n))),n},n.prototype.rootSelector=function(){return up.fragment.toTarget(this.root)},n.prototype.wrapHTML=function(t){return t=this.noscriptWrapper.wrap(t),t=up.fragment.config.runScripts?this.scriptWrapper.wrap(t):this.scriptWrapper.strip(t)},n.prototype.getTitle=function(){var t;return this.titleParsed||(this.title=null===(t=this.root.querySelector("head title"))||void 0===t?void 0:t.textContent,this.titleParsed=!0),this.title},n.prototype.select=function(t){return up.fragment.subtree(this.root,t,{layer:"any"})[0]},n.prototype.finalizeElement=function(t){this.noscriptWrapper.unwrap(t),up.NonceableCallback.adoptNonces(t,this.cspNonces),this.scriptWrapper.unwrap(t)},n}()},function(){var t=up.element,e=up.util;up.RevealMotion=function(){function n(e,n){var r,o,i,s,a,u,l,c;void 0===n&&(n={}),this.element=e,this.options=n;var p=up.viewport.config;this.viewport=t.get(this.options.viewport)||up.viewport.get(this.element),this.obstructionsLayer=up.layer.get(this.viewport),this.snap=null!==(o=null!==(r=this.options.snap)&&void 0!==r?r:this.options.revealSnap)&&void 0!==o?o:p.revealSnap,this.padding=null!==(s=null!==(i=this.options.padding)&&void 0!==i?i:this.options.revealPadding)&&void 0!==s?s:p.revealPadding,this.top=null!==(u=null!==(a=this.options.top)&&void 0!==a?a:this.options.revealTop)&&void 0!==u?u:p.revealTop,this.max=null!==(c=null!==(l=this.options.max)&&void 0!==l?l:this.options.revealMax)&&void 0!==c?c:p.revealMax,this.topObstructions=p.fixedTop,this.bottomObstructions=p.fixedBottom}return n.prototype.start=function(){var t=this.getViewportRect(this.viewport),n=up.Rect.fromElement(this.element);if(this.max){var r=e.evalOption(this.max,this.element);n.height=Math.min(n.height,r)}if(this.addPadding(n),this.substractObstructions(t),t.height<0)return up.error.failed.async("Viewport has no visible area");var o=this.viewport.scrollTop,i=o;this.top||n.height>t.height?i+=n.top-t.top:n.top<t.top?i-=t.top-n.top:n.bottom>t.bottom&&(i+=n.bottom-t.bottom);return e.isNumber(this.snap)&&i<this.snap&&n.top<.5*t.height&&(i=0),i!==o?this.scrollTo(i):Promise.resolve()},n.prototype.scrollTo=function(t){return this.scrollMotion=new up.ScrollMotion(this.viewport,t,this.options),this.scrollMotion.start()},n.prototype.getViewportRect=function(){return up.viewport.isRoot(this.viewport)?new up.Rect({left:0,top:0,width:up.viewport.rootWidth(),height:up.viewport.rootHeight()}):up.Rect.fromElement(this.viewport)},n.prototype.addPadding=function(t){t.top-=this.padding,t.height+=2*this.padding},n.prototype.selectObstructions=function(t){return up.fragment.all(t.join(","),{layer:this.obstructionsLayer})},n.prototype.substractObstructions=function(t){for(var e=0,n=this.selectObstructions(this.topObstructions);e<n.length;e++){var r=n[e];(s=(a=up.Rect.fromElement(r)).bottom-t.top)>0&&(t.top+=s,t.height-=s)}for(var o=0,i=this.selectObstructions(this.bottomObstructions);o<i.length;o++){r=i[o];var s,a=up.Rect.fromElement(r);(s=t.bottom-a.top)>0&&(t.height-=s)}},n.prototype.finish=function(){var t;null===(t=this.scrollMotion)||void 0===t||t.finish()},n}()},function(){var t=up.util;up.ScrollMotion=function(){function e(t,e,n){var r,o,i,s;void 0===n&&(n={}),this.scrollable=t,this.targetTop=e,this.behavior=null!==(o=null!==(r=n.behavior)&&void 0!==r?r:n.scrollBehavior)&&void 0!==o?o:"auto",this.speed=.065*(null!==(s=null!==(i=n.speed)&&void 0!==i?i:n.scrollSpeed)&&void 0!==s?s:up.viewport.config.scrollSpeed)}return e.prototype.start=function(){var t=this;return new Promise((function(e,n){t.resolve=e,t.reject=n,"smooth"===t.behavior&&up.motion.isEnabled()?t.startAnimation():t.finish()}))},e.prototype.startAnimation=function(){var t=this;this.startTime=Date.now(),this.startTop=this.scrollable.scrollTop,this.topDiff=this.targetTop-this.startTop,this.duration=Math.sqrt(Math.abs(this.topDiff))/this.speed,requestAnimationFrame((function(){return t.animationFrame()}))},e.prototype.animationFrame=function(){var e=this;if(!this.settled){this.frameTop&&Math.abs(this.frameTop-this.scrollable.scrollTop)>1.5&&this.abort("Animation aborted due to user intervention");var n=Date.now()-this.startTime,r=Math.min(n/this.duration,1);this.frameTop=this.startTop+t.simpleEase(r)*this.topDiff,Math.abs(this.targetTop-this.frameTop)<.3?this.finish():(this.scrollable.scrollTop=this.frameTop,requestAnimationFrame((function(){return e.animationFrame()})))}},e.prototype.abort=function(t){this.settled=!0,this.reject(up.error.aborted(t))},e.prototype.finish=function(){this.settled=!0,this.scrollable.scrollTop=this.targetTop,this.resolve()},e}()},function(){var t=up.element,e=up.util;up.Selector=function(){function n(t,e){void 0===e&&(e=[]),this.selectors=t,this.filters=e,this.unionSelector=this.selectors.join(",")||"match-none"}return n.prototype.matches=function(e){return t.matches(e,this.unionSelector)&&this.passesFilter(e)},n.prototype.closest=function(t){var e;return this.matches(t)?t:(e=t.parentElement)?this.closest(e):void 0},n.prototype.passesFilter=function(t){return e.every(this.filters,(function(e){return e(t)}))},n.prototype.descendants=function(n){var r=this,o=e.flatMap(this.selectors,(function(e){return t.all(n,e)}));return e.filter(o,(function(t){return r.passesFilter(t)}))},n.prototype.subtree=function(t){var e=[];return this.matches(t)&&e.push(t),e.push.apply(e,this.descendants(t)),e},n}()},function(){var t=up.util;up.store||(up.store={}),up.store.Memory=function(){function e(){this.data={}}return e.prototype.clear=function(){this.data={}},e.prototype.get=function(t){return this.data[t]},e.prototype.set=function(t,e){this.data[t]=e},e.prototype.remove=function(t){delete this.data[t]},e.prototype.keys=function(){return Object.keys(this.data)},e.prototype.size=function(){return this.keys().length},e.prototype.values=function(){return t.values(this.data)},e}()},function(){var t,e=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});up.store.Session=function(t){function n(e){var n=t.call(this)||this;return n.rootKey=e,n.loadFromSessionStorage(),n}return e(n,t),n.prototype.clear=function(){t.prototype.clear.call(this),this.saveToSessionStorage()},n.prototype.set=function(e,n){t.prototype.set.call(this,e,n),this.saveToSessionStorage()},n.prototype.remove=function(e){t.prototype.remove.call(this,e),this.saveToSessionStorage()},n.prototype.loadFromSessionStorage=function(){try{var t=null===sessionStorage||void 0===sessionStorage?void 0:sessionStorage.getItem(this.rootKey);t&&(this.data=JSON.parse(t))}catch(t){}},n.prototype.saveToSessionStorage=function(){var t=JSON.stringify(this.data);try{return null===sessionStorage||void 0===sessionStorage?void 0:sessionStorage.setItem(this.rootKey,t)}catch(t){}},n}(up.store.Memory)},function(){var t=up.util,e=up.element;up.Tether=function(){function n(t){var n,r;null===(r=(n=up.migrate).handleTetherOptions)||void 0===r||r.call(n,t),this.anchor=t.anchor,this.align=t.align,this.position=t.position,this.alignAxis="top"===this.position||"bottom"===this.position?"horizontal":"vertical",this.viewport=up.viewport.get(this.anchor),this.parent=this.viewport===e.root?document.body:this.viewport,this.syncOnScroll=!this.viewport.contains(this.anchor.offsetParent)}return n.prototype.start=function(t){this.element=t,this.element.style.position="absolute",this.setOffset(0,0),this.sync(),this.changeEventSubscription("on")},n.prototype.stop=function(){this.changeEventSubscription("off")},n.prototype.changeEventSubscription=function(t){var e=this.scheduleSync.bind(this);up[t](window,"resize",e),this.syncOnScroll&&up[t](this.viewport,"scroll",e)},n.prototype.scheduleSync=function(){return clearTimeout(this.syncTimer),this.syncTimer=t.task(this.sync.bind(this))},n.prototype.isDetached=function(){return e.isDetached(this.parent)||e.isDetached(this.anchor)},n.prototype.sync=function(){var n,r,o=this.element.getBoundingClientRect(),i=e.styleNumber(this.element,"marginTop"),s=e.styleNumber(this.element,"marginRight"),a=e.styleNumber(this.element,"marginBottom"),u=e.styleNumber(this.element,"marginLeft"),l=this.anchor.getBoundingClientRect();switch(this.alignAxis){case"horizontal":switch(this.position){case"top":r=l.top-a-o.height;break;case"bottom":r=l.top+l.height+i}switch(this.align){case"left":n=l.left+u;break;case"center":n=l.left+.5*(l.width-o.width);break;case"right":n=l.left+l.width-o.width-s}break;case"vertical":switch(this.align){case"top":r=l.top+i;break;case"center":r=l.top+.5*(l.height-o.height);break;case"bottom":r=l.top+l.height-o.height-a}switch(this.position){case"left":n=l.left-s-o.width;break;case"right":n=l.left+l.width+u}}t.isDefined(n)||t.isDefined(r)?this.moveTo(n,r):up.fail("Invalid tether constraints: %o",this.describeConstraints())},n.prototype.describeConstraints=function(){return{position:this.position,align:this.align}},n.prototype.moveTo=function(t,e){var n=this.element.getBoundingClientRect();this.setOffset(t-n.left+this.offsetLeft,e-n.top+this.offsetTop)},n.prototype.setOffset=function(t,n){this.offsetLeft=t,this.offsetTop=n,e.setStyle(this.element,{left:t,top:n})},n}()},function(){var t=up.util;up.URLPattern=function(){function e(e,n){void 0===n&&(n=t.normalizeURL),this.normalizeURL=n,this.groups=[];for(var r=[],o=[],i=0,s=t.splitValues(e);i<s.length;i++){var a=s[i];"-"===a[0]?o.push(a.substring(1)):r.push(a)}this.positiveRegexp=this.buildRegexp(r,!0),this.negativeRegexp=this.buildRegexp(o,!1)}return e.prototype.buildRegexp=function(e,n){var r=this;if(e.length){var o=(e=e.map((function(e){return"*"===e[0]&&(e="/"+e),e=r.normalizeURL(e),e=t.escapeRegExp(e)}))).join("|");return o=(o=o.replace(/\\\*/g,".*?")).replace(/(:|\\\$)([a-z][\w-]*)/gi,(function(t,e,o){return"\\$"===e?(n&&r.groups.push({name:o,cast:Number}),"(\\d+)"):(n&&r.groups.push({name:o,cast:String}),"([^/?#]+)")})),new RegExp("^(?:"+o+")$")}},e.prototype.test=function(t,e){return void 0===e&&(e=!0),e&&(t=this.normalizeURL(t)),this.positiveRegexp.test(t)&&!this.isExcluded(t)},e.prototype.recognize=function(t,e){void 0===e&&(e=!0),e&&(t=this.normalizeURL(t));var n=this.positiveRegexp.exec(t);if(n&&!this.isExcluded(t)){var r={};return this.groups.forEach((function(t,e){var o=n[e+1];if(o)return r[t.name]=t.cast(o)})),r}},e.prototype.isExcluded=function(t){var e;return null===(e=this.negativeRegexp)||void 0===e?void 0:e.test(t)},e}()},function(){up.framework=function(){var t="evaling";function e(){if("configuring"===t){var e=up.framework.supportIssue();e?console.error("Unpoly cannot boot: %s",e):(t="booting",up.emit("up:framework:boot",{log:!1}),t="booted")}else console.error("Unpoly has already booted")}function n(){return up.browser.canPromise()?"BackCompat"===document.compatMode?"Browser is in quirks mode (missing DOCTYPE?)":up.browser.isEdge18()?"Edge 18 or lower is unsupported":void 0:"Browser doesn't support promises"}return{onEvaled:function(){var n;up.emit("up:framework:evaled",{log:!1}),(null==(n=document.currentScript)?void 0:n.async)||"manual"===(null==n?void 0:n.getAttribute("up-boot"))||"complete"===document.readyState?console.debug("Call up.boot() after you have configured Unpoly"):document.addEventListener("DOMContentLoaded",e),t="configuring"},boot:e,startExtension:function(){if("configuring"!==t)throw new Error("Unpoly extensions must be loaded before booting");t="evaling"},stopExtension:function(){t="configuring"},reset:function(){up.emit("up:framework:reset",{log:!1})},get evaling(){return"evaling"===t},get booted(){return"booted"===t},get beforeBoot(){return"booting"!==t&&"booted"!==t},isSupported:function(){return!n()},supportIssue:n}}(),up.boot=up.framework.boot},function(){up.event=function(){var t=up.util,e=up.element;function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(t).bind()}function r(t,e){return up.EventListenerGroup.fromBindArgs(t,e)}function o(t){return up.EventEmitter.fromEmitArgs(t)}var i=["metaKey","shiftKey","ctrlKey","altKey"];function s(e){return(t.isUndefined(e.button)||0===e.button)&&!t.some(i,(function(t){return e[t]}))}function a(e,n,r){void 0===r&&(r=[]);var o=up.event.build(n,t.pick(e,r));return o.originalEvent=e,["stopPropagation","stopImmediatePropagation","preventDefault"].forEach((function(t){var n=o[t];return o[t]=function(){return e[t](),n.call(o)}})),e.defaultPrevented&&o.preventDefault(),o}return n("up:click","a[up-emit]",(function(n,r){if(s(n)){var o=e.attr(r,"up-emit"),i=e.jsonAttr(r,"up-emit-props"),u=a(n,o);t.assign(u,i),up.emit(r,u)}})),n("up:framework:reset",(function(){for(var t=0,n=[window,document,e.root,document.body];t<n.length;t++)for(var r=n[t],o=0,i=up.EventListener.allNonDefault(r);o<i.length;o++){i[o].unbind()}})),{on:n,$on:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(t,{jQuery:!0}).bind()},off:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(t).unbind()},build:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.extractOptions(e),o=e[0]||r.type||up.fail("Expected event type to be passed as string argument or { type } property"),i=document.createEvent("Event");if(i.initEvent(o,!0,!0),t.assign(i,t.omit(r,["type","target"])),up.browser.isIE11()){var s=i.preventDefault;i.preventDefault=function(){return s.call(i),t.getter(i,"defaultPrevented",(function(){return!0}))}}return i},emit:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t).emit()},assertEmitted:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t).assertEmitted()},onEscape:function(t){return n("keydown",(function(e){if(function(t){var e=t.key;return"Escape"===e||"Esc"===e}(e))return t(e)}))},halt:function(t){t.stopImmediatePropagation(),t.preventDefault()},isUnmodified:s,fork:a,keyModifiers:i}}(),up.on=up.event.on,up.$on=up.event.$on,up.off=up.event.off,up.$off=up.event.off,up.emit=up.event.emit},function(){up.protocol=function(){var t=up.util,e=up.element,n=function(t){return"X-Up"+t.replace(/(^.|[A-Z])/g,(function(t){return"-"+t.toUpperCase()}))},r=function(e,r,o){void 0===o&&(o=t.identity);var i=e.getResponseHeader(n(r));if(i)return o(i)};function o(t){switch(t){case"true":return!0;case"false":return!1;default:return t}}var i=t.memoize((function(){return t.normalizeMethod(up.browser.popCookie("_up_method"))}));var s=new up.Config((function(){return{methodParam:"_method",csrfParam:function(){return e.metaContent("csrf-param")},csrfToken:function(){return e.metaContent("csrf-token")},cspNonce:function(){return e.metaContent("csp-nonce")},csrfHeader:"X-CSRF-Token",nonceableAttributes:["up-observe","up-on-accepted","up-on-dismissed","up-on-loaded","up-on-finished","up-observe"]}}));function a(){s.reset()}return up.on("up:framework:reset",a),{config:s,reset:a,locationFromXHR:function(t){return r(t,"location")||t.responseURL},titleFromXHR:function(t){return r(t,"title")},targetFromXHR:function(t){return r(t,"target")},methodFromXHR:function(e){return r(e,"method",t.normalizeMethod)},acceptLayerFromXHR:function(t){return r(t,"acceptLayer",JSON.parse)},contextFromXHR:function(t){return r(t,"context",JSON.parse)},dismissLayerFromXHR:function(t){return r(t,"dismissLayer",JSON.parse)},eventPlansFromXHR:function(t){return r(t,"events",JSON.parse)},clearCacheFromXHR:function(t){return r(t,"clearCache",o)},csrfHeader:function(){return t.evalOption(s.csrfHeader)},csrfParam:function(){return t.evalOption(s.csrfParam)},csrfToken:function(){return t.evalOption(s.csrfToken)},cspNonce:function(){return t.evalOption(s.cspNonce)},initialRequestMethod:i,headerize:n,wrapMethod:function(t,e){return e.add(s.methodParam,t),"POST"},cspNoncesFromHeader:function(t){var e=[];if(t)for(var n=0,r=t.split(/\s*;\s*/);n<r.length;n++){var o=r[n];if(0===o.indexOf("script-src"))for(var i=/'nonce-([^']+)'/g,s=void 0;s=i.exec(o);)e.push(s[1])}return e}}}()},function(){var t=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};up.log=function(){var e=new up.store.Session("up.log"),n=new up.Config((function(){return{enabled:e.get("enabled"),banner:!0,format:up.browser.canFormatLog()}}));var r=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return o.apply(void 0,t(["error"],e,!1))};function o(e,r,o){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];o&&(n.format?(i.unshift(""),i.unshift("color: #666666; padding: 1px 3px; border: 1px solid #bbbbbb; border-radius: 2px; font-size: 90%; display: inline-block"),o="%c".concat(r,"%c ").concat(o)):o="[".concat(r,"] ").concat(o),console[e].apply(console,t([o],i,!1)))}function i(t){e.set("enabled",t),n.enabled=t}return up.on("up:framework:boot",(function(){if(n.banner){var t=" __ _____  ___  ___  / /_ __\n"+"/ // / _ \\/ _ \\/ _ \\/ / // /  ".concat(up.version,"\n")+"\\___/_//_/ .__/\\___/_/\\_. / \n        / /            / /\n\n",e="";up.migrate.loaded||(e+="Load unpoly-migrate.js to enable deprecated APIs.\n\n"),n.enabled?e+="Call `up.log.disable()` to disable logging for this session.":e+="Call `up.log.enable()` to enable logging for this session.";var r="color: #777777";n.format?console.log("%c"+t+"%c"+e,"font-family: monospace;"+r,r):console.log(t+e)}})),up.on("up:framework:reset",(function(){n.reset()})),{puts:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];n.enabled&&o.apply(void 0,t(["log"],e,!1))},error:r,warn:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return o.apply(void 0,t(["warn"],e,!1))},config:n,enable:function(){i(!0)},disable:function(){i(!1)},fail:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];throw r.apply(void 0,t(["error"],e,!1)),up.error.failed(e)},muteUncriticalRejection:function(t){return t.catch((function(t){if(!("object"==typeof t&&("AbortError"===t.name||t instanceof up.RenderResult||t instanceof up.Response)))throw t}))},isEnabled:function(){return n.enabled}}}(),up.puts=up.log.puts,up.warn=up.log.warn,up.fail=up.log.fail},function(){up.syntax=function(){var t=up.util,e=up.element,n={"[up-back]":-100,"[up-content]":-200,"[up-drawer]":-200,"[up-modal]":-200,"[up-cover]":-200,"[up-popup]":-200,"[up-tooltip]":-200,"[up-dash]":-200,"[up-expand]":-300,"[data-method]":-400,"[data-confirm]":-400},r=[],o=[];function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=u(t);return l(r,n)}function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=u(t);return up.framework.evaling&&(n.priority=a(n.selector)||up.fail("Unregistered priority for system macro %o",n.selector)),l(o,n)}function a(e){for(var r in e=t.evalOption(e),n){var o=n[r];if(e.indexOf(r)>=0)return o}}function u(e){var n=function(e){var n=e.shift(),r=e.pop();return[n,t.extractOptions(e),r]}(e),r=n[0],o=n[1],i=n[2];return o=t.options(o,{selector:r,isDefault:up.framework.evaling,priority:0,batch:!1,keep:!1,jQuery:!1}),t.assign(i,o)}function l(t,e){var n;up.framework.booted&&up.puts("up.compiler()","Compiler %s was registered after booting Unpoly. Compiler will run for future fragments.",e.selector);for(var r=0;(n=t[r])&&n.priority>=e.priority;)r+=1;return t.splice(r,0,e),e}return up.on("up:framework:reset",(function(){r=t.filter(r,"isDefault"),o=t.filter(o,"isDefault")})),{compiler:i,macro:s,$compiler:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=i.apply(void 0,t);n.jQuery=!0},$macro:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=s.apply(void 0,t);return n.jQuery=!0,n},destructor:function(e,n){var r=e.upDestructors;r||(r=[],e.upDestructors=r,e.classList.add("up-can-clean")),t.isArray(n)?r.push.apply(r,n):r.push(n)},compile:function(t,e){var n=o.concat(r);new up.CompilerPass(t,n,e).run()},clean:function(t,e){void 0===e&&(e={}),new up.DestructorPass(t,e).run()},data:function(t){return t=up.fragment.get(t),e.jsonAttr(t,"up-data")||{}}}}(),up.compiler=up.syntax.compiler,up.$compiler=up.syntax.$compiler,up.destructor=up.syntax.destructor,up.macro=up.syntax.macro,up.$macro=up.syntax.$macro,up.data=up.syntax.data},function(){var t=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},e=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};up.history=function(){var n,r,o=up.util,i=up.element,s=new up.Config((function(){return{enabled:!0,restoreTargets:["body"]}}));var a={hash:!0};function u(t,e){return e=o.merge(a,e),o.normalizeURL(t,e)}function l(t){return u(location.href,t)}function c(){var t=l();r!==t&&(n=r,r=t)}c();var p={trailingSlash:!1};function f(t,e){return u(t,e=o.merge(p,e))===l(e)}function h(t,e){void 0===e&&(e={}),d("replaceState",t=u(t))&&!1!==e.event&&v("up:location:changed",{url:t,reason:"replace",log:"Replaced state for ".concat(t)})}function d(t,e){if(s.enabled){var n={up:{}};return window.history[t](n,"",e),c(),!0}}function m(r){c(),up.viewport.saveScroll({location:n}),function(n){t(this,void 0,void 0,(function(){var t;return e(this,(function(e){switch(e.label){case 0:return(null==n?void 0:n.up)?(t=l(),[4,up.render({url:t,history:!0,location:t,peel:!0,layer:"root",target:s.restoreTargets,cache:!0,scroll:"restore",saveScroll:!1})]):[3,2];case 1:return e.sent(),v("up:location:changed",{url:t=l(),reason:"pop",log:"Restored location ".concat(t)}),[3,3];case 2:up.puts("pop","Ignoring a state not pushed by Unpoly (%o)",n),e.label=3;case 3:return[2]}}))}))}(r.state)}function v(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=o.find(up.layer.stack.reversed(),"history");return n.emit.apply(n,t)}function g(){window.history.scrollRestoration="manual",window.addEventListener("popstate",m),"GET"===up.protocol.initialRequestMethod()&&h(l(),{event:!1})}return up.on("up:framework:boot",(function(){"jasmine"in window?g():setTimeout(g,100)})),up.macro("a[up-back], [up-href][up-back]",(function(t){n&&(i.setMissingAttrs(t,{"up-href":n,"up-scroll":"restore"}),t.removeAttribute("up-back"),up.link.makeFollowable(t))})),up.on("up:framework:reset",(function(){s.reset(),n=void 0,r=void 0,c()})),{config:s,push:function(t){!f(t=u(t))&&d("pushState",t)&&up.emit("up:location:changed",{url:t,reason:"push",log:"Advanced to location ".concat(t)})},replace:h,get location(){return l()},get previousLocation(){return n},normalizeURL:u,isLocation:f}}()},function(t,e,n){var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)};n(77);var o=up.util,i=up.element;up.fragment=function(){var t=new up.Config((function(){return{badTargetClasses:[/^up-/],navigateOptions:{solo:!0,feedback:!0,cache:"auto",fallback:!0,focus:"auto",scroll:"auto",history:"auto",peel:!0},matchAroundOrigin:!0,runScripts:!1,autoHistoryTargets:[":main"],autoFocus:["hash","autofocus","main-if-main","target-if-lost"],autoScroll:["hash","layer-if-main"]}}));function e(t,e){return void 0===e&&(e={}),t=m(t,e),i.closestAttr(t,"up-source")}function n(t){return i.closestAttr(t,"up-time")||"0"}o.delegate(t,"mainTargets",(function(){return up.layer.config.any}));var s=up.mockable((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.asyncify((function(){var e=E(t);e=up.RenderOptions.preprocess(e),up.browser.assertConfirmed(e);var n=o.pluckKey(e,"guardEvent");return n&&(n.renderOptions=e,up.event.assertEmitted(n,{target:e.origin})),up.RenderOptions.assertContentGiven(e),(e.url?a:u)(e)}))}));function a(t){return up.feedback.aroundForOptions(t,(function(){return new up.Change.FromURL(t).execute()}))}function u(t){return up.network.mimicLocalRequest(t),new up.Change.FromContent(t).execute()}var l=up.mockable((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=E(t);return s(r(r({},n),{navigate:!0}))}));function c(t,e){void 0===e&&(e={}),t=m(t);var n=(e.keepPlans||[]).map((function(t){return f(t),t.oldElement}));return up.syntax.compile(t,{skip:n,layer:e.layer}),p(t,e),t}function p(t,e){return up.emit(t,"up:fragment:inserted",{log:["Inserted fragment %o",t],origin:e.origin})}function f(t){return h(t,"up:fragment:kept",{log:["Kept fragment %o",t.oldElement]})}function h(t,e,n){var r=t.oldElement,o=up.event.build(e,{newFragment:t.newElement,newData:t.newData});return up.emit(r,o,n)}var d=o.negate((function(t){return!!i.closest(t,".up-destroying")}));function m(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=o.extractOptions(t),r=t.pop(),s=t[0];return o.isElementish(r)?i.get(r):s?v(s,r,n):new up.FragmentFinder({selector:r,origin:n.origin,layer:n.layer}).find()}function v(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return y.apply(void 0,t)[0]}var g=/:has\(([^)]+)\)$/;function y(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=o.extractOptions(t),r=t.pop(),i=t[0];return(r=O(r,i,n)).descendants(i||document)}function b(t,e,n){return void 0===n&&(n={}),(e=O(e,t,n)).subtree(t)}function w(t,e){return b(t,e).length>0}function E(t){var e=o.parseArgIntoOptions(t,"target");return o.isElement(e.target)&&(e.origin||(e.origin=e.target)),e}function S(t){if(o.isString(t))return t;var e;if(t=i.get(t),i.isSingleton(t))return i.tagName(t);if(e=t.getAttribute("up-id"))return i.attributeSelector("up-id",e);if(e=t.getAttribute("id"))return i.idSelector(e);if(e=t.getAttribute("name"))return i.tagName(t)+i.attributeSelector("name",e);if(e=o.presence(o.filter(t.classList,x))){for(var n="",r=0,s=e;r<s.length;r++){var a=s[r];n+=i.classSelector(a)}return n}return i.tagName(t)}function x(e){return!o.some(t.badTargetClasses,(function(t){return o.isRegExp(t)?t.test(e):t===e}))}function C(t,e){void 0===e&&(e={});var n=e.origin;return t.replace(/&|:origin\b/,(function(e){if(n)return S(n);up.fail('Missing { origin } element to resolve "%s" reference (found in %s)',e,t)}))}function O(t,e,n){void 0===n&&(n={});var s=[];n.destroying||s.push(d),n.layer||(n.layer=e);var a=up.layer.getAll(n);"any"===n.layer||e&&i.isDetached(e)||s.push((function(t){return o.some(a,(function(e){return e.contains(t)}))}));var u=up.fragment.expandTargets(t,r(r({},n),{layer:a[0]}));return u=u.map((function(t){return t=t.replace(g,(function(t,e){return s.push((function(t){return t.querySelector(e)})),""})),t||"*"})),new up.Selector(u,s)}return up.on("up:framework:boot",(function(){var t=document.body;if(t.setAttribute("up-source",o.normalizeURL(location.href,{hash:!1})),c(t),!up.browser.canPushState())return up.warn("Cannot push history changes. Next fragment update will load in a new page.")})),up.on("up:framework:reset",(function(){t.reset()})),{config:t,reload:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=E(t);o.target||(o.target=":main");var i=m(o.target,o);return o.url||(o.url=e(i)),o.headers||(o.headers={}),o.headers[up.protocol.headerize("reloadFromTime")]=n(i),s(o)},destroy:function(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=E(n);return(o.element=m(o.target,o))&&new up.Change.DestroyFragment(o).execute(),null===(e=(t=up.migrate).formerlyAsync)||void 0===e?void 0:e.call(t,"up.destroy()")},render:s,navigate:l,get:m,getDumb:v,all:y,subtree:b,contains:w,closest:function(t,e,n){return(e=O(e,t=i.get(t),n)).closest(t)},source:e,hello:c,visit:function(t,e){return l(r(r({},e),{url:t}))},markAsDestroying:function(t){t.classList.add("up-destroying"),t.setAttribute("aria-hidden","true")},emitInserted:p,emitDestroyed:function(t,e){var n,r=null!==(n=e.log)&&void 0!==n?n:["Destroyed fragment %o",t],o=e.parent||document;return up.emit(o,"up:fragment:destroyed",{fragment:t,parent:o,log:r})},emitKeep:function(t){return h(t,"up:fragment:keep",{log:["Keeping fragment %o",t.oldElement],callback:i.callbackAttr(t.oldElement,"up-on-keep",["newFragment","newData"])})},emitKept:f,successKey:function(t){return o.unprefixCamelCase(t,"fail")},failKey:function(t){if(!t.match(/^fail[A-Z]/))return o.prefixCamelCase(t,"fail")},expandTargets:function(t,e){void 0===e&&(e={});var n=e.layer;"new"===n||n instanceof up.Layer||up.fail("Must pass an up.Layer as { layer } option, but got %o",n),t=o.copy(o.wrapList(t));for(var r=[];t.length;){var i=t.shift();if(":main"===i||!0===i){var s="new"===n?e.mode:n.mode;t.unshift.apply(t,up.layer.mainTargets(s))}else":layer"===i?"new"===n||n.opening||t.unshift(n.getFirstSwappableElement()):o.isElementish(i)?r.push(S(i)):o.isString(i)&&r.push(C(i,e))}return o.uniq(r)},toTarget:S,matches:function(t,e,n){return void 0===n&&(n={}),(e=O(e,t=i.get(t),n)).matches(t)},hasAutoHistory:function(e){return!!w(e,t.autoHistoryTargets)||(up.puts("up.render()","Will not auto-update history because fragment doesn't contain a selector from up.fragment.config.autoHistoryTargets"),!1)}}}(),up.reload=up.fragment.reload,up.destroy=up.fragment.destroy,up.render=up.fragment.render,up.navigate=up.fragment.navigate,up.hello=up.fragment.hello,up.visit=up.fragment.visit,o.delegate(up,"context",(function(){return up.layer.current}))},function(){},function(t,e,n){var r=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};n(79),up.viewport=function(){var t=up.util,e=up.element,n=up.fragment,o=new up.Config((function(){return{viewportSelectors:["[up-viewport]","[up-fixed]"],fixedTop:["[up-fixed~=top]"],fixedBottom:["[up-fixed~=bottom]"],anchoredRight:["[up-anchored~=right]","[up-fixed~=top]","[up-fixed~=bottom]","[up-fixed~=right]"],revealSnap:200,revealPadding:0,revealTop:!1,revealMax:function(){return.5*window.innerHeight},scrollSpeed:1}})),i=new up.MotionController("scrolling");function s(t,e,r){void 0===r&&(r={}),t=n.get(t,r);var o=new up.ScrollMotion(t,e,r);i.startMotion(t,o,r)}function a(e,r){if(r=t.options(r),e=n.get(e,r),!(r.layer=up.layer.get(e)))return up.error.failed.async("Cannot reveal a detached element");r.peel&&r.layer.peel();var o=new up.RevealMotion(e,r);return i.startMotion(e,o,r)}function u(t,e){if(void 0===e&&(e={}),up.browser.isIE11()){var n=p(t),r=n.scrollTop;t.focus(),n.scrollTop=r}else t.focus({preventScroll:!0});if(!e.preventScroll)return a(t)}function l(t,e){void 0===t&&(t=location.hash);var n=S(t,e);if(n)return up.reveal(n,{top:!0})}function c(){return r([d()],o.viewportSelectors,!0).join(",")}function p(t,r){void 0===r&&(r={});var o=n.get(t,r);return e.closest(o,c())}function f(t,r){return void 0===r&&(r={}),t=n.get(t,r),e.around(t,c())}function h(t){return void 0===t&&(t={}),n.all(c(),t)}function d(){var t;return(t=document.scrollingElement)?t.tagName:"html"}function m(){return document.querySelector(d())}function v(t){var n=e.style(t,"overflow-y");return"auto"===n||"scroll"===n}var g=t.memoize((function(){var t=up.element.affix(document.body,"[up-viewport]",{style:{position:"absolute",top:"0",left:"0",width:"100px",height:"100px",overflowY:"scroll"}}),e=t.offsetWidth-t.clientWidth;return up.element.remove(t),e}));function y(t){return up.fragment.toTarget(t)}function b(e){return t.mapObject(e,(function(t){return[y(t),t.scrollTop]}))}function w(e){var n=t.copy(t.extractOptions(e));return n.layer=up.layer.get(n),[e[0]?[p(e[0],n)]:n.around?f(n.around,n):h(n),n]}function E(e,n){var r=t.map(e,(function(t){var e=y(t);return s(t,n[e]||0,{duration:0})}));return Promise.all(r)}function S(t,r){if(void 0===r&&(r={}),t=null==(i=t)?void 0:i.replace(/^#/,"")){var o=[e.attributeSelector("id",t),"a"+e.attributeSelector("name",t)].join(",");return n.get(o,r)}var i}var x=!1;return up.on("scroll",{once:!0,beforeBoot:!0},(function(){return x=!0})),up.on("up:framework:boot",(function(){t.task((function(){if(!x)return l()}))})),up.on(window,"hashchange",(function(){return l()})),up.on("up:framework:reset",(function(){o.reset(),i.reset()})),{reveal:a,revealHash:l,firstHashTarget:S,scroll:s,config:o,get:p,subtree:function(t,r){return void 0===r&&(r={}),t=n.get(t,r),e.subtree(t,c())},around:f,all:h,rootSelector:d,get root(){return m()},rootWidth:function(){return e.root.clientWidth},rootHeight:function(){return e.root.clientHeight},rootHasReducedWidthFromScrollbar:function(){return window.innerWidth>document.documentElement.offsetWidth},rootOverflowElement:function(){var e=document.body,n=document.documentElement;return t.find([n,e],v)||m()},isRoot:function(t){return e.matches(t,d())},scrollbarWidth:g,saveScroll:function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=w(e),o=r[0],i=r[1],s=i.location||i.layer.location;if(s){var a=null!==(t=i.tops)&&void 0!==t?t:b(o);i.layer.lastScrollTops.set(s,a)}},restoreScroll:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=w(t),r=n[0],o=n[1],i=o.layer.location,s=o.layer.lastScrollTops.get(i)||{};return up.puts("up.viewport.restoreScroll()","Restoring scroll positions for URL %s to %o",i,s),E(r,s)},resetScroll:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=w(t),r=n[0];return n[1],E(r,{})},anchoredRight:function(){var t=o.anchoredRight.join(",");return n.all(t,{layer:"root"})},absolutize:function(n,r){var i;void 0===r&&(r={});var s=p(n).getBoundingClientRect(),a=n.getBoundingClientRect(),u=new up.Rect({left:a.left-s.left,top:a.top-s.top,width:a.width,height:a.height});null===(i=r.afterMeasure)||void 0===i||i.call(r),e.setStyle(n,{position:"static"===n.style.position?"static":"relative",top:"auto",right:"auto",bottom:"auto",left:"auto",width:"100%",height:"100%"});var l=e.createFromSelector("up-bounds");e.insertBefore(n,l),l.appendChild(n);var c=function(t,n){return u.left+=t,u.top+=n,e.setStyle(l,u)};c(0,0);var f=n.getBoundingClientRect();return c(a.left-f.left,a.top-f.top),t.each(function(t){void 0===t&&(t=document);var e=["[up-fixed]"].concat(o.fixedTop).concat(o.fixedBottom);return t.querySelectorAll(e.join(","))}(n),e.fixedToAbsolute),{bounds:l,moveBounds:c}},focus:u,tryFocus:function(t,e){return u(t,e),t===document.activeElement},makeFocusable:function(t){t.hasAttribute("tabindex")||function(t){return e.matches(t,"a[href], button, textarea, input, select")}(t)||(t.setAttribute("tabindex","-1"),t.classList.add("up-focusable-content"))}}}(),up.focus=up.viewport.focus,up.scroll=up.viewport.scroll,up.reveal=up.viewport.reveal},function(){},function(){var t=this&&this.__assign||function(){return t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},t.apply(this,arguments)},e=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};up.motion=function(){var r=up.util,o=up.element,i={},s={},a=new up.MotionController("motion"),u=new up.Config((function(){return{duration:175,easing:"ease",enabled:!matchMedia("(prefers-reduced-motion: reduce)").matches}}));function l(t){return r.pickBy(t,(function(t){return t.isDefault}))}function c(){return u.enabled}function p(t,e,n){return h(n),c()&&!w(e)&&n.duration>0&&!o.isSingleton(t)}function f(e,n,r){return r=t(t({},r),{finishEvent:a.finishEvent}),new up.CSSTransition(e,n,r).start()}function h(t){t.easing||(t.easing=u.easing),t.duration||(t.duration=u.duration)}function d(t){if(!w(t)){if(r.isFunction(t))return t;if(r.isArray(t))return m.apply(void 0,t);if(!r.isString(t))return up.fail("Unknown transition %o",t);var e=void 0;return t.indexOf("/")>=0?m.apply(void 0,t.split("/")):(e=s[t])?d(e):void 0}}function m(t,e){if(!w(t)&&!w(e)){var n=v(t)||r.asyncNoop,o=v(e)||r.asyncNoop;return function(t,e,r){return Promise.all([n(t,r),o(e,r)])}}}function v(t){return w(t)?void 0:r.isFunction(t)?t:r.isString(t)?i[e=t]||up.fail("Unknown animation %o",e):r.isOptions(t)?function(e,n){return f(e,t,n)}:up.fail("Unknown animation %o",t);var e}var g=up.mockable((function(t,e){o.replace(t,e)}));function y(t,e){var n=d(e);n.isDefault=up.framework.evaling,s[t]=n}function b(t,e){var n=v(e);n.isDefault=up.framework.evaling,i[t]=n}function w(t){return!t||"none"===t}function E(t,e,n){b(t,(function(t,r){return t.style.opacity=0,o.setStyle(t,{opacity:e}),f(t,{opacity:n},r)}))}function S(t,e){return{transform:"translate(".concat(t,"px, ").concat(e,"px)")}}function x(t){return o.setStyle(t,S(0,0)),t.getBoundingClientRect()}function C(t,e){var n="move-to-".concat(t),r="move-from-".concat(t);b(n,(function(t,n){var r=x(t);return f(t,e(r),n)})),b(r,(function(t,n){var r=x(t),i=e(r);return o.setStyle(t,i),f(t,S(0,0),n)}))}return up.on("up:framework:boot",(function(){c()||up.puts("up.motion","Animations are disabled")})),E("fade-in",0,1),E("fade-out",1,0),C("top",(function(t){return S(0,-(t.top+t.height))})),C("bottom",(function(t){return S(0,up.viewport.rootHeight()-t.top)})),C("left",(function(t){return S(-(t.left+t.width),0)})),C("right",(function(t){return S(up.viewport.rootWidth()-t.left,0)})),y("cross-fade",["fade-out","fade-in"]),y("move-left",["move-to-left","move-from-right"]),y("move-right",["move-to-right","move-from-left"]),y("move-up",["move-to-top","move-from-bottom"]),y("move-down",["move-to-bottom","move-from-top"]),up.on("up:framework:reset",(function(){a.reset(),i=l(i),s=l(s),u.reset()})),{morph:function(t,i,s,u){h(u=r.options(u)),t=up.fragment.get(t),i=up.fragment.get(i);var l=d(s),c=p(t,l,u),f=r.pluckKey(u,"beforeStart")||r.noop,m=r.pluckKey(u,"afterInsert")||r.noop,v=r.pluckKey(u,"beforeDetach")||r.noop,y=r.pluckKey(u,"afterDetach")||r.noop,b=r.pluckKey(u,"scrollNew")||r.asyncNoop;if(f(),c){if(a.isActive(t)&&!1===u.trackMotion)return l(t,i,u);up.puts("up.morph()","Morphing %o to %o with transition %O",t,i,s);var w=up.viewport.get(t),E=w.scrollTop,S=up.viewport.absolutize(t,{afterMeasure:function(){o.insertBefore(t,i),m()}});return a.startFunction([t,i],(function(){return e(this,void 0,void 0,(function(){var e;return n(this,(function(n){switch(n.label){case 0:return[4,b()];case 1:return n.sent(),e=w.scrollTop,S.moveBounds(0,e-E),[4,l(t,i,u)];case 2:return n.sent(),v(),o.remove(S.bounds),y(),[2]}}))}))}),u)}return v(),g(t,i),m(),y(),b()},animate:function(t,e,n){t=up.fragment.get(t),n=r.options(n);var i=v(e);if(p(t,e,n)){return a.startFunction(t,(function(){return i(t,n)}),n)}return function(t,e){r.isOptions(e)&&o.setStyle(t,e);return Promise.resolve()}(t,e)},finish:function(t){return a.finish(t)},finishCount:function(){return a.finishCount},transition:y,animation:b,config:u,isEnabled:c,isNone:w,willAnimate:p,swapElementsDirectly:g}}(),up.transition=up.motion.transition,up.animation=up.motion.animation,up.morph=up.motion.morph,up.animate=up.motion.animate},function(t,e,n){n(82);var r=up.util;up.network=function(){var t=new up.Config((function(){return{concurrency:4,wrapMethod:!0,cacheSize:70,cacheExpiry:3e5,badDownlink:.6,badRTT:750,badResponseTime:400,autoCache:function(t){return t.isSafe()},clearCache:function(t,e){return!t.isSafe()},requestMetaKeys:["target","failTarget","mode","failMode","context","failContext"],progressBar:!0}})),e=new up.Request.Queue,n=new up.Request.Cache,o=null;function i(t){var n=t.solo;n&&l()&&(up.puts("up.request()","Change with { solo } option will abort other requests"),t instanceof up.Request?e.abortExcept(t,n):p(n))}function s(t){var e,n,o=r.extractOptions(t);return o.url||(o.url=t[0]),null===(n=(e=up.migrate).handleRequestOptions)||void 0===n||n.call(e,o),o}function a(t){var r;if(t.willCache()&&(r=n.get(t)))return up.puts("up.request()","Re-using previous request to %s %s",t.method,t.url),t.preload||e.promoteToForeground(r),t.followState(r),!0}function u(o){return o.preload&&!o.isSafe()&&up.fail("Will not preload request to %s",o.description),function(e){e.willCache()&&n.set(e,e);r.always(e,(function(r){var o,i,s=null!==(i=null!==(o=r.clearCache)&&void 0!==o?o:e.clearCache)&&void 0!==i?i:t.clearCache(e,r);s&&n.clear(s),(e.willCache()||n.get(e))&&n.set(e,e),r.ok||n.remove(e)}))}(o),e.asap(o),!0}function l(){return e.isBusy()}var c=r.negate(l);function p(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.abort.apply(e,t)}return up.on("up:request:late",(function(){r.evalOption(t.progressBar)&&(o=new up.ProgressBar)})),up.on("up:request:recover",(function(){null==o||o.conclude()})),up.on("up:framework:reset",(function(){p(),e.reset(),t.reset(),n.clear(),null==o||o.destroy(),o=null})),{request:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=new up.Request(s(t));return a(n)||u(n),i(n),n},cache:n,isIdle:c,isBusy:l,isSafeMethod:function(t){return r.contains(["GET","OPTIONS","HEAD"],r.normalizeMethod(t))},config:t,abort:p,registerAliasForRedirect:function(t,e){if(t.cache&&e.url&&t.url!==e.url){var r=t.variant({method:e.method,url:e.url});n.alias(t,r)}},queue:e,shouldReduceRequests:function(){var e=navigator.connection;if(e)return e.saveData||e.rtt&&e.rtt>t.badRTT||e.downlink&&e.downlink<t.badDownlink},mimicLocalRequest:function(t){i(t);var e=t.clearCache;e&&n.clear(e)},loadPage:function(t){new up.Request(t).loadPage()}}}(),up.request=up.network.request,up.cache=up.network.cache},function(){},function(t,e,n){var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},s=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};n(84);var a=up.util,u=up.element;up.layer=function(){var t=[up.Layer.Root,up.Layer.Modal,up.Layer.Popup,up.Layer.Drawer,up.Layer.Cover],e=new up.Config((function(){for(var e={mode:"modal",any:{mainTargets:["[up-main='']","main",":layer"]},root:{mainTargets:["[up-main~=root]"],history:!0},overlay:{mainTargets:["[up-main~=overlay]"],openAnimation:"fade-in",closeAnimation:"fade-out",dismissLabel:"",dismissAriaLabel:"Dismiss dialog",dismissable:!0,history:"auto"},cover:{mainTargets:["[up-main~=cover]"]},drawer:{mainTargets:["[up-main~=drawer]"],backdrop:!0,position:"left",size:"medium",openAnimation:function(t){switch(t.position){case"left":return"move-from-left";case"right":return"move-from-right"}},closeAnimation:function(t){switch(t.position){case"left":return"move-to-left";case"right":return"move-to-right"}}},modal:{mainTargets:["[up-main~=modal]"],backdrop:!0,size:"medium"},popup:{mainTargets:["[up-main~=popup]"],position:"bottom",size:"medium",align:"left",dismissable:"outside key"}},n=0,r=t;n<r.length;n++){var o=r[n];e[o.mode].Class=o}return e})),n=null,l=[];function c(t){return"root"===t?[e.root,e.any]:[e[t],e.overlay,e.any]}function p(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return t=a.options(t,{layer:"new",defaultToEmptyContent:!0,navigate:!0}),[4,up.render(t)];case 1:return[2,e.sent().layer]}}))}))}up.on("up:fragment:destroyed",(function(){n.sync()})),up.on("up:framework:evaled",(function(){n=new up.LayerStack})),up.on("up:framework:reset",(function(){e.reset(),n.reset(),l=a.filter(l,"isDefault")}));var f={config:e,mainTargets:function(t){return a.flatMap(c(t),"mainTargets")},open:p,build:function(t,r){var o=t.mode,i=e[o].Class,u=a.reverse(c(o)),l=up.migrate.handleLayerConfig;return l&&u.forEach(l),t=a.mergeDefined.apply(a,s(s([],u,!1),[{mode:o,stack:n},t],!1)),r&&(t=r(t)),new i(t)},ask:function(t){return new Promise((function(e,n){p(t=r(r({},t),{onAccepted:function(t){return e(t.value)},onDismissed:function(t){return n(t.value)}}))}))},normalizeOptions:function(t){var o,i;if(null===(i=(o=up.migrate).handleLayerOptions)||void 0===i||i.call(o,t),a.isGiven(t.layer)){var s=String(t.layer).match(/^(new|shatter|swap)( (\w+))?/);if(s){t.layer="new";var u=s[1],l=s[3];t.mode||(t.mode=l||e.mode),"swap"===u?up.layer.isOverlay()&&(t.baseLayer="parent"):"shatter"===u&&(t.baseLayer="root")}}else t.mode?t.layer="new":a.isElementish(t.target)?t.layer=n.get(t.target,{normalizeLayerOptions:!1}):t.origin?t.layer="origin":t.layer="current";t.context||(t.context={}),t.baseLayer=n.get("current",r(r({},t),{normalizeLayerOptions:!1}))},openCallbackAttr:function(t,e){return u.callbackAttr(t,e,["layer"])},closeCallbackAttr:function(t,e){return u.callbackAttr(t,e,["layer","value"])},anySelector:function(){return a.map(t,(function(t){return t.selector()})).join(",")},optionToString:function(t){return a.isString(t)?'layer "'.concat(t,'"'):t.toString()},get stack(){return n}};return a.delegate(f,["get","getAll","root","overlays","current","front","sync","count","dismissOverlays"],(function(){return n})),a.delegate(f,["accept","dismiss","isRoot","isOverlay","isFront","on","off","emit","parent","history","location","mode","context","element","contains","size","affix"],(function(){return n.current})),f}()},function(){},function(t,e,n){var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)},o=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};n(86),up.link=function(){var t=up.util,e=up.element,n=new up.LinkPreloader,i=null,s=["a[up-content]","a[up-fragment]","a[up-document]"],a=["a[href]","[up-href]"],u=["[up-follow]","[up-target]","[up-layer]","[up-transition]","[up-preload]","[up-instant]"];function l(e,n){return t.flatMap(e,(function(t){return n.map((function(e){return t+e}))}))}var c=new up.Config((function(){return{followSelectors:l(a,u).concat(s),noFollowSelectors:["[up-follow=false]","a[download]","a[target]",'a[href^="#"]:not([up-content]):not([up-fragment]):not([up-document])','a[href^="javascript:"]'],instantSelectors:["[up-instant]"],noInstantSelectors:["[up-instant=false]","[onclick]"],preloadSelectors:l(a,["[up-preload]"]),noPreloadSelectors:["[up-preload=false]"],clickableSelectors:s.concat(["[up-emit]","[up-accept]","[up-dismiss]","[up-clickable]"]),preloadDelay:90,preloadEnabled:"auto"}}));function p(){return c.followSelectors.join(",")}function f(n){return e.matches(n,c.noFollowSelectors.join(","))||t.isCrossOrigin(n)}function h(t){return!up.browser.canPushState()||e.matches(t,c.noPreloadSelectors.join(","))||f(t)||!function(t){var e=m(t);if(e.url){return null==e.cache&&(e.cache="auto"),e.basic=!0,new up.Request(e).willCache()}}(t)}var d=up.mockable((function(t,e){return up.render(v(t,e))}));function m(e,n){n=t.options(n);var r=new up.OptionsParser(n,e);return n.url=function(t,e){void 0===e&&(e={});var n=e.url||t.getAttribute("up-href")||t.getAttribute("href");if("#"!==n)return n}(e,n),n.method=g(e,n),r.json("headers"),r.json("params"),r.booleanOrString("cache"),r.booleanOrString("clearCache"),r.booleanOrString("solo"),r.string("contentType",{attr:["enctype","up-content-type"]}),n}function v(t,n){var r,o;n=m(t=up.fragment.get(t),n);var i=new up.OptionsParser(n,t,{fail:!0});return i.boolean("feedback"),i.boolean("fail"),null==i.options.origin&&(i.options.origin=t),i.boolean("navigate",{default:!0}),i.string("confirm"),i.string("target"),i.booleanOrString("fallback"),i.parse((function(t,n){return e.callbackAttr(t,n,["request","response","renderOptions"])}),"onLoaded"),i.string("content"),i.string("fragment"),i.string("document"),i.boolean("peel"),i.string("layer"),i.string("baseLayer"),i.json("context"),i.string("mode"),i.string("align"),i.string("position"),i.string("class"),i.string("size"),i.booleanOrString("dismissable"),i.parse(up.layer.openCallbackAttr,"onOpened"),i.parse(up.layer.closeCallbackAttr,"onAccepted"),i.parse(up.layer.closeCallbackAttr,"onDismissed"),i.string("acceptEvent"),i.string("dismissEvent"),i.string("acceptLocation"),i.string("dismissLocation"),i.booleanOrString("history"),i.booleanOrString("focus"),i.boolean("saveScroll"),i.booleanOrString("scroll"),i.boolean("revealTop"),i.number("revealMax"),i.number("revealPadding"),i.number("revealSnap"),i.string("scrollBehavior"),i.booleanOrString("history"),i.booleanOrString("location"),i.booleanOrString("title"),i.booleanOrString("animation"),i.booleanOrString("transition"),i.string("easing"),i.number("duration"),null===(o=(r=up.migrate).parseFollowOptions)||void 0===o||o.call(r,i),n.guardEvent||(n.guardEvent=up.event.build("up:link:follow",{log:"Following link"})),n}function g(e,n){return void 0===n&&(n={}),t.normalizeMethod(n.method||e.getAttribute("up-method")||e.getAttribute("data-method"))}function y(t){return t=up.fragment.get(t),e.matches(t,p())&&!f(t)}function b(t){y(t)||t.setAttribute("up-follow","")}function w(t){e.matches(t,"a[href], button")||(e.setMissingAttrs(t,{tabindex:"0",role:"link","up-clickable":""}),t.addEventListener("keydown",(function(t){if("Enter"===t.key||"Space"===t.key)return x(t)})))}function E(t,n){if(t.defaultPrevented||f(n))return!1;var r="a, [up-href], ".concat(up.form.fieldSelector()),o=e.closest(t.target,r);return!o||o===n}function S(t){var n,r=e.closest(t,c.instantSelectors.join(","));return r&&(n=r,!(e.matches(n,c.noInstantSelectors.join(","))||f(n)))}function x(t){var e=o(["clientX","clientY","button"],up.event.keyModifiers,!0),n=up.event.fork(t,"up:click",e);up.emit(t.target,n,{log:!1})}return up.macro((function(){return c.clickableSelectors.join(",")}),w),up.on("up:click",p,(function(t,e){E(t,e)&&(up.event.halt(t),up.log.muteUncriticalRejection(d(e)))})),up.macro("[up-expand]",(function(t){var n=t.getAttribute("up-expand")||"a, [up-href]",r=e.get(t,n);if(r){var o=e.upAttrs(r);o["up-href"]||(o["up-href"]=r.getAttribute("href")),e.setMissingAttrs(t,o),b(t)}})),up.compiler((function(){return c.preloadSelectors.join(",")}),(function(t){h(t)||n.observeLink(t)})),up.on("up:framework:reset",(function(){i=null,c.reset(),n.reset()})),{follow:d,followOptions:v,preload:function(t,e){if(t=up.fragment.get(t),!function(){var t=c.preloadEnabled;if("auto"===t)return!up.network.shouldReduceRequests();return t}())return up.error.failed.async("Link preloading is disabled");var n=up.event.build("up:link:preload",{log:["Preloading link %o",t]});return d(t,r(r({},e),{guardEvent:n,preload:!0}))},makeFollowable:b,makeClickable:w,isSafe:function(t){var e=g(t);return up.network.isSafeMethod(e)},isFollowable:y,shouldFollowEvent:E,followMethod:g,convertClicks:function(t){t.on("click",(function(e,n){var r;if(up.event.isUnmodified(e))return S(n)&&i?up.event.halt(e):t.wasHitByMouseEvent(e)&&(r=e,!i||i===r.target)&&x(e),i=null})),t.on("mousedown",(function(t,e){up.event.isUnmodified(t)&&(i=t.target,S(e)&&x(t))}))},config:c,combineFollowableSelectors:l}}(),up.follow=up.link.follow},function(){},function(){var t=this&&this.__assign||function(){return t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},t.apply(this,arguments)};up.form=function(){var e,n=up.util,r=up.element,o=["[up-submit]","[up-target]","[up-layer]","[up-transition]"],i=new up.Config((function(){return{validateTargets:["[up-fieldset]:has(:origin)","fieldset:has(:origin)","label:has(:origin)","form:has(:origin)"],fieldSelectors:["select","input:not([type=submit]):not([type=image])","button[type]:not([type=submit])","textarea"],submitSelectors:up.link.combineFollowableSelectors(["form"],o),noSubmitSelectors:["[up-submit=false]","[target]"],submitButtonSelectors:["input[type=submit]","input[type=image]","button[type=submit]","button:not([type])"],observeDelay:0}}));function s(){return i.submitSelectors.join(",")}function a(t){return void 0===t&&(t=""),i.fieldSelectors.map((function(e){return e+t})).join(",")}function u(t){t=r.get(t);var e=r.subtree(t,a());if(r.matches(t,"form[id]")){var o=a(r.attributeSelector("form",t.getAttribute("id"))),i=r.all(o);e.push.apply(e,i),e=n.uniq(e)}return e}function l(){return i.submitButtonSelectors.join(",")}var c=up.mockable((function(t,e){return up.render(p(t,e))}));function p(t,e){return e=f(t=E(t),e),new up.OptionsParser(e,t).string("failTarget",{default:up.fragment.toTarget(t)}),e.guardEvent||(e.guardEvent=up.event.build("up:form:submit",{submitButton:e.submitButton,params:e.params,log:"Submitting form"})),n.assign(e,up.link.followOptions(t,e)),e}function f(t,e){e=n.options(e),t=E(t);var o=new up.OptionsParser(e,t),i=up.Params.fromForm(t);return e.submitButton||(e.submitButton=function(t){var e=l(),n=document.activeElement;return n&&r.matches(n,e)&&t.contains(n)?n:r.get(t,e)}(t)),e.submitButton&&(i.addField(e.submitButton),e.method||(e.method=e.submitButton.getAttribute("formmethod")),e.url||(e.url=e.submitButton.getAttribute("formaction"))),i.addAll(e.params),e.params=i,o.string("url",{attr:"action",default:up.fragment.source(t)}),o.string("method",{attr:["up-method","data-method","method"],default:"GET",normalize:n.normalizeMethod}),"GET"===e.method&&(e.url=up.Params.stripURL(e.url)),e}function h(t){for(var e,o,s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];t=r.list(t);var l=n.flatMap(t,u),c=n.reject(l,"name");c.length&&up.warn("up.observe()","Will not observe fields without a [name]: %o",c);var p=n.extractCallback(s)||d(t[0])||up.fail("up.observe: No change callback given"),f=n.extractOptions(s);f.delay=null!==(o=null!==(e=f.delay)&&void 0!==e?e:r.numberAttr(t[0],"up-delay"))&&void 0!==o?o:i.observeDelay;var h=new up.FieldObserver(l,f,p);return h.start(),function(){return h.stop()}}function d(t){var e=t.getAttribute("up-observe");if(e)return up.NonceableCallback.fromString(e).toFunction("value","name")}function m(t,e){return h(t,e,(function(){return c(t)}))}function v(e,o){var s,a=S(e);return n.isElementish(o.target)?up.fragment.toTarget(o.target):(s=o.target||e.getAttribute("up-validate")||a.getAttribute("up-validate"))?s:r.matches(e,"form")?up.fragment.toTarget(e):function(e,r){var o=up.layer.get(e);return n.findResult(i.validateTargets,(function(e){if(up.fragment.get(e,t(t({},r),{layer:o})))return e}))}(e,o)||up.fail("Could not find validation target for %o (tried defaults %o)",e,i.validateTargets)}function g(t,e){return(e=f(t=up.fragment.get(t),e)).origin=t,e.target=v(t,e),e.focus="keep",e.fail=!1,e.headers||(e.headers={}),e.headers[up.protocol.headerize("validate")]=t.getAttribute("name")||":unknown",e.guardEvent=up.event.build("up:form:validate",{field:t,log:"Validating form"}),up.render(e)}function y(t){var e,o;if(r.matches(t,"input[type=checkbox]"))t.checked?(e=t.value,o=":checked"):o=":unchecked";else if(r.matches(t,"input[type=radio]")){var i=S(t),s=t.getAttribute("name"),a=i.querySelector("input[type=radio]".concat(r.attributeSelector("name",s),":checked"));a?(o=":checked",e=a.value):o=":unchecked"}else e=t.value;var u=[];return n.isPresent(e)?(u.push(e),u.push(":present")):u.push(":blank"),n.isPresent(o)&&u.push(o),u}function b(t,e){void 0===e&&(e={});var n=e.target||e.target||t.getAttribute("up-switch"),o=S(t);n||up.fail("No switch target given for %o",t);for(var i=y(t),s=0,a=r.all(o,n);s<a.length;s++){var u=a[s];w(u,i)}}up.on("up:click",l,(function(t,e){var n=E(e);n&&C(n)&&e.focus()}));var w=up.mockable((function(t,e){var o;e||(e=y(function(t){var e=S(t),o=r.all(e,"[up-switch]");return n.find(o,(function(e){var n=e.getAttribute("up-switch");return r.matches(t,n)}))||up.fail("Could not find [up-switch] field for %o",t)}(t)));var i=t.getAttribute("up-hide-for");if(i)i=n.splitValues(i),o=0===n.intersect(e,i).length;else{var s=t.getAttribute("up-show-for");s=s?n.splitValues(s):[":present",":checked"],o=n.intersect(e,s).length>0}r.toggle(t,o),t.classList.add("up-switched")}));function E(t,e){var n=up.fragment.get(t);return n.form||r.closest(n,"form")||e&&r.closest(n,e)}function S(t){return E(t,up.layer.anySelector())}function x(t){return r.matches(t,a())}function C(t){return t=up.fragment.get(t),r.matches(t,s())&&!O(t)}function O(t){return r.matches(t,i.noSubmitSelectors.join(","))}return up.on("submit",s,(function(t,n){t.defaultPrevented||O(n)||(null==e||e(),up.event.halt(t),up.log.muteUncriticalRejection(c(n)))})),up.on("change","[up-validate]",(function(t){var r=u(t.target)[0];e=n.abortableMicrotask((function(){return up.log.muteUncriticalRejection(g(r))}))})),up.compiler("[up-switch]",(function(t){b(t)})),up.on("change","[up-switch]",(function(t,e){b(e)})),up.compiler("[up-show-for]:not(.up-switched), [up-hide-for]:not(.up-switched)",(function(t){w(t)})),up.compiler("[up-observe]",(function(t){return h(t)})),up.compiler("[up-autosubmit]",(function(t){return m(t)})),up.on("up:framework:reset",(function(){i.reset()})),{config:i,submit:c,submitOptions:p,isSubmittable:C,observe:h,validate:g,autosubmit:m,fieldSelector:a,fields:u,focusedField:function(){return n.presence(document.activeElement,x)},switchTarget:w}}(),up.submit=up.form.submit,up.observe=up.form.observe,up.autosubmit=up.form.autosubmit,up.validate=up.form.validate},function(){up.feedback=function(){var t=up.util,e=up.element,n=new up.Config((function(){return{currentClasses:["up-current"],navSelectors:["[up-nav]","nav"]}}));var r="up-active",o="a, [up-href]";function i(){return n.navSelectors.join(",")}function s(e){if(e)return t.normalizeURL(e,{trailingSlash:!1,hash:!1})}function a(t){return t.upFeedbackURLs||(t.upFeedbackURLs=new up.LinkFeedbackURLs(t))}function u(n,r){var s=up.fragment.subtree(n,i(),r);c(t.flatMap(s,(function(t){return e.subtree(t,o)})),r)}function l(t){return t.feedbackLocation||s(t.location)}function c(t,r){if(void 0===r&&(r={}),t.length){var o=l(r.layer||up.layer.get(t[0]));if(o)for(var i=0,s=t;i<s.length;i++){for(var u=s[i],c=a(u).isCurrent(o),p=0,f=n.currentClasses;p<f.length;p++){var h=f[p];e.toggleClass(u,h,c)}e.toggleAttr(u,"aria-current","page",c)}}}function p(t){return e.ancestor(t,o)||t}function f(t){p(t).classList.add(r)}function h(t){p(t).classList.remove(r)}function d(e,n){f(e);var r=n();return t.always(r,(function(){return h(e)})),r}function m(t){var e=t.feedbackLocation,n=l(t.location);e&&e===n||(t.feedbackLocation=n,u(t.element,{layer:t}))}return up.on("up:location:changed",(function(t){var e;(e=up.layer.front).showsLiveHistory()&&m(e)})),up.on("up:fragment:inserted",(function(t,e){var n,r;n=e,r={layer:up.layer.get(n)},up.fragment.closest(n,i(),r)?c(up.fragment.subtree(n,o,r),r):u(n,r)})),up.on("up:layer:location:changed",(function(t){m(t.layer)})),up.on("up:framework:reset",(function(){n.reset(),up.layer.root.feedbackLocation=null})),{config:n,start:f,stop:h,around:d,aroundForOptions:function(e,n){var r,o=e.feedback;return o&&(r=t.isBoolean(o)?e.origin:o),r?d(r=up.fragment.get(r),n):n()},normalizeURL:s}}()},function(){up.radio=function(){var t=up.util,e=up.element,n=new up.Config((function(){return{hungrySelectors:["[up-hungry]"],pollInterval:3e4,pollEnabled:"auto"}}));function r(r,o){var i,s;void 0===o&&(o={});var a=null!==(s=null!==(i=o.interval)&&void 0!==i?i:e.numberAttr(r,"up-interval"))&&void 0!==s?s:n.pollInterval,u=!1,l=null;function c(){u||(!function(e){var r,o,i=t.evalOption(n.pollEnabled,e);if("auto"===i)return!document.hidden&&!up.network.shouldReduceRequests()&&(null===(o=null===(r=up.layer.get(e))||void 0===r?void 0:r.isFront)||void 0===o?void 0:o.call(r));return i}(r)?(up.puts("[up-poll]","Polling is disabled"),p(Math.min(1e4,a))):t.always(up.reload(r,o),p))}function p(t){void 0===t&&(t=a),u||setTimeout(c,t)}function f(){u=!0,null==l||l.abort()}return o.onQueued=function(t){return l=t},up.on(r,"up:poll:stop",f),p(),f}return up.compiler("[up-poll]",r),up.on("up:framework:reset",(function(){n.reset()})),{config:n,hungrySelector:function(){return n.hungrySelectors.join(",")},startPolling:r,stopPolling:function(t){up.emit(t,"up:poll:stop")}}}()},function(){var t,e;up.rails=(t=up.util,e=up.element,t.each(["method","confirm"],(function(t){var n="data-".concat(t),r="up-".concat(t);up.macro("a[".concat(n,"]"),(function(t){if((window._rails_loaded||window.Rails||(null===(o=window.jQuery)||void 0===o?void 0:o.rails))&&up.link.isFollowable(t))return e.setMissingAttr(t,r,t.getAttribute(n)),t.removeAttribute(n);var o}))})))}],e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n(1),n(2),n(3),n(4),n(5),n(6),n(7),n(8),n(9),n(10),n(11),n(12),n(13),n(14),n(15),n(16),n(17),n(18),n(19),n(20),n(21),n(22),n(23),n(24),n(25),n(26),n(27),n(28),n(29),n(30),n(31),n(32),n(33),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42),n(43),n(44),n(45),n(46),n(47),n(48),n(49),n(50),n(51),n(52),n(53),n(54),n(55),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(78),n(80),n(81),n(83),n(85),n(87),n(88),n(89),n(90),up.framework.onEvaled()}(),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.accessibleAutocomplete=e():t.accessibleAutocomplete=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=37)}([function(t,e,n){var r=n(1),o=n(7),i=n(8),s=n(16),a=n(18),u="prototype",l=function(t,e,n){var c,p,f,h,d=t&l.F,m=t&l.G,v=t&l.S,g=t&l.P,y=t&l.B,b=m?r:v?r[e]||(r[e]={}):(r[e]||{})[u],w=m?o:o[e]||(o[e]={}),E=w[u]||(w[u]={});for(c in m&&(n=e),n)f=((p=!d&&b&&void 0!==b[c])?b:n)[c],h=y&&p?a(f,r):g&&"function"==typeof f?a(Function.call,f):f,b&&s(b,c,f,t&l.U),w[c]!=f&&i(w,c,h),g&&E[c]!=f&&(E[c]=f)};r.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(2)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";n.r(e),n.d(e,"h",(function(){return a})),n.d(e,"createElement",(function(){return a})),n.d(e,"cloneElement",(function(){return c})),n.d(e,"Component",(function(){return F})),n.d(e,"render",(function(){return M})),n.d(e,"rerender",(function(){return d})),n.d(e,"options",(function(){return o}));var r=function(){},o={},i=[],s=[];function a(t,e){var n,a,u,l,c=s;for(l=arguments.length;2<l--;)i.push(arguments[l]);for(e&&null!=e.children&&(i.length||i.push(e.children),delete e.children);i.length;)if((a=i.pop())&&void 0!==a.pop)for(l=a.length;l--;)i.push(a[l]);else"boolean"==typeof a&&(a=null),(u="function"!=typeof t)&&(null==a?a="":"number"==typeof a?a=String(a):"string"!=typeof a&&(u=!1)),u&&n?c[c.length-1]+=a:c===s?c=[a]:c.push(a),n=u;var p=new r;return p.nodeName=t,p.children=c,p.attributes=null==e?void 0:e,p.key=null==e?void 0:e.key,void 0!==o.vnode&&o.vnode(p),p}function u(t,e){for(var n in e)t[n]=e[n];return t}var l="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function c(t,e){return a(t.nodeName,u(u({},t.attributes),e),2<arguments.length?[].slice.call(arguments,2):t.children)}var p=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,f=[];function h(t){!t._dirty&&(t._dirty=!0)&&1==f.push(t)&&(o.debounceRendering||l)(d)}function d(){var t,e=f;for(f=[];t=e.pop();)t._dirty&&L(t)}function m(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function v(t){var e=u({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===e[r]&&(e[r]=n[r]);return e}function g(t){var e=t.parentNode;e&&e.removeChild(t)}function y(t,e,n,r,o){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)n&&n(null),r&&r(t);else if("class"!==e||o)if("style"===e){if(r&&"string"!=typeof r&&"string"!=typeof n||(t.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var i in n)i in r||(t.style[i]="");for(var i in r)t.style[i]="number"==typeof r[i]&&!1===p.test(i)?r[i]+"px":r[i]}}else if("dangerouslySetInnerHTML"===e)r&&(t.innerHTML=r.__html||"");else if("o"==e[0]&&"n"==e[1]){var s=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),r?n||t.addEventListener(e,b,s):t.removeEventListener(e,b,s),(t._listeners||(t._listeners={}))[e]=r}else if("list"!==e&&"type"!==e&&!o&&e in t){try{t[e]=null==r?"":r}catch(t){}null!=r&&!1!==r||"spellcheck"==e||t.removeAttribute(e)}else{var a=o&&e!==(e=e.replace(/^xlink:?/,""));null==r||!1===r?a?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof r&&(a?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):t.setAttribute(e,r))}else t.className=r||""}function b(t){return this._listeners[t.type](o.event&&o.event(t)||t)}var w=[],E=0,S=!1,x=!1;function C(){for(var t;t=w.pop();)o.afterMount&&o.afterMount(t),t.componentDidMount&&t.componentDidMount()}function O(t,e,n,r,o){var i=t,s=S;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||o)?t.nodeValue!=e&&(t.nodeValue=e):(i=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(i,t),_(t,!0))),i.__preactattr_=!0,i;var a=e.nodeName;if("function"==typeof a)return function(t,e,n,r){for(var o=t&&t._component,i=o,s=t,a=o&&t._componentConstructor===e.nodeName,u=a,l=v(e);o&&!u&&(o=o._parentComponent);)u=o.constructor===e.nodeName;return o&&u&&(!r||o._component)?(P(o,l,3,n,r),t=o.base):(i&&!a&&(R(i),t=s=null),o=A(e.nodeName,l,n),t&&!o.nextBase&&(o.nextBase=t,s=null),P(o,l,1,n,r),t=o.base,s&&t!==s&&(s._component=null,_(s,!1))),t}(t,e,n,r);if(S="svg"===a||"foreignObject"!==a&&S,a=String(a),(!t||!m(t,a))&&(i=function(t,e){var n=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.normalizedNodeName=t,n}(a,S),t)){for(;t.firstChild;)i.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(i,t),_(t,!0)}var u=i.firstChild,l=i.__preactattr_,c=e.children;if(null==l){l=i.__preactattr_={};for(var p=i.attributes,f=p.length;f--;)l[p[f].name]=p[f].value}return!x&&c&&1===c.length&&"string"==typeof c[0]&&null!=u&&void 0!==u.splitText&&null==u.nextSibling?u.nodeValue!=c[0]&&(u.nodeValue=c[0]):(c&&c.length||null!=u)&&function(t,e,n,r,o){var i,s,a,u,l,c,p,f,h=t.childNodes,d=[],v={},y=0,b=0,w=h.length,E=0,S=e?e.length:0;if(0!==w)for(var x=0;x<w;x++){var C=h[x],T=C.__preactattr_;null!=(k=S&&T?C._component?C._component.__key:T.key:null)?(y++,v[k]=C):(T||(void 0!==C.splitText?!o||C.nodeValue.trim():o))&&(d[E++]=C)}if(0!==S)for(x=0;x<S;x++){var k;if(l=null,null!=(k=(u=e[x]).key))y&&void 0!==v[k]&&(l=v[k],v[k]=void 0,y--);else if(b<E)for(i=b;i<E;i++)if(void 0!==d[i]&&(c=s=d[i],f=o,"string"==typeof(p=u)||"number"==typeof p?void 0!==c.splitText:"string"==typeof p.nodeName?!c._componentConstructor&&m(c,p.nodeName):f||c._componentConstructor===p.nodeName)){l=s,d[i]=void 0,i===E-1&&E--,i===b&&b++;break}l=O(l,u,n,r),a=h[x],l&&l!==t&&l!==a&&(null==a?t.appendChild(l):l===a.nextSibling?g(a):t.insertBefore(l,a))}if(y)for(var x in v)void 0!==v[x]&&_(v[x],!1);for(;b<=E;)void 0!==(l=d[E--])&&_(l,!1)}(i,c,n,r,x||null!=l.dangerouslySetInnerHTML),function(t,e,n){var r;for(r in n)e&&null!=e[r]||null==n[r]||y(t,r,n[r],n[r]=void 0,S);for(r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||y(t,r,n[r],n[r]=e[r],S)}(i,e.attributes,l),S=s,i}function _(t,e){var n=t._component;n?R(n):(null!=t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),!1!==e&&null!=t.__preactattr_||g(t),T(t))}function T(t){for(t=t.lastChild;t;){var e=t.previousSibling;_(t,!0),t=e}}var k=[];function A(t,e,n){var r,o=k.length;for(t.prototype&&t.prototype.render?(r=new t(e,n),F.call(r,e,n)):((r=new F(e,n)).constructor=t,r.render=D);o--;)if(k[o].constructor===t)return r.nextBase=k[o].nextBase,k.splice(o,1),r;return r}function D(t,e,n){return this.constructor(t,n)}function P(t,e,n,r,i){t._disable||(t._disable=!0,t.__ref=e.ref,t.__key=e.key,delete e.ref,delete e.key,void 0===t.constructor.getDerivedStateFromProps&&(!t.base||i?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r)),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&!1===o.syncComponentUpdates&&t.base?h(t):L(t,1,i)),t.__ref&&t.__ref(t))}function L(t,e,n,r){if(!t._disable){var i,s,a,l=t.props,c=t.state,p=t.context,f=t.prevProps||l,h=t.prevState||c,d=t.prevContext||p,m=t.base,g=t.nextBase,y=m||g,b=t._component,T=!1,k=d;if(t.constructor.getDerivedStateFromProps&&(c=u(u({},c),t.constructor.getDerivedStateFromProps(l,c)),t.state=c),m&&(t.props=f,t.state=h,t.context=d,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(l,c,p)?T=!0:t.componentWillUpdate&&t.componentWillUpdate(l,c,p),t.props=l,t.state=c,t.context=p),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!T){i=t.render(l,c,p),t.getChildContext&&(p=u(u({},p),t.getChildContext())),m&&t.getSnapshotBeforeUpdate&&(k=t.getSnapshotBeforeUpdate(f,h));var D,F,M=i&&i.nodeName;if("function"==typeof M){var I=v(i);(s=b)&&s.constructor===M&&I.key==s.__key?P(s,I,1,p,!1):(D=s,t._component=s=A(M,I,p),s.nextBase=s.nextBase||g,s._parentComponent=t,P(s,I,0,p,!1),L(s,1,n,!0)),F=s.base}else a=y,(D=b)&&(a=t._component=null),(y||1===e)&&(a&&(a._component=null),F=function(t,e,n,r,o,i){E++||(S=null!=o&&void 0!==o.ownerSVGElement,x=null!=t&&!("__preactattr_"in t));var s=O(t,e,n,r,i);return o&&s.parentNode!==o&&o.appendChild(s),--E||(x=!1,i||C()),s}(a,i,p,n||!m,y&&y.parentNode,!0));if(y&&F!==y&&s!==b){var N=y.parentNode;N&&F!==N&&(N.replaceChild(F,y),D||(y._component=null,_(y,!1)))}if(D&&R(D),(t.base=F)&&!r){for(var j=t,H=t;H=H._parentComponent;)(j=H).base=F;F._component=j,F._componentConstructor=j.constructor}}for(!m||n?w.unshift(t):T||(t.componentDidUpdate&&t.componentDidUpdate(f,h,k),o.afterUpdate&&o.afterUpdate(t));t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);E||r||C()}}function R(t){o.beforeUnmount&&o.beforeUnmount(t);var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?R(n):e&&(e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),g(t.nextBase=e),k.push(t),T(e)),t.__ref&&t.__ref(null)}function F(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{},this._renderCallbacks=[]}function M(t,e,n){return function(t,e,n,r,o,i){E++||(S=null!=o&&void 0!==o.ownerSVGElement,x=null!=t&&!("__preactattr_"in t));var s=O(t,e,n,r,i);return o&&s.parentNode!==o&&o.appendChild(s),--E||(x=!1,i||C()),s}(n,t,{},!1,e,!1)}u(F.prototype,{setState:function(t,e){this.prevState||(this.prevState=this.state),this.state=u(u({},this.state),"function"==typeof t?t(this.state,this.props):t),e&&this._renderCallbacks.push(e),h(this)},forceUpdate:function(t){t&&this._renderCallbacks.push(t),L(this,2)},render:function(){}});var I={h:a,createElement:a,cloneElement:c,Component:F,render:M,rerender:d,options:o};e.default=I},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(9),o=n(40);t.exports=n(4)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(10),o=n(38),i=n(39),s=Object.defineProperty;e.f=n(4)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(3);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(22);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";var r=n(2);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(41)})},function(t,e,n){var r=n(3),o=n(1).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(1),o=n(8),i=n(17),s=n(11)("src"),a="toString",u=Function[a],l=(""+u).split(a);n(7).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,a){var u="function"==typeof n;u&&(i(n,"name")||o(n,"name",e)),t[e]!==n&&(u&&(i(n,s)||o(n,s,t[e]?""+t[e]:l.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,a,(function(){return"function"==typeof this&&this[s]||u.call(this)}))},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(19);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(42),o=n(28);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(12),o=n(5);t.exports=function(t){return r(o(t))}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(21),o=n(24),i=n(43);t.exports=function(t){return function(e,n,s){var a,u=r(e),l=o(u.length),c=i(s,l);if(t&&n!=n){for(;c<l;)if((a=u[c++])!=a)return!0}else for(;c<l;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var r=n(25),o=Math.min;t.exports=function(t){return 0<t?o(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e,n){var r=n(27)("keys"),o=n(11);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(7),o=n(1),i="__core-js_shared__",s=o[i]||(o[i]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(44)?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(5);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(9).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||n(4)&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(0),o=n(32)(1);r(r.P+r.F*!n(13)([].map,!0),"Array",{map:function(t){return o(this,t,arguments[1])}})},function(t,e,n){var r=n(18),o=n(12),i=n(29),s=n(24),a=n(47);t.exports=function(t,e){var n=1==t,u=2==t,l=3==t,c=4==t,p=6==t,f=5==t||p,h=e||a;return function(e,a,d){for(var m,v,g=i(e),y=o(g),b=r(a,d,3),w=s(y.length),E=0,S=n?h(e,w):u?h(e,0):void 0;E<w;E++)if((f||E in y)&&(v=b(m=y[E],E,g),t))if(n)S[E]=v;else if(v)switch(t){case 3:return!0;case 5:return m;case 6:return E;case 2:S.push(m)}else if(c)return!1;return p?-1:l||c?c:S}}},function(t,e,n){var r=n(22);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(27)("wks"),o=n(11),i=n(1).Symbol,s="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=s&&i[t]||(s?i:o)("Symbol."+t))}).store=r},function(t,e,n){"use strict";var r=n(0),o=n(23)(!1),i=[].indexOf,s=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(s||!n(13)(i)),"Array",{indexOf:function(t){return s?i.apply(this,arguments)||0:o(this,t,arguments[1])}})},function(t,e,n){var r=n(0);r(r.S,"Object",{create:n(52)})},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,n(14),n(30),n(31),n(35),n(49),n(50);var r=n(6),o=function(t){return t&&t.__esModule?t:{default:t}}(n(51));function i(t){if(!t.element)throw new Error("element is not defined");if(!t.id)throw new Error("id is not defined");if(!t.source)throw new Error("source is not defined");return Array.isArray(t.source)&&(t.source=s(t.source)),(0,r.render)((0,r.createElement)(o.default,t),t.element)}var s=function(t){return function(e,n){n(t.filter((function(t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())})))}};i.enhanceSelectElement=function(t){if(!t.selectElement)throw new Error("selectElement is not defined");if(void 0===t.preserveNullOptions&&(t.preserveNullOptions=!0),void 0===t.autoselect&&(t.autoselect=!0),void 0===t.showAllValues&&(t.showAllValues=!0),void 0===t.confirmOnBlur&&(t.confirmOnBlur=!0),void 0===t.alwaysDisplayArrow&&(t.alwaysDisplayArrow=!0),!t.source){var e=[].filter.call(t.selectElement.options,(function(e){return e.value||t.preserveNullOptions}));t.source=e.map((function(t){return t.textContent||t.innerText}))}if(t.onConfirm=t.onConfirm||function(e){var n=[].filter.call(t.selectElement.options,(function(t){return(t.textContent||t.innerText)===e}))[0];n&&(n.selected=!0);var r=document.createEvent("HTMLEvents");r.initEvent("change",!0,!1),t.selectElement.dispatchEvent(r)},t.selectElement.value||void 0===t.defaultValue){var n=t.selectElement.options[t.selectElement.options.selectedIndex];t.defaultValue=n.textContent||n.innerText}void 0===t.name&&(t.name=""),void 0===t.id&&(void 0===t.selectElement.id?t.id="":t.id=t.selectElement.id);var r=document.createElement("div");t.selectElement.parentNode.insertBefore(r,t.selectElement),i(Object.assign({},t,{element:r})),t.selectElement.style.display="none",t.selectElement.id=t.selectElement.id+"-select"};var a=i;e.default=a},function(t,e,n){t.exports=!n(4)&&!n(2)((function(){return 7!=Object.defineProperty(n(15)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(3);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var r=n(20),o=n(45),i=n(46),s=n(29),a=n(12),u=Object.assign;t.exports=!u||n(2)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r}))?function(t,e){for(var n=s(t),u=arguments.length,l=1,c=o.f,p=i.f;l<u;)for(var f,h=a(arguments[l++]),d=c?r(h).concat(c(h)):r(h),m=d.length,v=0;v<m;)p.call(h,f=d[v++])&&(n[f]=h[f]);return n}:u},function(t,e,n){var r=n(17),o=n(21),i=n(23)(!1),s=n(26)("IE_PROTO");t.exports=function(t,e){var n,a=o(t),u=0,l=[];for(n in a)n!=s&&r(a,n)&&l.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~i(l,n)||l.push(n));return l}},function(t,e,n){var r=n(25),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e){t.exports=!1},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(48);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(3),o=n(33),i=n(34)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(0),o=n(32)(2);r(r.P+r.F*!n(13)([].filter,!0),"Array",{filter:function(t){return o(this,t,arguments[1])}})},function(t,e,n){var r=n(0);r(r.S,"Array",{isArray:n(33)})},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,n(14),n(36),n(30),n(55),n(31),n(35),n(58),n(61);var r=n(6),o=s(n(63)),i=s(n(64));function s(t){return t&&t.__esModule?t:{default:t}}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var l={13:"enter",27:"escape",32:"space",38:"up",40:"down"};function c(){return"undefined"!=typeof navigator&&!(!navigator.userAgent.match(/(iPod|iPhone|iPad)/g)||!navigator.userAgent.match(/AppleWebKit/g))}var p=function(t){function e(e){var n;return(n=t.call(this,e)||this).elementReferences={},n.state={focused:null,hovered:null,menuOpen:!1,options:e.defaultValue?[e.defaultValue]:[],query:e.defaultValue,validChoiceMade:!1,selected:null,ariaHint:!0},n.handleComponentBlur=n.handleComponentBlur.bind(u(u(n))),n.handleKeyDown=n.handleKeyDown.bind(u(u(n))),n.handleUpArrow=n.handleUpArrow.bind(u(u(n))),n.handleDownArrow=n.handleDownArrow.bind(u(u(n))),n.handleEnter=n.handleEnter.bind(u(u(n))),n.handlePrintableKey=n.handlePrintableKey.bind(u(u(n))),n.handleListMouseLeave=n.handleListMouseLeave.bind(u(u(n))),n.handleOptionBlur=n.handleOptionBlur.bind(u(u(n))),n.handleOptionClick=n.handleOptionClick.bind(u(u(n))),n.handleOptionFocus=n.handleOptionFocus.bind(u(u(n))),n.handleOptionMouseDown=n.handleOptionMouseDown.bind(u(u(n))),n.handleOptionMouseEnter=n.handleOptionMouseEnter.bind(u(u(n))),n.handleInputBlur=n.handleInputBlur.bind(u(u(n))),n.handleInputChange=n.handleInputChange.bind(u(u(n))),n.handleInputFocus=n.handleInputFocus.bind(u(u(n))),n.pollInputElement=n.pollInputElement.bind(u(u(n))),n.getDirectInputChanges=n.getDirectInputChanges.bind(u(u(n))),n.clearSelection=n.clearSelection.bind(u(u(n))),n}!function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(e,t);var n=e.prototype;return n.isQueryAnOption=function(t,e){var n=this;return-1!==e.map((function(t){return n.templateInputValue(t).toLowerCase()})).indexOf(t.toLowerCase())},n.componentDidMount=function(){this.pollInputElement(),this.props.selectElement&&(this.props.selectElement.accessibleAutocomplete={clearSelection:this.clearSelection})},n.componentWillUnmount=function(){clearTimeout(this.$pollInput),this.props.selectElement&&delete this.props.selectElement.accessibleAutocomplete},n.pollInputElement=function(){var t=this;this.getDirectInputChanges(),this.$pollInput=setTimeout((function(){t.pollInputElement()}),100)},n.getDirectInputChanges=function(){var t=this.elementReferences[-1];t&&t.value!==this.state.query&&this.handleInputChange({target:{value:t.value}})},n.componentDidUpdate=function(t,e){var n=this.state.focused,r=null===n,o=e.focused!==n;o&&!r&&this.elementReferences[n].focus();var i=-1===n,s=o&&null===e.focused;if(i&&s){var a=this.elementReferences[n];a.setSelectionRange(0,a.value.length)}},n.clearSelection=function(){var t=this;this.setState({focused:null,hovered:null,menuOpen:!1,options:this.props.defaultValue?[this.props.defaultValue]:[],query:"",validChoiceMade:!1},(function(){t.props.selectElement.value=null;var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!1),t.props.selectElement.dispatchEvent(e)}))},n.hasAutoselect=function(){return!c()&&this.props.autoselect},n.templateInputValue=function(t){var e=this.props.templates&&this.props.templates.inputValue;return e?e(t):t},n.templateSuggestion=function(t){var e=this.props.templates&&this.props.templates.suggestion;return e?e(t):t},n.handleComponentBlur=function(t,e){var n,r=this,o=this.state,i=o.options,s=o.query,a=o.selected;this.props.confirmOnBlur?(n=t.query||s,this.props.onConfirm(i[a])):n=s;var u=e&&this.props.selectElement?-1:null;this.setState({focused:u,menuOpen:t.menuOpen||!1,query:n,selected:null,validChoiceMade:this.isQueryAnOption(n,i)},(function(){e&&r.forceUpdate()}))},n.handleListMouseLeave=function(t){this.setState({hovered:null})},n.handleOptionBlur=function(t,e){var n=this.state,r=n.focused,o=n.menuOpen,i=n.options,s=n.selected,a=null===t.relatedTarget,u=t.relatedTarget===this.elementReferences[-1],l=r!==e&&-1!==r;if(!l&&a||!l&&!u){var p=o&&c();this.handleComponentBlur({menuOpen:p,query:this.templateInputValue(i[s])})}},n.handleInputBlur=function(t){var e=this.state,n=e.focused,r=e.menuOpen,o=e.options,i=e.query,s=e.selected;if(-1===n||!t.relatedTarget.matches("li.autocomplete__option")){var a=r&&c(),u=c()?i:this.templateInputValue(o[s]);this.handleComponentBlur({menuOpen:a,query:u})}},n.handleInputChange=function(t){var e=this;switch(l[t.keyCode]){case"up":this.handleUpArrow(t);break;case"down":this.handleDownArrow(t);break;case"space":this.handleSpace(t);break;case"enter":this.handleEnter(t);break;case"escape":this.handleComponentBlur({query:this.state.query},!0);break;default:var n=this.props,r=n.minLength,o=n.source,i=n.showAllValues,s=this.hasAutoselect(),a=t.target.value,u=0===a.length,c=this.state.query.length!==a.length,p=a.length>=r;this.setState({query:a,ariaHint:u}),i||!u&&c&&p?o(a,(function(t){var n=0<t.length;e.setState({menuOpen:n,options:t,focused:e.props.selectElement?n?0:-1:e.state.focused,selected:s&&n?0:-1,validChoiceMade:!1})})):!u&&p||this.setState({menuOpen:!1,options:[]})}},n.handleInputClick=function(t){var e=this;this.props.selectElement&&!1===this.state.menuOpen?this.props.source("",(function(t){var n=t.indexOf(e.state.query);e.setState({menuOpen:!0,options:t,focused:n,selected:n,hovered:null})})):this.props.selectElement?this.handleComponentBlur({menuOpen:!1},!0):this.handleInputChange(t)},n.handleInputFocus=function(t){if(!this.props.selectElement){var e=this.state,n=e.query,r=e.validChoiceMade,o=e.options,i=this.props.minLength,s=n&&!r&&n.length>=i&&0<o.length;s?this.setState((function(t){var e=t.menuOpen;return{focused:-1,menuOpen:s||e,selected:-1}})):this.setState({focused:-1})}},n.wrapAround=function(t){var e=this.state,n=e.options,r=e.query,o=this.props,i=o.minLength,s=o.selectElement.options,a=i<(r?r.trim().length:0)?n.length:s.length;return t<0?a-1:a<=t?0:t},n.handleOptionFocus=function(t,e){var n=this;this.props.selectElement&&(t=this.wrapAround(t)),this.setState({focused:t,hovered:null,selected:t},(function(){if(e){var r=n.state.options[t],o=n.templateInputValue(r);n.setState({query:o,validChoiceMade:!0}),n.props.selectElement&&n.props.onConfirm(r)}}))},n.handleOptionMouseEnter=function(t,e){c()||this.setState({hovered:e})},n.handleOptionClick=function(t,e,n){void 0===n&&(n=!1);var r=this.state.options[e],o=this.templateInputValue(r);this.props.onConfirm(r),t.preventDefault(),t.stopPropagation(),this.setState({focused:-1,hovered:null,menuOpen:n,query:o,selected:-1,validChoiceMade:!0}),this.forceUpdate()},n.handleOptionMouseDown=function(t){t.preventDefault()},n.handleUpArrow=function(t){var e=this;if(t.preventDefault(),this.props.selectElement&&!1===this.state.menuOpen)this.props.source("",(function(t){e.setState({menuOpen:!0,options:t},(function(){var t=e.state.query&&0<e.state.options.indexOf(e.state.query)?e.state.options.indexOf(e.state.query)-1:e.state.options.length-1;t<0&&(t=e.state.options.length-1),e.handleOptionFocus(t,!0)}))}));else{var n=this.state,r=n.menuOpen,o=n.selected;(-1!==o&&r||this.props.selectElement)&&this.handleOptionFocus(o-1,this.props.autoselect)}},n.handleDownArrow=function(t){var e=this;if(t.preventDefault(),this.props.selectElement&&!1===this.state.menuOpen)this.props.source("",(function(t){e.setState({menuOpen:!0,options:t},(function(){var t=e.state.query&&-1<e.state.options.indexOf(e.state.query)?e.state.options.indexOf(e.state.query)+1:0;t>=e.state.options.length&&(t=0),e.handleOptionFocus(t,!0)}))}));else if(this.props.showAllValues&&!1===this.state.menuOpen)this.props.source("",(function(t){e.setState({menuOpen:!0,options:t,selected:0,focused:0,hovered:null})}));else if(!0===this.state.menuOpen){var n=this.state,r=n.options,o=n.selected;(o!==r.length-1||this.props.selectElement)&&this.handleOptionFocus(o+1,this.props.autoselect)}},n.handleSpace=function(t){var e=this;if(this.props.selectElement&&!this.state.menuOpen||this.props.showAllValues&&!1===this.state.menuOpen&&""===this.state.query)return 0===this.state.query.trim().length&&t.preventDefault(),void this.props.source("",(function(t){var n=e.state.query&&-1<t.indexOf(e.state.query)?t.indexOf(e.state.query):0;e.setState({menuOpen:!0,options:t,focused:n,selected:n})}));-1!==this.state.focused&&(t.preventDefault(),this.handleOptionClick(t,this.state.focused))},n.handleEnter=function(t){var e=this;this.state.menuOpen?(t.preventDefault(),0<=this.state.selected&&this.handleOptionClick(t,this.state.selected)):this.props.selectElement&&this.props.source("",(function(t){e.setState({menuOpen:!0,options:t},(function(){var t=e.state.query&&-1<e.state.options.indexOf(e.state.query)?e.state.options.indexOf(e.state.query):0,n=!0;e.props.selectElement||(n=!(t=-1)),e.setState({menuOpen:n,focused:t,selected:t})}))}))},n.handlePrintableKey=function(t){var e=this.elementReferences[-1];t.target===e||e.focus()},n.handleKeyDown=function(t){switch(l[t.keyCode]){case"up":this.handleUpArrow(t);break;case"down":this.handleDownArrow(t);break;case"space":this.handleSpace(t);break;case"enter":this.handleEnter(t);break;case"escape":this.handleComponentBlur({query:this.state.query},!0);break;default:(function(t){return 47<t&&t<58||32===t||8===t||64<t&&t<91||95<t&&t<112||185<t&&t<193||218<t&&t<223})(t.keyCode)&&this.handlePrintableKey(t)}},n.render=function(){var t,e=this,n=this.props,i=n.cssNamespace,s=n.displayMenu,u=n.id,l=n.minLength,p=n.name,f=n.placeholder,h=n.required,d=n.showAllValues,m=n.tNoResults,v=n.tStatusQueryTooShort,g=n.tStatusNoResults,y=n.tStatusSelectedOption,b=n.tStatusResults,w=n.tAssistiveHint,E=n.alwaysDisplayArrow,S=n.dropdownArrow,x=this.state,C=x.focused,O=x.hovered,_=x.menuOpen,T=x.options,k=x.query,A=x.selected,D=x.ariaHint,P=x.validChoiceMade,L=this.hasAutoselect(),R=-1===C,F=0===T.length,M=0!==k.length,I=k.length>=l,N=this.props.showNoOptionsFound&&R&&F&&M&&I,j=i+"__wrapper",H=i+"__input",q=null!==C?" "+H+"--focused":"",B=this.props.showAllValues?" "+H+"--show-all-values":" "+H+"--default",V=i+"__dropdown-arrow-down",U=-1!==C&&null!==C,W=i+"__menu",z=W+"--"+s,X=W+"--"+(_||N?"visible":"hidden"),K=i+"__option",G=i+"__hint",Y=this.templateInputValue(T[A]),Q=Y&&0===Y.toLowerCase().indexOf(k.toLowerCase())&&L?k+Y.substr(k.length):"",$=u+"__assistiveHint",J=D?{"aria-describedby":$}:null;return(d||!0===E)&&"string"==typeof(t=S({className:V}))&&(t=(0,r.createElement)("div",{className:i+"__dropdown-arrow-down-wrapper",dangerouslySetInnerHTML:{__html:t}})),(0,r.createElement)("div",{className:j,onKeyDown:this.handleKeyDown,ref:function(t){e.wrapperRef=t}},(0,r.createElement)(o.default,{id:u,length:T.length,queryLength:k.length,minQueryLength:l,selectedOption:this.templateInputValue(T[A]),selectedOptionIndex:A,validChoiceMade:P,isInFocus:null!==this.state.focused,tQueryTooShort:v,tNoResults:g,tSelectedOption:y,tResults:b}),Q&&(0,r.createElement)("span",null,(0,r.createElement)("input",{className:G,readonly:!0,tabIndex:"-1",value:Q})),(0,r.createElement)("input",a({"aria-expanded":_?"true":"false","aria-activedescendant":!!U&&u+"__option--"+C,"aria-owns":u+"__listbox","aria-autocomplete":this.hasAutoselect()?"both":"list"},J,{autoComplete:"off",className:""+H+q+B,id:u,onClick:function(t){return e.handleInputClick(t)},onBlur:this.handleInputBlur},function(t){return{onInput:t}}(this.handleInputChange),{onFocus:this.handleInputFocus,name:p,placeholder:f,ref:function(t){e.elementReferences[-1]=t},type:"text",role:"combobox",required:h,value:k})),t,(0,r.createElement)("ul",{className:W+" "+z+" "+X,onMouseLeave:function(t){return e.handleListMouseLeave(t)},id:u+"__listbox",role:"listbox"},T.map((function(t,n){var o=(-1===C?A===n:C===n)&&null===O?" "+K+"--focused":"",i=n%2?" "+K+"--odd":"",s=c()?"<span id="+u+"__option-suffix--"+n+' style="border:0;clip:rect(0 0 0 0);height:1px;marginBottom:-1px;marginRight:-1px;overflow:hidden;padding:0;position:absolute;whiteSpace:nowrap;width:1px"> '+(n+1)+" of "+T.length+"</span>":"";return(0,r.createElement)("li",{"aria-selected":C===n?"true":"false",className:""+K+o+i,dangerouslySetInnerHTML:{__html:e.templateSuggestion(t)+s},id:u+"__option--"+n,key:n,onBlur:function(t){return e.handleOptionBlur(t,n)},onClick:function(t){return e.handleOptionClick(t,n)},onMouseDown:e.handleOptionMouseDown,onMouseEnter:function(t){return e.handleOptionMouseEnter(t,n)},ref:function(t){e.elementReferences[n]=t},role:"option",tabIndex:"-1","aria-posinset":n+1,"aria-setsize":T.length})})),N&&(0,r.createElement)("li",{className:K+" "+K+"--no-results"},m())),(0,r.createElement)("span",{id:$,style:{display:"none"}},w()))},e}(r.Component);(e.default=p).defaultProps={autoselect:!1,cssNamespace:"autocomplete",defaultValue:"",displayMenu:"inline",minLength:0,name:"input-autocomplete",placeholder:"",onConfirm:function(){},confirmOnBlur:!0,showNoOptionsFound:!0,showAllValues:!1,required:!1,tNoResults:function(){return"No results found"},tAssistiveHint:function(){return"When autocomplete results are available use up and down arrows to review and enter to select.  Touch device users, explore by touch or with swipe gestures."},dropdownArrow:i.default}},function(t,e,n){var r=n(10),o=n(53),i=n(28),s=n(26)("IE_PROTO"),a=function(){},u="prototype",l=function(){var t,e=n(15)("iframe"),r=i.length;for(e.style.display="none",n(54).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;r--;)delete l[u][i[r]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[u]=r(t),n=new a,a[u]=null,n[s]=t):n=l(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(9),o=n(10),i=n(20);t.exports=n(4)?Object.defineProperties:function(t,e){o(t);for(var n,s=i(e),a=s.length,u=0;u<a;)r.f(t,n=s[u++],e[n]);return t}},function(t,e,n){var r=n(1).document;t.exports=r&&r.documentElement},function(t,e,n){"use strict";n(56)("trim",(function(t){return function(){return t(this,3)}}))},function(t,e,n){var r=n(0),o=n(5),i=n(2),s=n(57),a="["+s+"]",u=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$"),c=function(t,e,n){var o={},a=i((function(){return!!s[t]()||""!=""[t]()})),u=o[t]=a?e(p):s[t];n&&(o[n]=u),r(r.P+r.F*a,"String",o)},p=c.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=c},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,n){var r=n(0);r(r.P,"Function",{bind:n(59)})},function(t,e,n){"use strict";var r=n(19),o=n(3),i=n(60),s=[].slice,a={};t.exports=Function.bind||function(t){var e=r(this),n=s.call(arguments,1),u=function(){var r=n.concat(s.call(arguments));return this instanceof u?function(t,e,n){if(!(e in a)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";a[e]=Function("F,a","return new F("+r.join(",")+")")}return a[e](t,n)}(e,r.length,r):i(e,r,t)};return o(e.prototype)&&(u.prototype=e.prototype),u}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){n(62)("match",1,(function(t,e,n){return[function(n){"use strict";var r=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,r):new RegExp(n)[e](String(r))},n]}))},function(t,e,n){"use strict";var r=n(8),o=n(16),i=n(2),s=n(5),a=n(34);t.exports=function(t,e,n){var u=a(t),l=n(s,u,""[t]),c=l[0],p=l[1];i((function(){var e={};return e[u]=function(){return 7},7!=""[t](e)}))&&(o(String.prototype,t,c),r(RegExp.prototype,u,2==e?function(t,e){return p.call(t,this,e)}:function(t){return p.call(t,this)}))}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,n(36);var r=n(6),o=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).state={bump:!1,debounced:!1},e}!function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(e,t);var n=e.prototype;return n.componentWillMount=function(){var t=this;this.debounceStatusUpdate=function(t,e,n){var r;return function(){var o=this,i=arguments,s=function(){r=null,n||t.apply(o,i)},a=n&&!r;clearTimeout(r),r=setTimeout(s,e),a&&t.apply(o,i)}}((function(){if(!t.state.debounced){var e=!t.props.isInFocus||t.props.validChoiceMade;t.setState((function(t){return{bump:!t.bump,debounced:!0,silenced:e}}))}}),1400)},n.componentWillReceiveProps=function(t){t.queryLength,this.setState({debounced:!1})},n.render=function(){var t,e=this.props,n=e.id,o=e.length,i=e.queryLength,s=e.minQueryLength,a=e.selectedOption,u=e.selectedOptionIndex,l=e.tQueryTooShort,c=e.tNoResults,p=e.tSelectedOption,f=e.tResults,h=this.state,d=h.bump,m=h.debounced,v=h.silenced,g=i<s,y=0===o,b=a?p(a,o,u):"";return t=g?l(s):y?c():f(o,b),this.debounceStatusUpdate(),(0,r.createElement)("div",{style:{border:"0",clip:"rect(0 0 0 0)",height:"1px",marginBottom:"-1px",marginRight:"-1px",overflow:"hidden",padding:"0",position:"absolute",whiteSpace:"nowrap",width:"1px"}},(0,r.createElement)("div",{id:n+"__status--A",role:"status","aria-atomic":"true","aria-live":"polite"},!v&&m&&d?t:""),(0,r.createElement)("div",{id:n+"__status--B",role:"status","aria-atomic":"true","aria-live":"polite"},v||!m||d?"":t))},e}(r.Component);(e.default=o).defaultProps={tQueryTooShort:function(t){return"Type in "+t+" or more characters for results"},tNoResults:function(){return"No search results"},tSelectedOption:function(t,e,n){return t+" "+(n+1)+" of "+e+" is highlighted"},tResults:function(t,e){return t+" "+(1===t?"result":"results")+" "+(1===t?"is":"are")+" available. "+e}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(6);e.default=function(t){var e=t.className;return(0,r.createElement)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",className:e,focusable:"false"},(0,r.createElement)("g",{stroke:"none",fill:"none","fill-rule":"evenodd"},(0,r.createElement)("polygon",{fill:"#000000",points:"0 0 22 0 11 17"})))}}]).default})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Sortable=e()}(this,(function(){"use strict";function t(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function e(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(t){var n,o;n=e,t=r[o=t],o in n?Object.defineProperty(n,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[o]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function o(t,e){if(null==t)return{};var n,r=function(t,e){if(null==t)return{};for(var n,r={},o=Object.keys(t),i=0;i<o.length;i++)n=o[i],0<=e.indexOf(n)||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)n=o[i],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n]);return r}function i(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var u=a(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),l=a(/Edge/i),c=a(/firefox/i),p=a(/safari/i)&&!a(/chrome/i)&&!a(/android/i),f=a(/iP(ad|od|hone)/i),h=a(/chrome/i)&&a(/android/i),d={capture:!1,passive:!1};function m(t,e,n){t.addEventListener(e,n,!u&&d)}function v(t,e,n){t.removeEventListener(e,n,!u&&d)}function g(t,e){if(e&&(">"===e[0]&&(e=e.substring(1)),t))try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return}}function y(t,e,n,r){if(t){n=n||document;do{if(null!=e&&(">"!==e[0]||t.parentNode===n)&&g(t,e)||r&&t===n)return t}while(t!==n&&(t=(o=t).host&&o!==document&&o.host.nodeType?o.host:o.parentNode))}var o;return null}var b,w=/\s+/g;function E(t,e,n){var r;t&&e&&(t.classList?t.classList[n?"add":"remove"](e):(r=(" "+t.className+" ").replace(w," ").replace(" "+e+" "," "),t.className=(r+(n?" "+e:"")).replace(w," ")))}function S(t,e,n){var r=t&&t.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];r[e=e in r||-1!==e.indexOf("webkit")?e:"-webkit-"+e]=n+("string"==typeof n?"":"px")}}function x(t,e){var n="";if("string"==typeof t)n=t;else do{var r=S(t,"transform")}while(r&&"none"!==r&&(n=r+" "+n),!e&&(t=t.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function C(t,e,n){if(t){var r=t.getElementsByTagName(e),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function O(){return document.scrollingElement||document.documentElement}function _(t,e,n,r,o){if(t.getBoundingClientRect||t===window){var i,s,a,l,c,p,f=t!==window&&t.parentNode&&t!==O()?(s=(i=t.getBoundingClientRect()).top,a=i.left,l=i.bottom,c=i.right,p=i.height,i.width):(a=s=0,l=window.innerHeight,c=window.innerWidth,p=window.innerHeight,window.innerWidth);if((e||n)&&t!==window&&(o=o||t.parentNode,!u))do{if(o&&o.getBoundingClientRect&&("none"!==S(o,"transform")||n&&"static"!==S(o,"position"))){var h=o.getBoundingClientRect();s-=h.top+parseInt(S(o,"border-top-width")),a-=h.left+parseInt(S(o,"border-left-width")),l=s+i.height,c=a+i.width;break}}while(o=o.parentNode);return r&&t!==window&&(r=(e=x(o||t))&&e.a,t=e&&e.d,e&&(l=(s/=t)+(p/=t),c=(a/=r)+(f/=r))),{top:s,left:a,bottom:l,right:c,width:f,height:p}}}function T(t,e,n){for(var r=L(t,!0),o=_(t)[e];r;){var i=_(r)[n];if(!("top"===n||"left"===n?i<=o:o<=i))return r;if(r===O())break;r=L(r,!1)}return!1}function k(t,e,n,r){for(var o=0,i=0,s=t.children;i<s.length;){if("none"!==s[i].style.display&&s[i]!==Nt.ghost&&(r||s[i]!==Nt.dragged)&&y(s[i],n.draggable,t,!1)){if(o===e)return s[i];o++}i++}return null}function A(t,e){for(var n=t.lastElementChild;n&&(n===Nt.ghost||"none"===S(n,"display")||e&&!g(n,e));)n=n.previousElementSibling;return n||null}function D(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===Nt.clone||e&&!g(t,e)||n++;return n}function P(t){var e=0,n=0,r=O();if(t)do{var o=(i=x(t)).a,i=i.d}while(e+=t.scrollLeft*o,n+=t.scrollTop*i,t!==r&&(t=t.parentNode));return[e,n]}function L(t,e){if(!t||!t.getBoundingClientRect)return O();var n=t,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=S(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return O();if(r||e)return n;r=!0}}}while(n=n.parentNode);return O()}function R(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function F(t,e){return function(){var n;b||(1===(n=arguments).length?t.call(this,n[0]):t.apply(this,n),b=setTimeout((function(){b=void 0}),e))}}function M(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function I(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function N(t,e){S(t,"position","absolute"),S(t,"top",e.top),S(t,"left",e.left),S(t,"width",e.width),S(t,"height",e.height)}function j(t){S(t,"position",""),S(t,"top",""),S(t,"left",""),S(t,"width",""),S(t,"height","")}var H="Sortable"+(new Date).getTime();var q=[],B={initializeByDefault:!0},V={mount:function(t){for(var e in B)!B.hasOwnProperty(e)||e in t||(t[e]=B[e]);q.forEach((function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")})),q.push(t)},pluginEvent:function(t,n,r){var o=this;this.eventCanceled=!1,r.cancel=function(){o.eventCanceled=!0};var i=t+"Global";q.forEach((function(o){n[o.pluginName]&&(n[o.pluginName][i]&&n[o.pluginName][i](e({sortable:n},r)),n.options[o.pluginName]&&n[o.pluginName][t]&&n[o.pluginName][t](e({sortable:n},r)))}))},initializePlugins:function(t,e,n,o){for(var i in q.forEach((function(o){var i=o.pluginName;(t.options[i]||o.initializeByDefault)&&((o=new o(t,e,t.options)).sortable=t,o.options=t.options,t[i]=o,r(n,o.defaults))})),t.options){var s;t.options.hasOwnProperty(i)&&void 0!==(s=this.modifyOption(t,i,t.options[i]))&&(t.options[i]=s)}},getEventProperties:function(t,e){var n={};return q.forEach((function(o){"function"==typeof o.eventProperties&&r(n,o.eventProperties.call(e[o.pluginName],t))})),n},modifyOption:function(t,e,n){var r;return q.forEach((function(o){t[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[e]&&(r=o.optionListeners[e].call(t[o.pluginName],n))})),r}};function U(t){var n=t.sortable,r=t.rootEl,o=t.name,i=t.targetEl,s=t.cloneEl,a=t.toEl,c=t.fromEl,p=t.oldIndex,f=t.newIndex,h=t.oldDraggableIndex,d=t.newDraggableIndex,m=t.originalEvent,v=t.putSortable,g=t.extraEventProperties;if(n=n||r&&r[H]){var y,b=n.options;t="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||u||l?(y=document.createEvent("Event")).initEvent(o,!0,!0):y=new CustomEvent(o,{bubbles:!0,cancelable:!0}),y.to=a||r,y.from=c||r,y.item=i||r,y.clone=s,y.oldIndex=p,y.newIndex=f,y.oldDraggableIndex=h,y.newDraggableIndex=d,y.originalEvent=m,y.pullMode=v?v.lastPutMode:void 0;var w,E=e(e({},g),V.getEventProperties(o,n));for(w in E)y[w]=E[w];r&&r.dispatchEvent(y),b[t]&&b[t].call(n,y)}}function W(t,n){var r=(i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).evt,i=o(i,z);V.pluginEvent.bind(Nt)(t,n,e({dragEl:K,parentEl:G,ghostEl:Y,rootEl:Q,nextEl:$,lastDownEl:J,cloneEl:Z,cloneHidden:tt,dragStarted:ht,putSortable:st,activeSortable:Nt.active,originalEvent:r,oldIndex:et,oldDraggableIndex:rt,newIndex:nt,newDraggableIndex:ot,hideGhostForTarget:Rt,unhideGhostForTarget:Ft,cloneNowHidden:function(){tt=!0},cloneNowShown:function(){tt=!1},dispatchSortableEvent:function(t){X({sortable:n,name:t,originalEvent:r})}},i))}var z=["evt"];function X(t){U(e({putSortable:st,cloneEl:Z,targetEl:K,rootEl:Q,oldIndex:et,oldDraggableIndex:rt,newIndex:nt,newDraggableIndex:ot},t))}var K,G,Y,Q,$,J,Z,tt,et,nt,rt,ot,it,st,at,ut,lt,ct,pt,ft,ht,dt,mt,vt,gt,yt=!1,bt=!1,wt=[],Et=!1,St=!1,xt=[],Ct=!1,Ot=[],_t="undefined"!=typeof document,Tt=f,kt=l||u?"cssFloat":"float",At=_t&&!h&&!f&&"draggable"in document.createElement("div"),Dt=function(){if(_t){if(u)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Pt=function(t,e){var n=S(t),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=k(t,0,e),i=k(t,1,e),s=o&&S(o),a=i&&S(i),u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+_(o).width;t=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+_(i).width;return"flex"===n.display?"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal":"grid"===n.display?n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":o&&s.float&&"none"!==s.float?(e="left"===s.float?"left":"right",!i||"both"!==a.clear&&a.clear!==e?"horizontal":"vertical"):o&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||r<=u&&"none"===n[kt]||i&&"none"===n[kt]&&r<u+t)?"vertical":"horizontal"},Lt=function(t){function e(t,n){return function(r,o,i,s){var a=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;return!(null!=t||!n&&!a)||null!=t&&!1!==t&&(n&&"clone"===t?t:"function"==typeof t?e(t(r,o,i,s),n)(r,o,i,s):(o=(n?r:o).options.group.name,!0===t||"string"==typeof t&&t===o||t.join&&-1<t.indexOf(o)))}}var r={},o=t.group;o&&"object"==n(o)||(o={name:o}),r.name=o.name,r.checkPull=e(o.pull,!0),r.checkPut=e(o.put),r.revertClone=o.revertClone,t.group=r},Rt=function(){!Dt&&Y&&S(Y,"display","none")},Ft=function(){!Dt&&Y&&S(Y,"display","")};function Mt(t){if(K){t=t.touches?t.touches[0]:t;var e=(o=t.clientX,i=t.clientY,wt.some((function(t){if((r=t[H].options.emptyInsertThreshold)&&!A(t)){var e=_(t),n=o>=e.left-r&&o<=e.right+r,r=i>=e.top-r&&i<=e.bottom+r;return n&&r?s=t:void 0}})),s);if(e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);r.target=r.rootEl=e,r.preventDefault=void 0,r.stopPropagation=void 0,e[H]._onDragOver(r)}}var o,i,s}function It(t){K&&K.parentNode[H]._isOutsideThisEl(t.target)}function Nt(t,n){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=n=r({},n),t[H]=this;var o,i,s={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Pt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Nt.supportPointer&&"PointerEvent"in window&&!p,emptyInsertThreshold:5};for(o in V.initializePlugins(this,t,s),s)o in n||(n[o]=s[o]);for(i in Lt(n),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!n.forceFallback&&At,this.nativeDraggable&&(this.options.touchStartThreshold=1),n.supportPointer?m(t,"pointerdown",this._onTapStart):(m(t,"mousedown",this._onTapStart),m(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(m(t,"dragover",this),m(t,"dragenter",this)),wt.push(this.el),n.store&&n.store.get&&this.sort(n.store.get(this)||[]),r(this,function(){var t,n=[];return{captureAnimationState:function(){n=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(t){var r,o;"none"!==S(t,"display")&&t!==Nt.ghost&&(n.push({target:t,rect:_(t)}),r=e({},n[n.length-1].rect),!t.thisAnimationDuration||(o=x(t,!0))&&(r.top-=o.f,r.left-=o.e),t.fromRect=r)}))},addAnimationState:function(t){n.push(t)},removeAnimationState:function(t){n.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n);return-1}(n,{target:t}),1)},animateAll:function(e){var r=this;if(!this.options.animation)return clearTimeout(t),void("function"==typeof e&&e());var o=!1,i=0;n.forEach((function(t){var e=0,n=t.target,s=n.fromRect,a=_(n),u=n.prevFromRect,l=n.prevToRect,c=t.rect,p=x(n,!0);p&&(a.top-=p.f,a.left-=p.e),n.toRect=a,n.thisAnimationDuration&&R(u,a)&&!R(s,a)&&(c.top-a.top)/(c.left-a.left)==(s.top-a.top)/(s.left-a.left)&&(t=c,p=u,u=l,l=r.options,e=Math.sqrt(Math.pow(p.top-t.top,2)+Math.pow(p.left-t.left,2))/Math.sqrt(Math.pow(p.top-u.top,2)+Math.pow(p.left-u.left,2))*l.animation),R(a,s)||(n.prevFromRect=s,n.prevToRect=a,e=e||r.options.animation,r.animate(n,c,a,e)),e&&(o=!0,i=Math.max(i,e),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),e),n.thisAnimationDuration=e)})),clearTimeout(t),o?t=setTimeout((function(){"function"==typeof e&&e()}),i):"function"==typeof e&&e(),n=[]},animate:function(t,e,n,r){var o,i;r&&(S(t,"transition",""),S(t,"transform",""),o=(i=x(this.el))&&i.a,i=i&&i.d,o=(e.left-n.left)/(o||1),i=(e.top-n.top)/(i||1),t.animatingX=!!o,t.animatingY=!!i,S(t,"transform","translate3d("+o+"px,"+i+"px,0)"),this.forRepaintDummy=t.offsetWidth,S(t,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),S(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){S(t,"transition",""),S(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),r))}}}())}function jt(t,e,n,r,o,i,s,a){var c,p,f=t[H],h=f.options.onMove;return!window.CustomEvent||u||l?(c=document.createEvent("Event")).initEvent("move",!0,!0):c=new CustomEvent("move",{bubbles:!0,cancelable:!0}),c.to=e,c.from=t,c.dragged=n,c.draggedRect=r,c.related=o||e,c.relatedRect=i||_(e),c.willInsertAfter=a,c.originalEvent=s,t.dispatchEvent(c),h?h.call(f,c,s):p}function Ht(t){t.draggable=!1}function qt(){Ct=!1}function Bt(t){return setTimeout(t,0)}function Vt(t){return clearTimeout(t)}_t&&!h&&document.addEventListener("click",(function(t){if(bt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),bt=!1}),!0),Nt.prototype={constructor:Nt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(dt=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,K):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,r=this.options,o=r.preventOnFilter,i=t.type,s=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,a=(s||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||a,l=r.filter;if(function(t){Ot.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&Ot.push(r)}}(n),!K&&!(/mousedown|pointerdown/.test(i)&&0!==t.button||r.disabled)&&!u.isContentEditable&&(this.nativeDraggable||!p||!a||"SELECT"!==a.tagName.toUpperCase())&&!((a=y(a,r.draggable,n,!1))&&a.animated||J===a)){if(et=D(a),rt=D(a,r.draggable),"function"==typeof l){if(l.call(this,t,a,this))return X({sortable:e,rootEl:u,name:"filter",targetEl:a,toEl:n,fromEl:n}),W("filter",e,{evt:t}),void(o&&t.cancelable&&t.preventDefault())}else if(l=l&&l.split(",").some((function(r){if(r=y(u,r.trim(),n,!1))return X({sortable:e,rootEl:r,name:"filter",targetEl:a,fromEl:n,toEl:n}),W("filter",e,{evt:t}),!0})))return void(o&&t.cancelable&&t.preventDefault());r.handle&&!y(u,r.handle,n,!1)||this._prepareDragStart(t,s,a)}}},_prepareDragStart:function(t,e,n){var r,o=this,i=o.el,s=o.options,a=i.ownerDocument;n&&!K&&n.parentNode===i&&(r=_(n),Q=i,G=(K=n).parentNode,$=K.nextSibling,J=n,it=s.group,at={target:Nt.dragged=K,clientX:(e||t).clientX,clientY:(e||t).clientY},pt=at.clientX-r.left,ft=at.clientY-r.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,K.style["will-change"]="all",r=function(){W("delayEnded",o,{evt:t}),Nt.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!c&&o.nativeDraggable&&(K.draggable=!0),o._triggerDragStart(t,e),X({sortable:o,name:"choose",originalEvent:t}),E(K,s.chosenClass,!0))},s.ignore.split(",").forEach((function(t){C(K,t.trim(),Ht)})),m(a,"dragover",Mt),m(a,"mousemove",Mt),m(a,"touchmove",Mt),m(a,"mouseup",o._onDrop),m(a,"touchend",o._onDrop),m(a,"touchcancel",o._onDrop),c&&this.nativeDraggable&&(this.options.touchStartThreshold=4,K.draggable=!0),W("delayStart",this,{evt:t}),!s.delay||s.delayOnTouchOnly&&!e||this.nativeDraggable&&(l||u)?r():Nt.eventCanceled?this._onDrop():(m(a,"mouseup",o._disableDelayedDrag),m(a,"touchend",o._disableDelayedDrag),m(a,"touchcancel",o._disableDelayedDrag),m(a,"mousemove",o._delayedDragTouchMoveHandler),m(a,"touchmove",o._delayedDragTouchMoveHandler),s.supportPointer&&m(a,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(r,s.delay)))},_delayedDragTouchMoveHandler:function(t){t=t.touches?t.touches[0]:t,Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){K&&Ht(K),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;v(t,"mouseup",this._disableDelayedDrag),v(t,"touchend",this._disableDelayedDrag),v(t,"touchcancel",this._disableDelayedDrag),v(t,"mousemove",this._delayedDragTouchMoveHandler),v(t,"touchmove",this._delayedDragTouchMoveHandler),v(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?m(document,"pointermove",this._onTouchMove):m(document,e?"touchmove":"mousemove",this._onTouchMove):(m(K,"dragend",this),m(Q,"dragstart",this._onDragStart));try{document.selection?Bt((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){var n;yt=!1,Q&&K?(W("dragStarted",this,{evt:e}),this.nativeDraggable&&m(document,"dragover",It),n=this.options,t||E(K,n.dragClass,!1),E(K,n.ghostClass,!0),Nt.active=this,t&&this._appendGhost(),X({sortable:this,name:"start",originalEvent:e})):this._nulling()},_emulateDragOver:function(){if(ut){this._lastX=ut.clientX,this._lastY=ut.clientY,Rt();for(var t=document.elementFromPoint(ut.clientX,ut.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(ut.clientX,ut.clientY))!==e;)e=t;if(K.parentNode[H]._isOutsideThisEl(t),e)do{if(e[H]&&e[H]._onDragOver({clientX:ut.clientX,clientY:ut.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}while(e=(t=e).parentNode);Ft()}},_onTouchMove:function(t){if(at){var e=(a=this.options).fallbackTolerance,n=a.fallbackOffset,r=t.touches?t.touches[0]:t,o=Y&&x(Y,!0),i=Y&&o&&o.a,s=Y&&o&&o.d,a=Tt&&gt&&P(gt);i=(r.clientX-at.clientX+n.x)/(i||1)+(a?a[0]-xt[0]:0)/(i||1),s=(r.clientY-at.clientY+n.y)/(s||1)+(a?a[1]-xt[1]:0)/(s||1);if(!Nt.active&&!yt){if(e&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<e)return;this._onDragStart(t,!0)}Y&&(o?(o.e+=i-(lt||0),o.f+=s-(ct||0)):o={a:1,b:0,c:0,d:1,e:i,f:s},o="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")"),S(Y,"webkitTransform",o),S(Y,"mozTransform",o),S(Y,"msTransform",o),S(Y,"transform",o),lt=i,ct=s,ut=r),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Y){var t=this.options.fallbackOnBody?document.body:Q,e=_(K,!0,Tt,!0,t),n=this.options;if(Tt){for(gt=t;"static"===S(gt,"position")&&"none"===S(gt,"transform")&&gt!==document;)gt=gt.parentNode;gt!==document.body&&gt!==document.documentElement?(gt===document&&(gt=O()),e.top+=gt.scrollTop,e.left+=gt.scrollLeft):gt=O(),xt=P(gt)}E(Y=K.cloneNode(!0),n.ghostClass,!1),E(Y,n.fallbackClass,!0),E(Y,n.dragClass,!0),S(Y,"transition",""),S(Y,"transform",""),S(Y,"box-sizing","border-box"),S(Y,"margin",0),S(Y,"top",e.top),S(Y,"left",e.left),S(Y,"width",e.width),S(Y,"height",e.height),S(Y,"opacity","0.8"),S(Y,"position",Tt?"absolute":"fixed"),S(Y,"zIndex","100000"),S(Y,"pointerEvents","none"),Nt.ghost=Y,t.appendChild(Y),S(Y,"transform-origin",pt/parseInt(Y.style.width)*100+"% "+ft/parseInt(Y.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,r=t.dataTransfer,o=n.options;W("dragStart",this,{evt:t}),Nt.eventCanceled?this._onDrop():(W("setupClone",this),Nt.eventCanceled||((Z=I(K)).removeAttribute("id"),Z.draggable=!1,Z.style["will-change"]="",this._hideClone(),E(Z,this.options.chosenClass,!1),Nt.clone=Z),n.cloneId=Bt((function(){W("clone",n),Nt.eventCanceled||(n.options.removeCloneOnHide||Q.insertBefore(Z,K),n._hideClone(),X({sortable:n,name:"clone"}))})),e||E(K,o.dragClass,!0),e?(bt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(v(document,"mouseup",n._onDrop),v(document,"touchend",n._onDrop),v(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,K)),m(document,"drop",n),S(K,"transform","translateZ(0)")),yt=!0,n._dragStartId=Bt(n._dragStarted.bind(n,e,t)),m(document,"selectstart",n),ht=!0,p&&S(document.body,"user-select","none"))},_onDragOver:function(t){var n,r,o,i,s=this.el,a=t.target,u=this.options,l=u.group,c=Nt.active,p=it===l,f=u.sort,h=st||c,d=this,m=!1;if(!Ct){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),a=y(a,u.draggable,s,!0),I("dragOver"),Nt.eventCanceled)return m;if(K.contains(t.target)||a.animated&&a.animatingX&&a.animatingY||d._ignoreWhileAnimating===a)return j(!1);if(bt=!1,c&&!u.disabled&&(p?f||(r=G!==Q):st===this||(this.lastPutMode=it.checkPull(this,c,K,t))&&l.checkPut(this,c,K,t))){if(o="vertical"===this._getDirection(t,a),n=_(K),I("dragOverValid"),Nt.eventCanceled)return m;if(r)return G=Q,N(),this._hideClone(),I("revert"),Nt.eventCanceled||($?Q.insertBefore(K,$):Q.appendChild(K)),j(!0);if(!(w=A(s,u.draggable))||function(t,e,n){return n=_(A(n.el,n.options.draggable)),e?t.clientX>n.right+10||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+10}(t,o,this)&&!w.animated){if(w===K)return j(!1);if((a=w&&s===t.target?w:a)&&(x=_(a)),!1!==jt(Q,s,K,n,a,x,t,!!a))return N(),w&&w.nextSibling?s.insertBefore(K,w.nextSibling):s.appendChild(K),G=s,q(),j(!0)}else if(w&&function(t,e,n){return n=_(k(n.el,0,n.options,!0)),e?t.clientX<n.left-10||t.clientY<n.top&&t.clientX<n.right:t.clientY<n.top-10||t.clientY<n.bottom&&t.clientX<n.left}(t,o,this)){if((L=k(s,0,u,!0))===K)return j(!1);if(x=_(a=L),!1!==jt(Q,s,K,n,a,x,t,!1))return N(),s.insertBefore(K,L),G=s,q(),j(!0)}else if(a.parentNode===s){var v,g,b,w,x=_(a),C=K.parentNode!==s,O=(O=K.animated&&K.toRect||n,F=a.animated&&a.toRect||x,P=(i=o)?O.left:O.top,l=i?O.right:O.bottom,w=i?O.width:O.height,L=i?F.left:F.top,O=i?F.right:F.bottom,F=i?F.width:F.height,!(P===L||l===O||P+w/2===L+F/2)),P=o?"top":"left",L=(w=T(a,"top","top")||T(K,"top","top"))?w.scrollTop:void 0;if(dt!==a&&(g=x[P],Et=!1,St=!O&&u.invertSwap||C),0!==(v=function(t,e,n,r,o,i,s,a){var u=r?t.clientY:t.clientX,l=r?n.height:n.width;t=r?n.top:n.left,r=r?n.bottom:n.right,n=!1;if(!s)if(a&&vt<l*o){if(Et=!Et&&(1===mt?t+l*i/2<u:u<r-l*i/2)||Et)n=!0;else if(1===mt?u<t+vt:r-vt<u)return-mt}else if(t+l*(1-o)/2<u&&u<r-l*(1-o)/2)return function(t){return D(K)<D(t)?1:-1}(e);return(n=n||s)&&(u<t+l*i/2||r-l*i/2<u)?t+l/2<u?1:-1:0}(t,a,x,o,O?1:u.swapThreshold,null==u.invertedSwapThreshold?u.swapThreshold:u.invertedSwapThreshold,St,dt===a)))for(var R=D(K);(b=G.children[R-=v])&&("none"===S(b,"display")||b===Y););if(0===v||b===a)return j(!1);mt=v;var F=(dt=a).nextElementSibling;C=!1;if(!1!==(O=jt(Q,s,K,n,a,x,t,C=1===v)))return 1!==O&&-1!==O||(C=1===O),Ct=!0,setTimeout(qt,30),N(),C&&!F?s.appendChild(K):a.parentNode.insertBefore(K,C?F:a),w&&M(w,0,L-w.scrollTop),G=K.parentNode,void 0===g||St||(vt=Math.abs(g-_(a)[P])),q(),j(!0)}if(s.contains(K))return j(!1)}return!1}function I(i,u){W(i,d,e({evt:t,isOwner:p,axis:o?"vertical":"horizontal",revert:r,dragRect:n,targetRect:x,canSort:f,fromSortable:h,target:a,completed:j,onMove:function(e,r){return jt(Q,s,K,n,e,_(e),t,r)},changed:q},u))}function N(){I("dragOverAnimationCapture"),d.captureAnimationState(),d!==h&&h.captureAnimationState()}function j(e){return I("dragOverCompleted",{insertion:e}),e&&(p?c._hideClone():c._showClone(d),d!==h&&(E(K,(st||c).options.ghostClass,!1),E(K,u.ghostClass,!0)),st!==d&&d!==Nt.active?st=d:d===Nt.active&&st&&(st=null),h===d&&(d._ignoreWhileAnimating=a),d.animateAll((function(){I("dragOverAnimationComplete"),d._ignoreWhileAnimating=null})),d!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(a===K&&!K.animated||a===s&&!a.animated)&&(dt=null),u.dragoverBubble||t.rootEl||a===document||(K.parentNode[H]._isOutsideThisEl(t.target),e||Mt(t)),!u.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),m=!0}function q(){nt=D(K),ot=D(K,u.draggable),X({sortable:d,name:"change",toEl:s,newIndex:nt,newDraggableIndex:ot,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){v(document,"mousemove",this._onTouchMove),v(document,"touchmove",this._onTouchMove),v(document,"pointermove",this._onTouchMove),v(document,"dragover",Mt),v(document,"mousemove",Mt),v(document,"touchmove",Mt)},_offUpEvents:function(){var t=this.el.ownerDocument;v(t,"mouseup",this._onDrop),v(t,"touchend",this._onDrop),v(t,"pointerup",this._onDrop),v(t,"touchcancel",this._onDrop),v(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;nt=D(K),ot=D(K,n.draggable),W("drop",this,{evt:t}),G=K&&K.parentNode,nt=D(K),ot=D(K,n.draggable),Nt.eventCanceled||(Et=St=yt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Vt(this.cloneId),Vt(this._dragStartId),this.nativeDraggable&&(v(document,"drop",this),v(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),p&&S(document.body,"user-select",""),S(K,"transform",""),t&&(ht&&(t.cancelable&&t.preventDefault(),n.dropBubble||t.stopPropagation()),Y&&Y.parentNode&&Y.parentNode.removeChild(Y),(Q===G||st&&"clone"!==st.lastPutMode)&&Z&&Z.parentNode&&Z.parentNode.removeChild(Z),K&&(this.nativeDraggable&&v(K,"dragend",this),Ht(K),K.style["will-change"]="",ht&&!yt&&E(K,(st||this).options.ghostClass,!1),E(K,this.options.chosenClass,!1),X({sortable:this,name:"unchoose",toEl:G,newIndex:null,newDraggableIndex:null,originalEvent:t}),Q!==G?(0<=nt&&(X({rootEl:G,name:"add",toEl:G,fromEl:Q,originalEvent:t}),X({sortable:this,name:"remove",toEl:G,originalEvent:t}),X({rootEl:G,name:"sort",toEl:G,fromEl:Q,originalEvent:t}),X({sortable:this,name:"sort",toEl:G,originalEvent:t})),st&&st.save()):nt!==et&&0<=nt&&(X({sortable:this,name:"update",toEl:G,originalEvent:t}),X({sortable:this,name:"sort",toEl:G,originalEvent:t})),Nt.active&&(null!=nt&&-1!==nt||(nt=et,ot=rt),X({sortable:this,name:"end",toEl:G,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){W("nulling",this),Q=K=G=Y=$=Z=J=tt=at=ut=ht=nt=ot=et=rt=dt=mt=st=it=Nt.dragged=Nt.ghost=Nt.clone=Nt.active=null,Ot.forEach((function(t){t.checked=!0})),Ot.length=lt=ct=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":K&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)y(t=n[r],i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||function(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}(t));return e},sort:function(t,e){var n={},r=this.el;this.toArray().forEach((function(t,e){y(e=r.children[e],this.options.draggable,r,!1)&&(n[t]=e)}),this),e&&this.captureAnimationState(),t.forEach((function(t){n[t]&&(r.removeChild(n[t]),r.appendChild(n[t]))})),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return y(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var r=V.modifyOption(this,t,e);n[t]=void 0!==r?r:e,"group"===t&&Lt(n)},destroy:function(){W("destroy",this);var t=this.el;t[H]=null,v(t,"mousedown",this._onTapStart),v(t,"touchstart",this._onTapStart),v(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(v(t,"dragover",this),v(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),wt.splice(wt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){tt||(W("hideClone",this),Nt.eventCanceled||(S(Z,"display","none"),this.options.removeCloneOnHide&&Z.parentNode&&Z.parentNode.removeChild(Z),tt=!0))},_showClone:function(t){"clone"===t.lastPutMode?tt&&(W("showClone",this),Nt.eventCanceled||(K.parentNode!=Q||this.options.group.revertClone?$?Q.insertBefore(Z,$):Q.appendChild(Z):Q.insertBefore(Z,K),this.options.group.revertClone&&this.animate(K,Z),S(Z,"display",""),tt=!1)):this._hideClone()}},_t&&m(document,"touchmove",(function(t){(Nt.active||yt)&&t.cancelable&&t.preventDefault()})),Nt.utils={on:m,off:v,css:S,find:C,is:function(t,e){return!!y(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:F,closest:y,toggleClass:E,clone:I,index:D,nextTick:Bt,cancelNextTick:Vt,detectDirection:Pt,getChild:k},Nt.get=function(t){return t[H]},Nt.mount=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(n=n[0].constructor===Array?n[0]:n).forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(Nt.utils=e(e({},Nt.utils),t.utils)),V.mount(t)}))},Nt.create=function(t,e){return new Nt(t,e)};var Ut,Wt,zt,Xt,Kt,Gt,Yt=[],Qt=!(Nt.version="1.15.0");function $t(){Yt.forEach((function(t){clearInterval(t.pid)})),Yt=[]}function Jt(){clearInterval(Gt)}var Zt,te=F((function(t,e,n,r){if(e.scroll){var o,i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,u=e.scrollSpeed,l=O(),c=!1;Wt!==n&&(Wt=n,$t(),Ut=e.scroll,o=e.scrollFn,!0===Ut&&(Ut=L(n,!0)));var p=0,f=Ut;do{var h=f,d=(k=_(h)).top,m=k.bottom,v=k.left,g=k.right,y=k.width,b=k.height,w=void 0,E=h.scrollWidth,x=h.scrollHeight,C=S(h),T=h.scrollLeft,k=h.scrollTop,A=h===l?(w=y<E&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),b<x&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(w=y<E&&("auto"===C.overflowX||"scroll"===C.overflowX),b<x&&("auto"===C.overflowY||"scroll"===C.overflowY));T=w&&(Math.abs(g-i)<=a&&T+y<E)-(Math.abs(v-i)<=a&&!!T),k=A&&(Math.abs(m-s)<=a&&k+b<x)-(Math.abs(d-s)<=a&&!!k);if(!Yt[p])for(var D=0;D<=p;D++)Yt[D]||(Yt[D]={});Yt[p].vx==T&&Yt[p].vy==k&&Yt[p].el===h||(Yt[p].el=h,Yt[p].vx=T,Yt[p].vy=k,clearInterval(Yt[p].pid),0==T&&0==k||(c=!0,Yt[p].pid=setInterval(function(){r&&0===this.layer&&Nt.active._onTouchMove(Kt);var e=Yt[this.layer].vy?Yt[this.layer].vy*u:0,n=Yt[this.layer].vx?Yt[this.layer].vx*u:0;"function"==typeof o&&"continue"!==o.call(Nt.dragged.parentNode[H],n,e,t,Kt,Yt[this.layer].el)||M(Yt[this.layer].el,n,e)}.bind({layer:p}),24))),p++}while(e.bubbleScroll&&f!==l&&(f=L(f,!1)));Qt=c}}),30);h=function(t){var e=t.originalEvent,n=t.putSortable,r=t.dragEl,o=t.activeSortable,i=t.dispatchSortableEvent,s=t.hideGhostForTarget;t=t.unhideGhostForTarget;e&&(o=n||o,s(),e=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,e=document.elementFromPoint(e.clientX,e.clientY),t(),o&&!o.el.contains(e)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n})))};function ee(){}function ne(){}ee.prototype={startIndex:null,dragStart:function(t){t=t.oldDraggableIndex,this.startIndex=t},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState(),(t=k(this.sortable.el,this.startIndex,this.options))?this.sortable.el.insertBefore(e,t):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:h},r(ee,{pluginName:"revertOnSpill"}),ne.prototype={onSpill:function(t){var e=t.dragEl;(t=t.putSortable||this.sortable).captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),t.animateAll()},drop:h},r(ne,{pluginName:"removeOnSpill"});var re,oe,ie,se,ae,ue=[],le=[],ce=!1,pe=!1,fe=!1;function he(t,e){le.forEach((function(n,r){(r=e.children[n.sortableIndex+(t?Number(r):0)])?e.insertBefore(n,r):e.appendChild(n)}))}function de(){ue.forEach((function(t){t!==ie&&t.parentNode&&t.parentNode.removeChild(t)}))}return Nt.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){t=t.originalEvent,this.sortable.nativeDraggable?m(document,"dragover",this._handleAutoScroll):this.options.supportPointer?m(document,"pointermove",this._handleFallbackAutoScroll):t.touches?m(document,"touchmove",this._handleFallbackAutoScroll):m(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){t=t.originalEvent,this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):(v(document,"pointermove",this._handleFallbackAutoScroll),v(document,"touchmove",this._handleFallbackAutoScroll),v(document,"mousemove",this._handleFallbackAutoScroll)),Jt(),$t(),clearTimeout(b),b=void 0},nulling:function(){Kt=Wt=Ut=Qt=Gt=zt=Xt=null,Yt.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n,r=this,o=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,s=document.elementFromPoint(o,i);Kt=t,e||this.options.forceAutoScrollFallback||l||u||p?(te(t,this.options,s,e),n=L(s,!0),!Qt||Gt&&o===zt&&i===Xt||(Gt&&Jt(),Gt=setInterval((function(){var s=L(document.elementFromPoint(o,i),!0);s!==n&&(n=s,$t()),te(t,r.options,s,e)}),10),zt=o,Xt=i)):this.options.bubbleScroll&&L(s,!0)!==O()?te(t,this.options,L(s,!1),!1):$t()}},r(t,{pluginName:"scroll",initializeByDefault:!0})}),Nt.mount(ne,ee),Nt.mount(new function(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(t){t=t.dragEl,Zt=t},dragOverValid:function(t){var e=t.completed,n=t.target,r=t.onMove,o=t.activeSortable,i=t.changed,s=t.cancel;o.options.swap&&(t=this.sortable.el,o=this.options,n&&n!==t&&(t=Zt,Zt=!1!==r(n)?(E(n,o.swapClass,!0),n):null,t&&t!==Zt&&E(t,o.swapClass,!1)),i(),e(!0),s())},drop:function(t){var e,n,r=t.activeSortable,o=t.putSortable,i=t.dragEl,s=o||this.sortable,a=this.options;Zt&&E(Zt,a.swapClass,!1),Zt&&(a.swap||o&&o.options.swap)&&i!==Zt&&(s.captureAnimationState(),s!==r&&r.captureAnimationState(),n=Zt,t=(e=i).parentNode,a=n.parentNode,t&&a&&!t.isEqualNode(n)&&!a.isEqualNode(e)&&(o=D(e),i=D(n),t.isEqualNode(a)&&o<i&&i++,t.insertBefore(n,t.children[o]),a.insertBefore(e,a.children[i])),s.animateAll(),s!==r&&r.animateAll())},nulling:function(){Zt=null}},r(t,{pluginName:"swap",eventProperties:function(){return{swapItem:Zt}}})}),Nt.mount(new function(){function t(t){for(var e in this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this));t.options.avoidImplicitDeselect||(t.options.supportPointer?m(document,"pointerup",this._deselectMultiDrag):(m(document,"mouseup",this._deselectMultiDrag),m(document,"touchend",this._deselectMultiDrag))),m(document,"keydown",this._checkKeyDown),m(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(e,n){var r="";ue.length&&oe===t?ue.forEach((function(t,e){r+=(e?", ":"")+t.textContent})):r=n.textContent,e.setData("Text",r)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){t=t.dragEl,ie=t},delayEnded:function(){this.isMultiDrag=~ue.indexOf(ie)},setupClone:function(t){var e=t.sortable;t=t.cancel;if(this.isMultiDrag){for(var n=0;n<ue.length;n++)le.push(I(ue[n])),le[n].sortableIndex=ue[n].sortableIndex,le[n].draggable=!1,le[n].style["will-change"]="",E(le[n],this.options.selectedClass,!1),ue[n]===ie&&E(le[n],this.options.chosenClass,!1);e._hideClone(),t()}},clone:function(t){var e=t.sortable,n=t.rootEl,r=t.dispatchSortableEvent;t=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ue.length&&oe===e&&(he(!0,n),r("clone"),t()))},showClone:function(t){var e=t.cloneNowShown,n=t.rootEl;t=t.cancel;this.isMultiDrag&&(he(!1,n),le.forEach((function(t){S(t,"display","")})),e(),ae=!1,t())},hideClone:function(t){var e=this,n=(t.sortable,t.cloneNowHidden);t=t.cancel;this.isMultiDrag&&(le.forEach((function(t){S(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)})),n(),ae=!0,t())},dragStartGlobal:function(t){t.sortable,!this.isMultiDrag&&oe&&oe.multiDrag._deselectMultiDrag(),ue.forEach((function(t){t.sortableIndex=D(t)})),ue=ue.sort((function(t,e){return t.sortableIndex-e.sortableIndex})),fe=!0},dragStarted:function(t){var e,n=this;t=t.sortable;this.isMultiDrag&&(this.options.sort&&(t.captureAnimationState(),this.options.animation&&(ue.forEach((function(t){t!==ie&&S(t,"position","absolute")})),e=_(ie,!1,!0,!0),ue.forEach((function(t){t!==ie&&N(t,e)})),ce=pe=!0)),t.animateAll((function(){ce=pe=!1,n.options.animation&&ue.forEach((function(t){j(t)})),n.options.sort&&de()})))},dragOver:function(t){var e=t.target,n=t.completed;t=t.cancel;pe&&~ue.indexOf(e)&&(n(!1),t())},revert:function(t){var e,n,r=t.fromSortable,o=t.rootEl,i=t.sortable,s=t.dragRect;1<ue.length&&(ue.forEach((function(t){i.addAnimationState({target:t,rect:pe?_(t):s}),j(t),t.fromRect=s,r.removeAnimationState(t)})),pe=!1,e=!this.options.removeCloneOnHide,n=o,ue.forEach((function(t,r){(r=n.children[t.sortableIndex+(e?Number(r):0)])?n.insertBefore(t,r):n.appendChild(t)})))},dragOverCompleted:function(t){var e,n=t.sortable,r=t.isOwner,o=t.insertion,i=t.activeSortable,s=t.parentEl,a=t.putSortable;t=this.options;o&&(r&&i._hideClone(),ce=!1,t.animation&&1<ue.length&&(pe||!r&&!i.options.sort&&!a)&&(e=_(ie,!1,!0,!0),ue.forEach((function(t){t!==ie&&(N(t,e),s.appendChild(t))})),pe=!0),r||(pe||de(),1<ue.length?(r=ae,i._showClone(n),i.options.animation&&!ae&&r&&le.forEach((function(t){i.addAnimationState({target:t,rect:se}),t.fromRect=se,t.thisAnimationDuration=null}))):i._showClone(n)))},dragOverAnimationCapture:function(t){var e=t.dragRect,n=t.isOwner;t=t.activeSortable;ue.forEach((function(t){t.thisAnimationDuration=null})),t.options.animation&&!n&&t.multiDrag.isMultiDrag&&(se=r({},e),e=x(ie,!0),se.top-=e.f,se.left-=e.e)},dragOverAnimationComplete:function(){pe&&(pe=!1,de())},drop:function(t){var e=t.originalEvent,n=t.rootEl,r=t.parentEl,o=t.sortable,i=t.dispatchSortableEvent,s=t.oldIndex,a=t.putSortable,u=a||this.sortable;if(e){var l,c,p,f=this.options,h=r.children;if(!fe)if(f.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),E(ie,f.selectedClass,!~ue.indexOf(ie)),~ue.indexOf(ie))ue.splice(ue.indexOf(ie),1),re=null,U({sortable:o,rootEl:n,name:"deselect",targetEl:ie,originalEvent:e});else{if(ue.push(ie),U({sortable:o,rootEl:n,name:"select",targetEl:ie,originalEvent:e}),e.shiftKey&&re&&o.el.contains(re)){var d=D(re);t=D(ie);if(~d&&~t&&d!==t)for(var m,v=d<t?(m=d,t):(m=t,d+1);m<v;m++)~ue.indexOf(h[m])||(E(h[m],f.selectedClass,!0),ue.push(h[m]),U({sortable:o,rootEl:n,name:"select",targetEl:h[m],originalEvent:e}))}else re=ie;oe=u}fe&&this.isMultiDrag&&(pe=!1,(r[H].options.sort||r!==n)&&1<ue.length&&(l=_(ie),c=D(ie,":not(."+this.options.selectedClass+")"),!ce&&f.animation&&(ie.thisAnimationDuration=null),u.captureAnimationState(),ce||(f.animation&&(ie.fromRect=l,ue.forEach((function(t){var e;t.thisAnimationDuration=null,t!==ie&&(e=pe?_(t):l,t.fromRect=e,u.addAnimationState({target:t,rect:e}))}))),de(),ue.forEach((function(t){h[c]?r.insertBefore(t,h[c]):r.appendChild(t),c++})),s===D(ie)&&(p=!1,ue.forEach((function(t){t.sortableIndex!==D(t)&&(p=!0)})),p&&i("update"))),ue.forEach((function(t){j(t)})),u.animateAll()),oe=u),(n===r||a&&"clone"!==a.lastPutMode)&&le.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)}))}},nullingGlobal:function(){this.isMultiDrag=fe=!1,le.length=0},destroyGlobal:function(){this._deselectMultiDrag(),v(document,"pointerup",this._deselectMultiDrag),v(document,"mouseup",this._deselectMultiDrag),v(document,"touchend",this._deselectMultiDrag),v(document,"keydown",this._checkKeyDown),v(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(void 0!==fe&&fe||oe!==this.sortable||t&&y(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;ue.length;){var e=ue[0];E(e,this.options.selectedClass,!1),ue.shift(),U({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvent:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},r(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[H];e&&e.options.multiDrag&&!~ue.indexOf(t)&&(oe&&oe!==e&&(oe.multiDrag._deselectMultiDrag(),oe=e),E(t,e.options.selectedClass,!0),ue.push(t))},deselect:function(t){var e=t.parentNode[H],n=ue.indexOf(t);e&&e.options.multiDrag&&~n&&(E(t,e.options.selectedClass,!1),ue.splice(n,1))}},eventProperties:function(){var t=this,e=[],n=[];return ue.forEach((function(r){var o;e.push({multiDragElement:r,index:r.sortableIndex}),o=pe&&r!==ie?-1:pe?D(r,":not(."+t.options.selectedClass+")"):D(r),n.push({multiDragElement:r,index:o})})),{items:i(ue),clones:[].concat(le),oldIndicies:e,newIndicies:n}},optionListeners:{multiDragKey:function(t){return"ctrl"===(t=t.toLowerCase())?t="Control":1<t.length&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}),Nt})),up.motion.config.enabled=!1,up.compiler("[data-sortable]",(function(t){var e=t.getAttribute("data-sortable"),n=document.getElementById(e),r=t.getElementsByTagName("tbody")[0];t.sortable=Sortable.create(r,{hande:".handle",animation:150,swapThreshold:.65}),up.on(r,"end",(function(t){n.requestSubmit()}))})),up.compiler(".sort-table",(function(t,e){new SortableTable(t,e)})),up.compiler("#bookings_date",(function(t){var e=document.getElementById("chosen_date"),n=document.getElementById("bookings_date");e.addEventListener("change",(function(t){n.submit()}))})),up.compiler("[ldap-settings]",(function(t){function e(){for(var t=up.Params.fromForm("#ldap_settings").toArray(),e=0;e<t.length;e++){t[e].name;var n="[ldap-test] [name='"+t[e].name+"']",r=up.element.get(n);r&&up.element.setAttrs(r,{value:t[e].value})}}e(),up.observe(t,{batch:!0},(function(t){e()}))})),up.compiler(".session-calendars.mode-nav",(function(t,e){up.on(t,"click",".nav-btn",(function(t,e){var n=e.closest(".session-calendar"),r=null;switch(e.getAttribute("data-dir")){case"prev":r=n.previousElementSibling;break;case"next":r=n.nextElementSibling}r.removeAttribute("hidden"),n.setAttribute("hidden","")}))})),up.compiler(".session-calendars.mode-config",(function(t,e){for(var n=[],r=[],o=e&&e.weeks?e.weeks.length:0,i=0;i<o;i++){var s=parseInt(e.weeks[i],10);className="week-"+s,n.push(s),r.push(className)}n.push(null),up.on(t,"click",".date-btn",(function(e,o){var i=o.closest(".date-cell"),s=i.getAttribute("data-weekstart"),a=i.getAttribute("data-weekid"),u=a?""+a:null,l=n.indexOf(parseInt(u,10)),c=(n.length,n[(l+1)%n.length]),p=up.element.all(t,'.date-cell[data-weekstart="'+s+'"]');up.util.each(p,(function(t){for(var e=0;e<r.length;e++)t.classList.remove(r[e]);null!==c&&t.classList.add("week-"+c),up.element.get(t,"input[type=hidden]").value=c,t.setAttribute("data-weekid",c)}))}))})),up.compiler(".up-datepicker",(function(t){up.on(t,"click",(function(t,e,n){if(n.input)return displayDatePicker(n.input,!1)}))})),up.compiler("#bookings_controls_day",(function(t){up.on(t,"change",".up-datepicker-input",(function(e,n,r){t.submit(),up.emit(t,"submit")}))})),up.compiler("#bookings_controls_room",(function(t){up.on(t,"change","select[name=room]",(function(e,n,r){t.submit()}))})),up.compiler("#bookings_controls_session",(function(t){up.on(t,"change","select[name=session_id]",(function(e,n,r){t.submit()}))})),up.compiler("[up-copy-to]",(function(t){up.on(t,"click",(function(t,e,n){var r=e.getAttribute("up-copy-to"),o=up.element.get('[up-copy-group="'+r+'"]').value,i=up.element.all('[up-copy-group="'+r+'"]');up.util.each(i,(function(t){t.value=o}))}))})),up.compiler("select[up-autocomplete]",(function(t){accessibleAutocomplete.enhanceSelectElement({selectElement:t,displayMenu:"overlay",dropdownArrow:function(t){return'<svg xmlns="http://www.w3.org/2000/svg" focusable="false" class="autocomplete__dropdown-arrow-down h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />'}})})),up.compiler("[up-remove-row]",(function(t){up.on(t,"click",(function(t,e,n){t.preventDefault();var r=e.closest("tr");up.element.remove(r)}))})),up.macro(".bookings-grid-button[up-content]",(function(t){t.setAttribute("up-position",getPopupAlignment(t))})),htmx.on("toast",(function(t){t.detail.type&&(console.log(t.detail),doToast(t.detail.type.toLowerCase(),t.detail.text,t.detail.time?t.detail.time:null))}));
